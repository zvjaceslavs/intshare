<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
  <version>5.0</version>
  <date>2021-10-19T20:34:33Z</date>
  <groups>
    <group>
      <name>Templates</name>
    </group>
  </groups>
  <templates>
    <template>
      <template>Template NetScaler</template>
      <name>Template NetScaler</name>
      <groups>
        <group>
          <name>Templates</name>
        </group>
      </groups>
      <applications>
        <application>
          <name>NetScaler Interfaces</name>
        </application>
        <application>
          <name>NetScaler Main</name>
        </application>
        <application>
          <name>NetScaler Services</name>
        </application>
        <application>
          <name>NetScaler SNMP Traps</name>
        </application>
        <application>
          <name>NetScaler vServers</name>
        </application>
      </applications>
      <items>
        <item>
          <name>haCurState</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.5951.4.1.1.23.24.0</snmp_oid>
          <key>haCurState</key>
          <delay>120</delay>
          <history>60d</history>
          <description>State of the node, based on its health, in a high availability setup. Possible values are: UP  Indicates that the node is accessible and can function as either a primary or secondary node. DISABLED  Indicates that the high availability status of the node has been manually disabled. Synchronization and propagation cannot take place between the peer nodes. INIT  Indicates that the node is in the process of becoming part of the high availability configuration. PARTIALFAIL  Indicates that one of the high availability monitored interfaces has failed because of a card or link failure. This state triggers a failover. COMPLETEFAIL  Indicates that all the interfaces of the node are unusable, because the interfaces on which high availability monitoring is enabled are not connected or are manually disabled. This state triggers a failover. DUMB  Indicates that the node is in listening mode. It does not participate in high availability transitions or transfer configuration from the peer node. This is a configured value, not a statistic. PARTIALFAILSSL  Indicates that the SSL card has failed. This state triggers a failover. ROUTEMONITORFAIL  Indicates that the route monitor has failed. This state triggers a failover.</description>
          <applications>
            <application>
              <name>NetScaler Main</name>
            </application>
          </applications>
          <valuemap>
            <name>Netscaler haCurState</name>
          </valuemap>
        </item>
        <item>
          <name>haCurStatus</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.5951.4.1.1.23.23.0</snmp_oid>
          <key>haCurStatus</key>
          <delay>900</delay>
          <history>60d</history>
          <description>Indicates whether a NetScaler is set up for high availability. Possible values are YES and NO. If the value is NO, the high availability statistics below are invalid.</description>
          <applications>
            <application>
              <name>NetScaler Main</name>
            </application>
          </applications>
          <valuemap>
            <name>Netscaler haCurStatus</name>
          </valuemap>
        </item>
        <item>
          <name>haErrSyncFailure</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.5951.4.1.1.23.7.0</snmp_oid>
          <key>haErrSyncFailure</key>
          <delay>120</delay>
          <history>60d</history>
          <description>Number of times the configuration of the primary and secondary nodes failed to synchronize since that last transition. A synchronization failure results in mismatched configuration. It can be caused by a mismatch in the Remote Procedural Call (RPC) password on the two nodes forming the high availability pair.</description>
          <applications>
            <application>
              <name>NetScaler Main</name>
            </application>
          </applications>
        </item>
        <item>
          <name>haLastMasterStateTransitionReason</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.5951.4.1.1.23.15.0</snmp_oid>
          <key>haLastMasterStateTransitionReason</key>
          <delay>120</delay>
          <history>60d</history>
          <trends>0</trends>
          <value_type>CHAR</value_type>
          <description>The reason for the last master state transition. This gives the conditions under which this node assumed the current state. The current state is available at the oid sysHighAvailabilityMode.0</description>
          <applications>
            <application>
              <name>NetScaler Main</name>
            </application>
          </applications>
        </item>
        <item>
          <name>haPeerState</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.5951.4.1.1.23.3.0</snmp_oid>
          <key>haPeerState</key>
          <delay>120</delay>
          <history>60d</history>
          <trends>180d</trends>
          <description>This represents the state of the failover peer NetScaler whether Primary or Secondary</description>
          <applications>
            <application>
              <name>NetScaler Main</name>
            </application>
          </applications>
          <valuemap>
            <name>Netscaler haPeerState</name>
          </valuemap>
        </item>
        <item>
          <name>haTimeofLastStateTransition</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.5951.4.1.1.23.5.0</snmp_oid>
          <key>haTimeofLastStateTransition</key>
          <delay>120</delay>
          <history>60d</history>
          <units>uptime</units>
          <description>This represents the time since the NetScaler underwent a state change from primary to secondary or vice-versa</description>
          <applications>
            <application>
              <name>NetScaler Main</name>
            </application>
          </applications>
          <preprocessing>
            <step>
              <type>MULTIPLIER</type>
              <params>0.01</params>
            </step>
          </preprocessing>
        </item>
        <item>
          <name>httpTot11Requests</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.5951.4.1.1.48.68.0</snmp_oid>
          <key>httpTot11Requests</key>
          <delay>300</delay>
          <history>60d</history>
          <trends>180d</trends>
          <applications>
            <application>
              <name>NetScaler Main</name>
            </application>
          </applications>
          <preprocessing>
            <step>
              <type>CHANGE_PER_SECOND</type>
              <params></params>
            </step>
          </preprocessing>
        </item>
        <item>
          <name>httpTot11Responses</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.5951.4.1.1.48.69.0</snmp_oid>
          <key>httpTot11Responses</key>
          <delay>300</delay>
          <history>60d</history>
          <trends>180d</trends>
          <applications>
            <application>
              <name>NetScaler Main</name>
            </application>
          </applications>
          <preprocessing>
            <step>
              <type>CHANGE_PER_SECOND</type>
              <params></params>
            </step>
          </preprocessing>
        </item>
        <item>
          <name>httpTotRequests</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.5951.4.1.1.48.67.0</snmp_oid>
          <key>httpTotRequests</key>
          <delay>300</delay>
          <history>60d</history>
          <trends>180d</trends>
          <applications>
            <application>
              <name>NetScaler Main</name>
            </application>
          </applications>
          <preprocessing>
            <step>
              <type>CHANGE_PER_SECOND</type>
              <params></params>
            </step>
          </preprocessing>
        </item>
        <item>
          <name>memSizeMB</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.5951.4.1.1.41.4.0</snmp_oid>
          <key>memSizeMB</key>
          <delay>3600</delay>
          <history>60d</history>
          <trends>180d</trends>
          <units>Mb</units>
          <applications>
            <application>
              <name>NetScaler Main</name>
            </application>
          </applications>
        </item>
        <item>
          <name>numCPUs</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.5951.4.1.1.41.3.0</snmp_oid>
          <key>numCPUs</key>
          <delay>3600</delay>
          <history>60d</history>
          <trends>180d</trends>
          <applications>
            <application>
              <name>NetScaler Main</name>
            </application>
          </applications>
        </item>
        <item>
          <name>resCpuUsage</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.5951.4.1.1.41.1.0</snmp_oid>
          <key>resCpuUsage</key>
          <delay>300</delay>
          <history>60d</history>
          <trends>180d</trends>
          <units>%</units>
          <applications>
            <application>
              <name>NetScaler Main</name>
            </application>
          </applications>
        </item>
        <item>
          <name>resMemUsage</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.5951.4.1.1.41.2.0</snmp_oid>
          <key>resMemUsage</key>
          <delay>300</delay>
          <history>60d</history>
          <trends>180d</trends>
          <units>%</units>
          <applications>
            <application>
              <name>NetScaler Main</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Generic SNMP Trap</name>
          <type>SNMP_TRAP</type>
          <key>snmptrap.fallback</key>
          <delay>0</delay>
          <history>30d</history>
          <trends>0</trends>
          <value_type>LOG</value_type>
          <applications>
            <application>
              <name>NetScaler SNMP Traps</name>
            </application>
          </applications>
          <logtimefmt>hh:mm:ss yyyy/MM/dd</logtimefmt>
        </item>
        <item>
          <name>SNMP authenticationFailure trap</name>
          <type>SNMP_TRAP</type>
          <key>snmptrap[authenticationFailure]</key>
          <delay>0</delay>
          <history>30d</history>
          <trends>0</trends>
          <value_type>LOG</value_type>
          <applications>
            <application>
              <name>NetScaler SNMP Traps</name>
            </application>
          </applications>
          <logtimefmt>hh:mm:ss yyyy/MM/dd</logtimefmt>
        </item>
        <item>
          <name>UpTime</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.2.1.1.3.0</snmp_oid>
          <key>sysUpTime</key>
          <delay>600</delay>
          <history>60d</history>
          <trends>180d</trends>
          <units>uptime</units>
          <applications>
            <application>
              <name>NetScaler Main</name>
            </application>
          </applications>
          <preprocessing>
            <step>
              <type>MULTIPLIER</type>
              <params>0.01</params>
            </step>
          </preprocessing>
          <triggers>
            <trigger>
              <expression>{change(0)}&lt;0</expression>
              <name>{HOST.NAME} has just been restarted</name>
              <priority>HIGH</priority>
            </trigger>
          </triggers>
        </item>
        <item>
          <name>tcpActiveServerConn</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.5951.4.1.1.46.8.0</snmp_oid>
          <key>tcpActiveServerConn</key>
          <delay>300</delay>
          <history>60d</history>
          <trends>180d</trends>
          <description>Connections to a server currently responding to requests.</description>
          <applications>
            <application>
              <name>NetScaler Main</name>
            </application>
          </applications>
        </item>
      </items>
      <discovery_rules>
        <discovery_rule>
          <name>Interfaces</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.5951.4.1.1.54.1.1]</snmp_oid>
          <key>snmp.interfaces.discovery</key>
          <delay>900</delay>
          <item_prototypes>
            <item_prototype>
              <name>Interface {#SNMPVALUE} received bytes</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.5951.4.1.1.54.1.3.{#SNMPINDEX}</snmp_oid>
              <key>r_bytes.[{#SNMPVALUE}]</key>
              <delay>300</delay>
              <history>30d</history>
              <trends>180d</trends>
              <units>bps</units>
              <applications>
                <application>
                  <name>NetScaler Interfaces</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Interface {#SNMPVALUE} received packets</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.5951.4.1.1.54.1.5.{#SNMPINDEX}</snmp_oid>
              <key>r_pks.[{#SNMPVALUE}]</key>
              <delay>300</delay>
              <history>30d</history>
              <trends>180d</trends>
              <units>pps</units>
              <applications>
                <application>
                  <name>NetScaler Interfaces</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Interface {#SNMPVALUE} type</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.5951.4.1.1.54.1.2.{#SNMPINDEX}</snmp_oid>
              <key>type.[{#SNMPVALUE}]</key>
              <delay>3600</delay>
              <history>30d</history>
              <trends>0</trends>
              <value_type>CHAR</value_type>
              <applications>
                <application>
                  <name>NetScaler Interfaces</name>
                </application>
              </applications>
            </item_prototype>
            <item_prototype>
              <name>Interface {#SNMPVALUE} transmitted bytes</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.5951.4.1.1.54.1.7.{#SNMPINDEX}</snmp_oid>
              <key>t_bytes.[{#SNMPVALUE}]</key>
              <delay>300</delay>
              <history>30d</history>
              <trends>180d</trends>
              <units>bps</units>
              <applications>
                <application>
                  <name>NetScaler Interfaces</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Interface {#SNMPVALUE} transmitted packets</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.5951.4.1.1.54.1.9.{#SNMPINDEX}</snmp_oid>
              <key>t_pks.[{#SNMPVALUE}]</key>
              <delay>300</delay>
              <history>30d</history>
              <trends>180d</trends>
              <units>pps</units>
              <applications>
                <application>
                  <name>NetScaler Interfaces</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
              </preprocessing>
            </item_prototype>
          </item_prototypes>
          <graph_prototypes>
            <graph_prototype>
              <name>Interface {#SNMPVALUE} bytes</name>
              <graph_items>
                <graph_item>
                  <drawtype>FILLED_REGION</drawtype>
                  <color>00CC00</color>
                  <item>
                    <host>Template NetScaler</host>
                    <key>r_bytes.[{#SNMPVALUE}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>1</sortorder>
                  <drawtype>BOLD_LINE</drawtype>
                  <color>0000CC</color>
                  <item>
                    <host>Template NetScaler</host>
                    <key>t_bytes.[{#SNMPVALUE}]</key>
                  </item>
                </graph_item>
              </graph_items>
            </graph_prototype>
            <graph_prototype>
              <name>Interface {#SNMPVALUE} packets</name>
              <graph_items>
                <graph_item>
                  <drawtype>FILLED_REGION</drawtype>
                  <color>00CC00</color>
                  <item>
                    <host>Template NetScaler</host>
                    <key>r_pks.[{#SNMPVALUE}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>1</sortorder>
                  <drawtype>BOLD_LINE</drawtype>
                  <color>0000CC</color>
                  <item>
                    <host>Template NetScaler</host>
                    <key>t_pks.[{#SNMPVALUE}]</key>
                  </item>
                </graph_item>
              </graph_items>
            </graph_prototype>
          </graph_prototypes>
        </discovery_rule>
        <discovery_rule>
          <name>Services</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.5951.4.1.2.1.1.1]</snmp_oid>
          <key>snmp.services.discovery</key>
          <delay>900</delay>
          <item_prototypes>
            <item_prototype>
              <name>Service {#SNMPVALUE} Act conn</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.5951.4.1.2.1.1.9.{#SNMPINDEX}</snmp_oid>
              <key>service.actconn.[{#SNMPVALUE}]</key>
              <delay>300</delay>
              <history>30d</history>
              <trends>180d</trends>
              <applications>
                <application>
                  <name>NetScaler Services</name>
                </application>
              </applications>
            </item_prototype>
            <item_prototype>
              <name>Service {#SNMPVALUE} Est conn</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.5951.4.1.2.1.1.8.{#SNMPINDEX}</snmp_oid>
              <key>service.estconn.[{#SNMPVALUE}]</key>
              <delay>300</delay>
              <history>30d</history>
              <trends>180d</trends>
              <applications>
                <application>
                  <name>NetScaler Services</name>
                </application>
              </applications>
            </item_prototype>
            <item_prototype>
              <name>Service {#SNMPVALUE} IP</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.5951.4.1.2.1.1.2.{#SNMPINDEX}</snmp_oid>
              <key>service.ip.[{#SNMPVALUE}]</key>
              <delay>3600</delay>
              <history>30d</history>
              <trends>0</trends>
              <value_type>CHAR</value_type>
              <applications>
                <application>
                  <name>NetScaler Services</name>
                </application>
              </applications>
            </item_prototype>
            <item_prototype>
              <name>Service {#SNMPVALUE} port</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.5951.4.1.2.1.1.3.{#SNMPINDEX}</snmp_oid>
              <key>service.port.[{#SNMPVALUE}]</key>
              <delay>3600</delay>
              <history>30d</history>
              <trends>180d</trends>
              <applications>
                <application>
                  <name>NetScaler Services</name>
                </application>
              </applications>
            </item_prototype>
            <item_prototype>
              <name>Service {#SNMPVALUE} Total req</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.5951.4.1.2.1.1.30.{#SNMPINDEX}</snmp_oid>
              <key>service.totreq.[{#SNMPVALUE}]</key>
              <delay>300</delay>
              <history>30d</history>
              <trends>180d</trends>
              <applications>
                <application>
                  <name>NetScaler Services</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Service {#SNMPVALUE} Total req bytes</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.5951.4.1.2.1.1.31.{#SNMPINDEX}</snmp_oid>
              <key>service.totreqb.[{#SNMPVALUE}]</key>
              <delay>300</delay>
              <history>30d</history>
              <trends>180d</trends>
              <units>bps</units>
              <applications>
                <application>
                  <name>NetScaler Services</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Service {#SNMPVALUE} Total resp</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.5951.4.1.2.1.1.32.{#SNMPINDEX}</snmp_oid>
              <key>service.totresp.[{#SNMPVALUE}]</key>
              <delay>300</delay>
              <history>30d</history>
              <trends>180d</trends>
              <applications>
                <application>
                  <name>NetScaler Services</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Service {#SNMPVALUE} Total resp bytes</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.5951.4.1.2.1.1.33.{#SNMPINDEX}</snmp_oid>
              <key>service.totrespb.[{#SNMPVALUE}]</key>
              <delay>300</delay>
              <history>30d</history>
              <trends>180d</trends>
              <units>bps</units>
              <applications>
                <application>
                  <name>NetScaler Services</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Service {#SNMPVALUE} Total recvd pkts</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.5951.4.1.2.1.1.34.{#SNMPINDEX}</snmp_oid>
              <key>service.totresvdpkts.[{#SNMPVALUE}]</key>
              <delay>300</delay>
              <history>30d</history>
              <trends>180d</trends>
              <units>pps</units>
              <applications>
                <application>
                  <name>NetScaler Services</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Service {#SNMPVALUE} Total sent pkts</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.5951.4.1.2.1.1.35.{#SNMPINDEX}</snmp_oid>
              <key>service.totrsentpkts.[{#SNMPVALUE}]</key>
              <delay>300</delay>
              <history>30d</history>
              <trends>180d</trends>
              <units>pps</units>
              <applications>
                <application>
                  <name>NetScaler Services</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
              </preprocessing>
            </item_prototype>
          </item_prototypes>
          <graph_prototypes>
            <graph_prototype>
              <name>Service {#SNMPVALUE} bytes</name>
              <graph_items>
                <graph_item>
                  <drawtype>FILLED_REGION</drawtype>
                  <color>00CC00</color>
                  <item>
                    <host>Template NetScaler</host>
                    <key>service.totreqb.[{#SNMPVALUE}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>1</sortorder>
                  <drawtype>BOLD_LINE</drawtype>
                  <color>0000BB</color>
                  <item>
                    <host>Template NetScaler</host>
                    <key>service.totrespb.[{#SNMPVALUE}]</key>
                  </item>
                </graph_item>
              </graph_items>
            </graph_prototype>
            <graph_prototype>
              <name>Service {#SNMPVALUE} packets</name>
              <graph_items>
                <graph_item>
                  <drawtype>FILLED_REGION</drawtype>
                  <color>00BB00</color>
                  <item>
                    <host>Template NetScaler</host>
                    <key>service.totresvdpkts.[{#SNMPVALUE}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>1</sortorder>
                  <drawtype>BOLD_LINE</drawtype>
                  <color>0000BB</color>
                  <item>
                    <host>Template NetScaler</host>
                    <key>service.totrsentpkts.[{#SNMPVALUE}]</key>
                  </item>
                </graph_item>
              </graph_items>
            </graph_prototype>
            <graph_prototype>
              <name>Service {#SNMPVALUE} Requests - Responses</name>
              <graph_items>
                <graph_item>
                  <color>00BB00</color>
                  <item>
                    <host>Template NetScaler</host>
                    <key>service.totreq.[{#SNMPVALUE}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>1</sortorder>
                  <color>0000CC</color>
                  <item>
                    <host>Template NetScaler</host>
                    <key>service.totresp.[{#SNMPVALUE}]</key>
                  </item>
                </graph_item>
              </graph_items>
            </graph_prototype>
          </graph_prototypes>
        </discovery_rule>
        <discovery_rule>
          <name>Vservers</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.5951.4.1.3.1.1.59]</snmp_oid>
          <key>snmp.vservers.discovery</key>
          <delay>900</delay>
          <item_prototypes>
            <item_prototype>
              <name>Vserver {#SNMPVALUE} Client Connections</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.5951.4.1.3.1.1.7.{#SNMPINDEX}</snmp_oid>
              <key>vsvr.cl_conn.[{#SNMPVALUE}]</key>
              <delay>120</delay>
              <applications>
                <application>
                  <name>NetScaler vServers</name>
                </application>
              </applications>
            </item_prototype>
            <item_prototype>
              <name>Vserver {#SNMPVALUE} Health</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.5951.4.1.3.1.1.62.{#SNMPINDEX}</snmp_oid>
              <key>vsvr.health.[{#SNMPVALUE}]</key>
              <delay>120</delay>
              <units>pct</units>
              <applications>
                <application>
                  <name>NetScaler vServers</name>
                </application>
              </applications>
            </item_prototype>
            <item_prototype>
              <name>Vserver {#SNMPVALUE} Server Connections</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.5951.4.1.3.1.1.8.{#SNMPINDEX}</snmp_oid>
              <key>vsvr.sr_conn.[{#SNMPVALUE}]</key>
              <delay>120</delay>
              <applications>
                <application>
                  <name>NetScaler vServers</name>
                </application>
              </applications>
            </item_prototype>
            <item_prototype>
              <name>Vserver {#SNMPVALUE} State</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.5951.4.1.3.1.1.5.{#SNMPINDEX}</snmp_oid>
              <key>vsvr.state.[{#SNMPVALUE}]</key>
              <delay>120</delay>
              <applications>
                <application>
                  <name>NetScaler vServers</name>
                </application>
              </applications>
              <valuemap>
                <name>Netscaler vServer State</name>
              </valuemap>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()}&lt;>7</expression>
                  <name>vServer {#SNMPVALUE} state: {ITEM.VALUE}</name>
                  <priority>HIGH</priority>
                  <description>L'état du vserver n'est pas "up".</description>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
            <item_prototype>
              <name>Vserver {#SNMPVALUE} Total Clients</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.5951.4.1.3.1.1.56.{#SNMPINDEX}</snmp_oid>
              <key>vsvr.TotalClients.[{#SNMPVALUE}]</key>
              <delay>120</delay>
              <trends>180d</trends>
              <description>The total number of established client connections.</description>
              <applications>
                <application>
                  <name>NetScaler vServers</name>
                </application>
              </applications>
            </item_prototype>
            <item_prototype>
              <name>Vserver {#SNMPVALUE} Total Servers</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.5951.4.1.3.1.1.65.{#SNMPINDEX}</snmp_oid>
              <key>vsvr.TotalServers.[{#SNMPVALUE}]</key>
              <delay>120</delay>
              <description>The total number of established server connections.</description>
              <applications>
                <application>
                  <name>NetScaler vServers</name>
                </application>
              </applications>
            </item_prototype>
            <item_prototype>
              <name>Vserver {#SNMPVALUE} vsvrCurServicesDown</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.5951.4.1.3.1.1.37.{#SNMPINDEX}</snmp_oid>
              <key>vsvr.vsvrCurServicesDown.[{#SNMPVALUE}]</key>
              <delay>120</delay>
              <applications>
                <application>
                  <name>NetScaler vServers</name>
                </application>
              </applications>
            </item_prototype>
            <item_prototype>
              <name>Vserver {#SNMPVALUE} vsvrCurServicesOutOfSvc</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.5951.4.1.3.1.1.39.{#SNMPINDEX}</snmp_oid>
              <key>vsvr.vsvrCurServicesOutOfSvc.[{#SNMPVALUE}]</key>
              <delay>120</delay>
              <applications>
                <application>
                  <name>NetScaler vServers</name>
                </application>
              </applications>
            </item_prototype>
            <item_prototype>
              <name>Vserver {#SNMPVALUE} vsvrCurServicesTransToOutOfSvc</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.5951.4.1.3.1.1.40.{#SNMPINDEX}</snmp_oid>
              <key>vsvr.vsvrCurServicesTransToOutOfSvc.[{#SNMPVALUE}]</key>
              <delay>120</delay>
              <applications>
                <application>
                  <name>NetScaler vServers</name>
                </application>
              </applications>
            </item_prototype>
            <item_prototype>
              <name>Vserver {#SNMPVALUE} vsvrCurServicesUnKnown</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.5951.4.1.3.1.1.38.{#SNMPINDEX}</snmp_oid>
              <key>vsvr.vsvrCurServicesUnKnown.[{#SNMPVALUE}]</key>
              <delay>120</delay>
              <applications>
                <application>
                  <name>NetScaler vServers</name>
                </application>
              </applications>
            </item_prototype>
            <item_prototype>
              <name>Vserver {#SNMPVALUE} vsvrCurServicesUp</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.5951.4.1.3.1.1.41.{#SNMPINDEX}</snmp_oid>
              <key>vsvr.vsvrCurServicesUp.[{#SNMPVALUE}]</key>
              <delay>120</delay>
              <applications>
                <application>
                  <name>NetScaler vServers</name>
                </application>
              </applications>
            </item_prototype>
            <item_prototype>
              <name>Vserver {#SNMPVALUE} RxBytesRate</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.5951.4.1.3.1.1.44.{#SNMPINDEX}</snmp_oid>
              <key>vsvr.vsvrRxBytesRate.[{#SNMPVALUE}]</key>
              <delay>120</delay>
              <trends>180d</trends>
              <units>bps</units>
              <description>The total number of established client connections.</description>
              <applications>
                <application>
                  <name>NetScaler vServers</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>8</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Vserver {#SNMPVALUE} TxBytesRate</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.5951.4.1.3.1.1.45.{#SNMPINDEX}</snmp_oid>
              <key>vsvr.vsvrTxBytesRate.[{#SNMPVALUE}]</key>
              <delay>120</delay>
              <trends>180d</trends>
              <units>bps</units>
              <description>This represents the response rate in bytes per second for this service/vserver.</description>
              <applications>
                <application>
                  <name>NetScaler vServers</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>8</params>
                </step>
              </preprocessing>
            </item_prototype>
          </item_prototypes>
          <trigger_prototypes>
            <trigger_prototype>
              <expression>{Template NetScaler:vsvr.health.[{#SNMPVALUE}].last()}&lt;100 and {Template NetScaler:vsvr.health.[{#SNMPVALUE}].last()}>0 and ({Template NetScaler:vsvr.vsvrCurServicesDown.[{#SNMPVALUE}].last()} + {Template NetScaler:vsvr.vsvrCurServicesOutOfSvc.[{#SNMPVALUE}].last()} + {Template NetScaler:vsvr.vsvrCurServicesTransToOutOfSvc.[{#SNMPVALUE}].last()} + {Template NetScaler:vsvr.vsvrCurServicesUnKnown.[{#SNMPVALUE}].last()} + {Template NetScaler:vsvr.vsvrCurServicesUp.[{#SNMPVALUE}].last()})>0</expression>
              <name>vServer {#SNMPVALUE} services are degraded: {ITEM.VALUE1}</name>
              <priority>AVERAGE</priority>
              <description>Le vserver a des services associés mais tous ne répondent pas.</description>
            </trigger_prototype>
            <trigger_prototype>
              <expression>{Template NetScaler:vsvr.health.[{#SNMPVALUE}].last()}=0 and ({Template NetScaler:vsvr.vsvrCurServicesDown.[{#SNMPVALUE}].last()} + {Template NetScaler:vsvr.vsvrCurServicesOutOfSvc.[{#SNMPVALUE}].last()} + {Template NetScaler:vsvr.vsvrCurServicesTransToOutOfSvc.[{#SNMPVALUE}].last()} + {Template NetScaler:vsvr.vsvrCurServicesUnKnown.[{#SNMPVALUE}].last()} + {Template NetScaler:vsvr.vsvrCurServicesUp.[{#SNMPVALUE}].last()})>0</expression>
              <name>vServer {#SNMPVALUE} services are down</name>
              <priority>HIGH</priority>
              <description>Tous les services associés au vserver sont inactifs.</description>
            </trigger_prototype>
          </trigger_prototypes>
          <graph_prototypes>
            <graph_prototype>
              <name>vServer {#SNMPVALUE} connections</name>
              <graph_items>
                <graph_item>
                  <drawtype>GRADIENT_LINE</drawtype>
                  <color>00C800</color>
                  <item>
                    <host>Template NetScaler</host>
                    <key>vsvr.cl_conn.[{#SNMPVALUE}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>1</sortorder>
                  <color>0000C8</color>
                  <item>
                    <host>Template NetScaler</host>
                    <key>vsvr.sr_conn.[{#SNMPVALUE}]</key>
                  </item>
                </graph_item>
              </graph_items>
            </graph_prototype>
            <graph_prototype>
              <name>vServer {#SNMPVALUE} traffic rate</name>
              <graph_items>
                <graph_item>
                  <drawtype>GRADIENT_LINE</drawtype>
                  <color>00C800</color>
                  <item>
                    <host>Template NetScaler</host>
                    <key>vsvr.vsvrTxBytesRate.[{#SNMPVALUE}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>1</sortorder>
                  <color>EE0000</color>
                  <item>
                    <host>Template NetScaler</host>
                    <key>vsvr.vsvrRxBytesRate.[{#SNMPVALUE}]</key>
                  </item>
                </graph_item>
              </graph_items>
            </graph_prototype>
          </graph_prototypes>
        </discovery_rule>
      </discovery_rules>
    </template>
  </templates>
  <triggers>
    <trigger>
      <expression>{Template NetScaler:haCurStatus.last()}=1 and {Template NetScaler:haTimeofLastStateTransition.last()}&lt;3600</expression>
      <name>Netscaler has failovered {ITEM.VALUE2} ago</name>
      <priority>AVERAGE</priority>
    </trigger>
    <trigger>
      <expression>{Template NetScaler:haCurStatus.last()}=1 and {Template NetScaler:haCurState.last()}&lt;>3</expression>
      <name>Netscaler HA State is not Up</name>
      <priority>HIGH</priority>
    </trigger>
    <trigger>
      <expression>{Template NetScaler:haCurStatus.last()}=1 and {Template NetScaler:haErrSyncFailure.diff(1h)}=1</expression>
      <name>Netscaler HA sync error</name>
      <priority>AVERAGE</priority>
    </trigger>
  </triggers>
  <graphs>
    <graph>
      <name>NetScaler Connection</name>
      <graph_items>
        <graph_item>
          <color>C80000</color>
          <item>
            <host>Template NetScaler</host>
            <key>tcpActiveServerConn</key>
          </item>
        </graph_item>
      </graph_items>
    </graph>
    <graph>
      <name>NetScaler CPU Usage</name>
      <type>STACKED</type>
      <graph_items>
        <graph_item>
          <color>00C800</color>
          <item>
            <host>Template NetScaler</host>
            <key>resCpuUsage</key>
          </item>
        </graph_item>
      </graph_items>
    </graph>
    <graph>
      <name>NetScaler Memory Usage</name>
      <type>STACKED</type>
      <graph_items>
        <graph_item>
          <color>00BB00</color>
          <item>
            <host>Template NetScaler</host>
            <key>resMemUsage</key>
          </item>
        </graph_item>
      </graph_items>
    </graph>
    <graph>
      <name>NetScaler Requests</name>
      <graph_items>
        <graph_item>
          <drawtype>BOLD_LINE</drawtype>
          <color>CC0000</color>
          <item>
            <host>Template NetScaler</host>
            <key>httpTotRequests</key>
          </item>
        </graph_item>
        <graph_item>
          <sortorder>1</sortorder>
          <color>0000CC</color>
          <item>
            <host>Template NetScaler</host>
            <key>httpTot11Requests</key>
          </item>
        </graph_item>
        <graph_item>
          <sortorder>2</sortorder>
          <color>00C800</color>
          <item>
            <host>Template NetScaler</host>
            <key>httpTot11Responses</key>
          </item>
        </graph_item>
      </graph_items>
    </graph>
  </graphs>
  <value_maps>
    <value_map>
      <name>Netscaler haCurState</name>
      <mappings>
        <mapping>
          <value>3</value>
          <newvalue>Up</newvalue>
        </mapping>
      </mappings>
    </value_map>
    <value_map>
      <name>Netscaler haCurStatus</name>
      <mappings>
        <mapping>
          <value>0</value>
          <newvalue>No</newvalue>
        </mapping>
        <mapping>
          <value>1</value>
          <newvalue>Yes</newvalue>
        </mapping>
        <mapping>
          <value>2</value>
          <newvalue>No</newvalue>
        </mapping>
      </mappings>
    </value_map>
    <value_map>
      <name>Netscaler haPeerState</name>
      <mappings>
        <mapping>
          <value>1</value>
          <newvalue>Secondary</newvalue>
        </mapping>
        <mapping>
          <value>2</value>
          <newvalue>Primary</newvalue>
        </mapping>
      </mappings>
    </value_map>
    <value_map>
      <name>Netscaler vServer State</name>
      <mappings>
        <mapping>
          <value>0</value>
          <newvalue>unknown</newvalue>
        </mapping>
        <mapping>
          <value>1</value>
          <newvalue>down</newvalue>
        </mapping>
        <mapping>
          <value>2</value>
          <newvalue>unknown</newvalue>
        </mapping>
        <mapping>
          <value>3</value>
          <newvalue>busy</newvalue>
        </mapping>
        <mapping>
          <value>4</value>
          <newvalue>out of service</newvalue>
        </mapping>
        <mapping>
          <value>5</value>
          <newvalue>transition to out of service</newvalue>
        </mapping>
        <mapping>
          <value>7</value>
          <newvalue>up</newvalue>
        </mapping>
      </mappings>
    </value_map>
  </value_maps>
</zabbix_export>