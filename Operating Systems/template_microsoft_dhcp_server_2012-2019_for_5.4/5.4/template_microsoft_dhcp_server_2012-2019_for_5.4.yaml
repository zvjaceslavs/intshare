zabbix_export:
  version: '5.4'
  date: '2021-10-19T20:41:34Z'
  groups:
    -
      uuid: ba1a121ba61b4855827b96ffb1cdfa6f
      name: 'Servers Microsoft/DHCP'
  templates:
    -
      uuid: 2979f674222a49aebd5e344b7ce1cc6a
      template: 'APP Discovery DHCP scopes'
      name: 'APP Discovery DHCP scopes'
      description: 'Created by Dušan Priechodský edited by Edson Freitas'
      groups:
        -
          name: 'Servers Microsoft/DHCP'
      discovery_rules:
        -
          uuid: d6b587151af649e9a3d3a64506f475d6
          name: 'DHCP Scopes'
          key: DHCPv4LLD
          delay: 1h
          item_prototypes:
            -
              uuid: 2f605e1d8f7c4e44821d31428ee77b49
              name: 'DHCP Scope {#SSCOPENAME} -> {#SCOPENAME} [{#SCOPENETWORK}] - Addresses Free On Partner Server'
              type: DEPENDENT
              key: 'DHCPv4ScopeStats.AddressesFreeOnPartnerServer[{#SCOPENETWORK}]'
              delay: '0'
              history: 30d
              trends: '0'
              value_type: TEXT
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.AddressesFreeOnPartnerServer
                -
                  type: STR_REPLACE
                  parameters:
                    - 'null'
                    - '0'
              master_item:
                key: 'DHCPv4ScopeStats[{#SCOPENETWORK}]'
              tags:
                -
                  tag: Application
                  value: 'DHCP Server'
            -
              uuid: aaaac08a678043f48ae4711a5fef33c5
              name: 'DHCP Scope {#SSCOPENAME} -> {#SCOPENAME} [{#SCOPENETWORK}] - Addresses Free On This Server'
              type: DEPENDENT
              key: 'DHCPv4ScopeStats.AddressesFreeOnThisServer[{#SCOPENETWORK}]'
              delay: '0'
              history: 30d
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.AddressesFreeOnThisServer
                -
                  type: STR_REPLACE
                  parameters:
                    - 'null'
                    - '0'
              master_item:
                key: 'DHCPv4ScopeStats[{#SCOPENETWORK}]'
              tags:
                -
                  tag: Application
                  value: 'DHCP Server'
            -
              uuid: afa4ffbc1c11490a9672c0530a45511c
              name: 'DHCP Scope {#SSCOPENAME} -> {#SCOPENAME} [{#SCOPENETWORK}] - AddressesFree'
              type: DEPENDENT
              key: 'DHCPv4ScopeStats.AddressesFree[{#SCOPENETWORK}]'
              delay: '0'
              history: 30d
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.AddressesFree
              master_item:
                key: 'DHCPv4ScopeStats[{#SCOPENETWORK}]'
              tags:
                -
                  tag: Application
                  value: 'DHCP Server'
            -
              uuid: 10601b1bba8344b1812ac2d173c7365d
              name: 'DHCP Scope {#SSCOPENAME} -> {#SCOPENAME} [{#SCOPENETWORK}] - Addresses In Use On Partner Server'
              type: DEPENDENT
              key: 'DHCPv4ScopeStats.AddressesInUseOnPartnerServer[{#SCOPENETWORK}]'
              delay: '0'
              history: 30d
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.AddressesInUseOnPartnerServer
                -
                  type: STR_REPLACE
                  parameters:
                    - 'null'
                    - '0'
              master_item:
                key: 'DHCPv4ScopeStats[{#SCOPENETWORK}]'
              tags:
                -
                  tag: Application
                  value: 'DHCP Server'
            -
              uuid: 9586c6acf9474555aef0132b741b531c
              name: 'DHCP Scope {#SSCOPENAME} -> {#SCOPENAME} [{#SCOPENETWORK}] - Addresses In Use On This Server'
              type: DEPENDENT
              key: 'DHCPv4ScopeStats.AddressesInUseOnThisServer[{#SCOPENETWORK}]'
              delay: '0'
              history: 30d
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.AddressesInUseOnThisServer
                -
                  type: STR_REPLACE
                  parameters:
                    - 'null'
                    - '0'
              master_item:
                key: 'DHCPv4ScopeStats[{#SCOPENETWORK}]'
              tags:
                -
                  tag: Application
                  value: 'DHCP Server'
            -
              uuid: 3f906f9ee4a441f484930dd821366695
              name: 'DHCP Scope {#SSCOPENAME} -> {#SCOPENAME} [{#SCOPENETWORK}] - All Free IP (except the excluded and reserved)'
              type: CALCULATED
              key: 'DHCPv4ScopeStats.Allip[{#SCOPENETWORK}]'
              history: 30d
              params: 'last(//DHCPv4ScopeStats.Free[{#SCOPENETWORK}])+last(//DHCPv4ScopeStats.InUse[{#SCOPENETWORK}])'
              tags:
                -
                  tag: Application
                  value: 'DHCP Server'
            -
              uuid: c558b5526b054022aa4106522451db56
              name: 'DHCP Scope {#SSCOPENAME} -> {#SCOPENAME} [{#SCOPENETWORK}] - Free'
              type: DEPENDENT
              key: 'DHCPv4ScopeStats.Free[{#SCOPENETWORK}]'
              delay: '0'
              history: 30d
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.Free
              master_item:
                key: 'DHCPv4ScopeStats[{#SCOPENETWORK}]'
              tags:
                -
                  tag: Application
                  value: 'DHCP Server'
            -
              uuid: 3e9a44b2eb3f466aaf9a6ec732b2654d
              name: 'DHCP Scope {#SSCOPENAME} -> {#SCOPENAME} [{#SCOPENETWORK}] - InUse'
              type: DEPENDENT
              key: 'DHCPv4ScopeStats.InUse[{#SCOPENETWORK}]'
              delay: '0'
              history: 30d
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.InUse
              master_item:
                key: 'DHCPv4ScopeStats[{#SCOPENETWORK}]'
              tags:
                -
                  tag: Application
                  value: 'DHCP Server'
            -
              uuid: 1b8baa6a2fcf4315be3ce3f5c9036114
              name: 'DHCP Scope {#SSCOPENAME} -> {#SCOPENAME} [{#SCOPENETWORK}] - Pending'
              type: DEPENDENT
              key: 'DHCPv4ScopeStats.Pending[{#SCOPENETWORK}]'
              delay: '0'
              history: 30d
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.Pending
              master_item:
                key: 'DHCPv4ScopeStats[{#SCOPENETWORK}]'
              tags:
                -
                  tag: Application
                  value: 'DHCP Server'
            -
              uuid: 6470a06f8b724164aa6e46859615fccd
              name: 'DHCP Scope {#SSCOPENAME} -> {#SCOPENAME} [{#SCOPENETWORK}] - PercentageInUse'
              type: DEPENDENT
              key: 'DHCPv4ScopeStats.PercentageInUse[{#SCOPENETWORK}]'
              delay: '0'
              history: 30d
              value_type: FLOAT
              units: '%'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.PercentageInUse
              master_item:
                key: 'DHCPv4ScopeStats[{#SCOPENETWORK}]'
              tags:
                -
                  tag: Application
                  value: 'DHCP Server'
              trigger_prototypes:
                -
                  uuid: 1cb6c311b79e4e1abbfb23219b3550c8
                  expression: 'last(/APP Discovery DHCP scopes/DHCPv4ScopeStats.PercentageInUse[{#SCOPENETWORK}])>97'
                  name: 'DHCP Scope {#SSCOPENAME} -> {#SCOPENAME} [{#SCOPENETWORK}] - is full for free addresses'
                  status: DISABLED
                  priority: WARNING
            -
              uuid: ca060042d515425cad5d0b65fefc3c64
              name: 'DHCP Scope {#SSCOPENAME} -> {#SCOPENAME} [{#SCOPENETWORK}] - Reserved'
              type: DEPENDENT
              key: 'DHCPv4ScopeStats.Reserved[{#SCOPENETWORK}]'
              delay: '0'
              history: 30d
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - $.Reserved
              master_item:
                key: 'DHCPv4ScopeStats[{#SCOPENETWORK}]'
              tags:
                -
                  tag: Application
                  value: 'DHCP Server'
            -
              uuid: a42f3ff6f0234b68af6657eefb3b6d7c
              name: 'DHCP Scope {#SSCOPENAME} -> {#SCOPENAME} [{#SCOPENETWORK}] - json object'
              key: 'DHCPv4ScopeStats[{#SCOPENETWORK}]'
              history: '0'
              trends: '0'
              value_type: TEXT
              tags:
                -
                  tag: Application
                  value: 'DHCP Server'
          trigger_prototypes:
            -
              uuid: 114047b8ec9142c88856087db8a9f3a9
              expression: 'last(/APP Discovery DHCP scopes/DHCPv4ScopeStats.Free[{#SCOPENETWORK}])=0 and last(/APP Discovery DHCP scopes/DHCPv4ScopeStats.InUse[{#SCOPENETWORK}])=0 and last(/APP Discovery DHCP scopes/DHCPv4ScopeStats.Pending[{#SCOPENETWORK}])=0 and last(/APP Discovery DHCP scopes/DHCPv4ScopeStats.Reserved[{#SCOPENETWORK}])=0'
              name: 'DHCP Scope {#SSCOPENAME} -> {#SCOPENAME} [{#SCOPENETWORK}] - Inactive state'
              priority: INFO
              manual_close: 'YES'
          graph_prototypes:
            -
              uuid: ebae26e4aa4047748614a388258ea256
              name: 'DHCP Scope {#SSCOPENAME} -> {#SCOPENAME} [{#SCOPENETWORK}]'
              ymin_type_1: FIXED
              graph_items:
                -
                  sortorder: '1'
                  drawtype: GRADIENT_LINE
                  color: '000000'
                  yaxisside: RIGHT
                  item:
                    host: 'APP Discovery DHCP scopes'
                    key: 'DHCPv4ScopeStats.Allip[{#SCOPENETWORK}]'
                -
                  sortorder: '2'
                  drawtype: GRADIENT_LINE
                  color: '787878'
                  yaxisside: RIGHT
                  item:
                    host: 'APP Discovery DHCP scopes'
                    key: 'DHCPv4ScopeStats.Reserved[{#SCOPENETWORK}]'
                -
                  sortorder: '3'
                  drawtype: BOLD_LINE
                  color: 00FF00
                  yaxisside: RIGHT
                  item:
                    host: 'APP Discovery DHCP scopes'
                    key: 'DHCPv4ScopeStats.InUse[{#SCOPENETWORK}]'
                -
                  sortorder: '4'
                  drawtype: DASHED_LINE
                  color: 33691E
                  yaxisside: RIGHT
                  item:
                    host: 'APP Discovery DHCP scopes'
                    key: 'DHCPv4ScopeStats.AddressesInUseOnPartnerServer[{#SCOPENETWORK}]'
                -
                  sortorder: '5'
                  drawtype: FILLED_REGION
                  color: FFBF00
                  yaxisside: RIGHT
                  item:
                    host: 'APP Discovery DHCP scopes'
                    key: 'DHCPv4ScopeStats.Pending[{#SCOPENETWORK}]'
                -
                  sortorder: '6'
                  drawtype: DOTTED_LINE
                  color: 0080FF
                  item:
                    host: 'APP Discovery DHCP scopes'
                    key: 'DHCPv4ScopeStats.PercentageInUse[{#SCOPENETWORK}]'
          lld_macro_paths:
            -
              lld_macro: '{#SCOPENAME}'
              path: $.Name
            -
              lld_macro: '{#SCOPENETWORK}'
              path: $.ScopeId.IPAddressToString
            -
              lld_macro: '{#SSCOPENAME}'
              path: $.SuperscopeName
        -
          uuid: fe64b89947bc4e6f903baafa88bee885
          name: 'DHCP Super Scopes'
          key: DHCPv4SuperScopeStats
          delay: 30m
          item_prototypes:
            -
              uuid: ccefc07ea5b4403a9250d0f1a179ddad
              name: 'DHCP Super Scope {#S.SCOPE.NAME} - All IP (except the excluded and reserved)'
              type: CALCULATED
              key: 'DHCPv4SuperScopeStats.allip[{#S.SCOPE.NAME}]'
              delay: 30m
              params: '{#S.SCOPE.AVAILABLE}+{#S.SCOPE.INUSE}'
              tags:
                -
                  tag: Application
                  value: 'DHCP Server'
            -
              uuid: 0dff1b5f32264e1facf3e20178ded9e8
              name: 'DHCP Super Scope {#S.SCOPE.NAME} - Available IP'
              type: CALCULATED
              key: 'DHCPv4SuperScopeStats.available[{#S.SCOPE.NAME}]'
              delay: 30m
              params: '{#S.SCOPE.AVAILABLE}'
              tags:
                -
                  tag: Application
                  value: 'DHCP Server'
            -
              uuid: 53c12a3a30504ac3b7451b315bff3c34
              name: 'DHCP Super Scope {#S.SCOPE.NAME} - Use IP'
              type: CALCULATED
              key: 'DHCPv4SuperScopeStats.in.use[{#S.SCOPE.NAME}]'
              delay: 30m
              params: '{#S.SCOPE.INUSE}'
              tags:
                -
                  tag: Application
                  value: 'DHCP Server'
            -
              uuid: 0908f4f9fe6f476e8cab16dc1cd6c2a6
              name: 'DHCP Super Scope {#S.SCOPE.NAME} - SubScopes'
              type: CALCULATED
              key: 'DHCPv4SuperScopeStats.numscopes[{#S.SCOPE.NAME}]'
              delay: 30m
              params: '{#S.SCOPE.NUMSCOPES}'
              tags:
                -
                  tag: Application
                  value: 'DHCP Server'
            -
              uuid: f91b0b2842b340f2bceac0c5b1db8e40
              name: 'DHCP Super Scope {#S.SCOPE.NAME} - % Used IP'
              type: CALCULATED
              key: 'DHCPv4SuperScopeStats.p.inuse[{#S.SCOPE.NAME}]'
              delay: 30m
              value_type: FLOAT
              units: '%'
              params: '{#S.SCOPE.P.INUSE}'
              tags:
                -
                  tag: Application
                  value: 'DHCP Server'
          graph_prototypes:
            -
              uuid: 66406e4f40584b65b31306b9b0e09a73
              name: 'DHCP Super Scope {#S.SCOPE.NAME}'
              ymin_type_1: FIXED
              graph_items:
                -
                  sortorder: '1'
                  drawtype: GRADIENT_LINE
                  color: '000000'
                  yaxisside: RIGHT
                  item:
                    host: 'APP Discovery DHCP scopes'
                    key: 'DHCPv4SuperScopeStats.allip[{#S.SCOPE.NAME}]'
                -
                  sortorder: '2'
                  drawtype: BOLD_LINE
                  color: 00FF00
                  yaxisside: RIGHT
                  item:
                    host: 'APP Discovery DHCP scopes'
                    key: 'DHCPv4SuperScopeStats.in.use[{#S.SCOPE.NAME}]'
                -
                  sortorder: '3'
                  drawtype: DOTTED_LINE
                  color: 00BFFF
                  item:
                    host: 'APP Discovery DHCP scopes'
                    key: 'DHCPv4SuperScopeStats.p.inuse[{#S.SCOPE.NAME}]'
                -
                  sortorder: '4'
                  drawtype: DASHED_LINE
                  color: F7941D
                  yaxisside: RIGHT
                  item:
                    host: 'APP Discovery DHCP scopes'
                    key: 'DHCPv4SuperScopeStats.numscopes[{#S.SCOPE.NAME}]'
          lld_macro_paths:
            -
              lld_macro: '{#S.SCOPE.AVAILABLE}'
              path: $.Available
            -
              lld_macro: '{#S.SCOPE.INUSE}'
              path: $.InUse
            -
              lld_macro: '{#S.SCOPE.NAME}'
              path: $.Name
            -
              lld_macro: '{#S.SCOPE.NUMSCOPES}'
              path: $.NumScopes
            -
              lld_macro: '{#S.SCOPE.P.INUSE}'
              path: $.PercentageInUse
      dashboards:
        -
          uuid: 9e2cf7941f7e45b29b2c82694c7007c2
          name: 'System performance'
          pages:
            - {  }
