<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
  <version>5.0</version>
  <date>2021-11-09T04:41:44Z</date>
  <groups>
    <group>
      <name>Templates</name>
    </group>
  </groups>
  <templates>
    <template>
      <template>OKI</template>
      <name>OKI</name>
      <description>## Overview A template to check supplies on OKIDATA printers (you'll need the OKIDATA MIB). It provides items and triggers for toner, drum, fuser and belt levels as well as a simple paper count. I've been using it with an OKI C5950 and an OKI C610 printer. You'll need to add a 'zabbix' snmp read community on your printer (from the Admin webpage choose Network->SNMP->Settings->Step2) or change the community to 'public' within the template. Triggers will be activated at 11% for toner and 10% for drums, belt and fuser unit, which should be ample time to restack on supplies unless you're really printing loads of pages. EDIT: 2017-06-01 Updated this for adjusted trigger levels on toner and drums as the chosen ones were too low. ## Author Korbinian Grote</description>
      <groups>
        <group>
          <name>Templates</name>
        </group>
      </groups>
      <applications>
        <application>
          <name>Counters</name>
        </application>
        <application>
          <name>Network</name>
        </application>
        <application>
          <name>Supply</name>
        </application>
      </applications>
      <items>
        <item>
          <name>Belt level %</name>
          <type>CALCULATED</type>
          <key>BeltLevelPercCalc</key>
          <delay>300</delay>
          <value_type>FLOAT</value_type>
          <params>(last("usageBeltMaxLevel.1")-last("usageBeltCurrentLevel.1") )/ last("usageBeltMaxLevel.1") * 100</params>
          <applications>
            <application>
              <name>Supply</name>
            </application>
          </applications>
          <triggers>
            <trigger>
              <expression>{last()}&lt;10</expression>
              <name>Order belt for {HOST.NAME}</name>
              <priority>WARNING</priority>
            </trigger>
          </triggers>
        </item>
        <item>
          <name>Black Drum level %</name>
          <type>CALCULATED</type>
          <key>blackDrumLevelPercCalc</key>
          <delay>300</delay>
          <value_type>FLOAT</value_type>
          <params>(last("usageDrumMaxLevel.1")-last("usageDrumCurrentLevel.1") )/ last("usageDrumMaxLevel.1") * 100</params>
          <applications>
            <application>
              <name>Supply</name>
            </application>
          </applications>
          <triggers>
            <trigger>
              <expression>{last()}&lt;10</expression>
              <name>Order black image drum for {HOST.NAME}</name>
              <priority>WARNING</priority>
            </trigger>
          </triggers>
        </item>
        <item>
          <name>Cyan Drum level %</name>
          <type>CALCULATED</type>
          <key>cyanDrumLevelPercCalc</key>
          <delay>300</delay>
          <value_type>FLOAT</value_type>
          <params>(last("usageDrumMaxLevel.2")-last("usageDrumCurrentLevel.2") )/ last("usageDrumMaxLevel.2") * 100</params>
          <applications>
            <application>
              <name>Supply</name>
            </application>
          </applications>
          <triggers>
            <trigger>
              <expression>{last()}&lt;10</expression>
              <name>Order cyan image drum for {HOST.NAME}</name>
              <priority>WARNING</priority>
            </trigger>
          </triggers>
        </item>
        <item>
          <name>Fuser level %</name>
          <type>CALCULATED</type>
          <key>FuserLevelPercCalc</key>
          <delay>300</delay>
          <value_type>FLOAT</value_type>
          <params>(last("usageFuserMaxLevel.1")-last("usageFuserCurrentLevel.1") )/ last("usageFuserMaxLevel.1") * 100</params>
          <applications>
            <application>
              <name>Supply</name>
            </application>
          </applications>
          <triggers>
            <trigger>
              <expression>{last()}&lt;10</expression>
              <name>Order fuser for {HOST.NAME}</name>
              <priority>WARNING</priority>
            </trigger>
          </triggers>
        </item>
        <item>
          <name>Magenta Drum level %</name>
          <type>CALCULATED</type>
          <key>magentaDrumLevelPercCalc</key>
          <delay>300</delay>
          <value_type>FLOAT</value_type>
          <params>(last("usageDrumMaxLevel.3")-last("usageDrumCurrentLevel.3") )/ last("usageDrumMaxLevel.3") * 100</params>
          <applications>
            <application>
              <name>Supply</name>
            </application>
          </applications>
          <triggers>
            <trigger>
              <expression>{last()}&lt;10</expression>
              <name>Order magenta image drum for {HOST.NAME}</name>
              <priority>WARNING</priority>
            </trigger>
          </triggers>
        </item>
        <item>
          <name>Belt count</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.2001.1.1.1.1.100.5.1.1.3.1</snmp_oid>
          <key>usageBeltCurrentLevel.1</key>
          <delay>300</delay>
          <applications>
            <application>
              <name>Supply</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Belt max level</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.2001.1.1.1.1.100.5.1.1.4.1</snmp_oid>
          <key>usageBeltMaxLevel.1</key>
          <delay>300</delay>
          <applications>
            <application>
              <name>Supply</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Black Drum count</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.2001.1.1.1.1.100.4.1.1.3.1</snmp_oid>
          <key>usageDrumCurrentLevel.1</key>
          <delay>300</delay>
          <applications>
            <application>
              <name>Supply</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Cyan Drum count</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.2001.1.1.1.1.100.4.1.1.3.2</snmp_oid>
          <key>usageDrumCurrentLevel.2</key>
          <delay>300</delay>
          <applications>
            <application>
              <name>Supply</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Magenta Drum count</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.2001.1.1.1.1.100.4.1.1.3.3</snmp_oid>
          <key>usageDrumCurrentLevel.3</key>
          <delay>300</delay>
          <applications>
            <application>
              <name>Supply</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Yellow Drum count</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.2001.1.1.1.1.100.4.1.1.3.4</snmp_oid>
          <key>usageDrumCurrentLevel.4</key>
          <delay>300</delay>
          <applications>
            <application>
              <name>Supply</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Black Drum max</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.2001.1.1.1.1.100.4.1.1.4.1</snmp_oid>
          <key>usageDrumMaxLevel.1</key>
          <delay>300</delay>
          <applications>
            <application>
              <name>Supply</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Cyan Drum max</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.2001.1.1.1.1.100.4.1.1.4.2</snmp_oid>
          <key>usageDrumMaxLevel.2</key>
          <delay>300</delay>
          <applications>
            <application>
              <name>Supply</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Magenta Drum max</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.2001.1.1.1.1.100.4.1.1.4.3</snmp_oid>
          <key>usageDrumMaxLevel.3</key>
          <delay>300</delay>
          <applications>
            <application>
              <name>Supply</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Yellow Drum max</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.2001.1.1.1.1.100.4.1.1.4.4</snmp_oid>
          <key>usageDrumMaxLevel.4</key>
          <delay>300</delay>
          <applications>
            <application>
              <name>Supply</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Fuser count</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.2001.1.1.1.1.100.6.1.1.3.1</snmp_oid>
          <key>usageFuserCurrentLevel.1</key>
          <delay>300</delay>
          <applications>
            <application>
              <name>Supply</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Fuser max level</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.2001.1.1.1.1.100.6.1.1.4.1</snmp_oid>
          <key>usageFuserMaxLevel.1</key>
          <delay>300</delay>
          <applications>
            <application>
              <name>Supply</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Total pages printed</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.2001.1.1.1.1.100.1.1.1.3.1</snmp_oid>
          <key>usagePrinterUnitCounter.1</key>
          <delay>300</delay>
          <applications>
            <application>
              <name>Counters</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Black Toner Level %</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.2001.1.1.1.1.100.3.1.1.3.1</snmp_oid>
          <key>usageTonerCurrentLevel.1</key>
          <delay>300</delay>
          <applications>
            <application>
              <name>Supply</name>
            </application>
          </applications>
          <triggers>
            <trigger>
              <expression>{last()}&lt;11</expression>
              <name>Order black toner for {HOST.NAME}</name>
              <priority>WARNING</priority>
            </trigger>
          </triggers>
        </item>
        <item>
          <name>Cyan Toner Level %</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.2001.1.1.1.1.100.3.1.1.3.2</snmp_oid>
          <key>usageTonerCurrentLevel.2</key>
          <delay>300</delay>
          <applications>
            <application>
              <name>Supply</name>
            </application>
          </applications>
          <triggers>
            <trigger>
              <expression>{last()}&lt;11</expression>
              <name>Order cyan toner for {HOST.NAME}</name>
              <priority>WARNING</priority>
            </trigger>
          </triggers>
        </item>
        <item>
          <name>Magenta Toner Level %</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.2001.1.1.1.1.100.3.1.1.3.3</snmp_oid>
          <key>usageTonerCurrentLevel.3</key>
          <delay>300</delay>
          <applications>
            <application>
              <name>Supply</name>
            </application>
          </applications>
          <triggers>
            <trigger>
              <expression>{last()}&lt;11</expression>
              <name>Order magenta toner for {HOST.NAME}</name>
              <priority>WARNING</priority>
            </trigger>
          </triggers>
        </item>
        <item>
          <name>Yellow Toner Level %</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.2001.1.1.1.1.100.3.1.1.3.4</snmp_oid>
          <key>usageTonerCurrentLevel.4</key>
          <delay>300</delay>
          <applications>
            <application>
              <name>Supply</name>
            </application>
          </applications>
          <triggers>
            <trigger>
              <expression>{last()}&lt;11</expression>
              <name>Order yellow toner for {HOST.NAME}</name>
              <priority>WARNING</priority>
            </trigger>
          </triggers>
        </item>
        <item>
          <name>Yellow Drum level %</name>
          <type>CALCULATED</type>
          <key>yellowDrumLevelPercCalc</key>
          <delay>300</delay>
          <value_type>FLOAT</value_type>
          <params>(last("usageDrumMaxLevel.4")-last("usageDrumCurrentLevel.4") )/ last("usageDrumMaxLevel.4") * 100</params>
          <applications>
            <application>
              <name>Supply</name>
            </application>
          </applications>
          <triggers>
            <trigger>
              <expression>{last()}&lt;10</expression>
              <name>Order yellow image drum for {HOST.NAME}</name>
              <priority>WARNING</priority>
            </trigger>
          </triggers>
        </item>
      </items>
    </template>
  </templates>
</zabbix_export>