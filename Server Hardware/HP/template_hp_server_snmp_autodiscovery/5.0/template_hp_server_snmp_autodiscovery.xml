<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
  <version>5.0</version>
  <date>2021-10-19T21:18:05Z</date>
  <groups>
    <group>
      <name>Templates</name>
    </group>
  </groups>
  <templates>
    <template>
      <template>Template_HP_SNMP_Autodiscovery</template>
      <name>Template_HP_SNMP_Autodiscovery</name>
      <groups>
        <group>
          <name>Templates</name>
        </group>
      </groups>
      <applications>
        <application>
          <name>HP Drive Array</name>
        </application>
        <application>
          <name>HP Health</name>
        </application>
        <application>
          <name>HP System Info</name>
        </application>
        <application>
          <name>Memory Modules</name>
        </application>
      </applications>
      <items>
        <item>
          <name>HP ASR Condition</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.232.6.2.5.17.0</snmp_oid>
          <key>cpqHeAsrCondition</key>
          <delay>300</delay>
          <history>7d</history>
          <description>CPQHLTH-MIB:: cpqHeAsrCondition OBJECT-TYPE SYNTAX INTEGER { other(1), ok(2), degraded(3), failed(4) } ACCESS read-only STATUS mandatory DESCRIPTION "This value specifies the overall condition of the ASR feature." ::= { cpqHeAsr 17 }</description>
          <applications>
            <application>
              <name>HP Health</name>
            </application>
          </applications>
          <valuemap>
            <name>cpqCondition</name>
          </valuemap>
          <triggers>
            <trigger>
              <expression>{last()}>2</expression>
              <name>{HOST.NAME}: Server was restarted by ASR (HP Automatic Server Recovery)</name>
              <priority>HIGH</priority>
              <description>HP Automatic Server Recovery (ASR) is reporting a "degraded" or "failed" state. ASR is a watchdog timer which automatically restarts a server if the server hangs or crashes. When a server is restarted by ASR, a flag is set, and an alert is triggered until the flag is reset. To reset the ASR flag and clear this alert, go to the server's System Management Homepage, then select "Autorecovery" in the "Recovery" section. There you can clear the ASR condition. HP System Management Homepage (may require starting service hpsmhd): https://{HOST.CONN}:2381</description>
            </trigger>
          </triggers>
        </item>
        <item>
          <name>HP Event Log Condition</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.232.6.2.11.2.0</snmp_oid>
          <key>cpqHeEventLogCondition</key>
          <delay>600</delay>
          <history>7d</history>
          <trends>30d</trends>
          <description>This event log item shows an error when there are IML log items which have not been marked as "repaired" in the System Management Homepage. Because we monitor the individual subsystems, this item is redundant and we don't need to alert on it. CPQHLTH-MIB:: cpqHeEventLogCondition OBJECT-TYPE SYNTAX INTEGER { other(1), ok(2), degraded(3), failed(4) } ACCESS read-only STATUS mandatory DESCRIPTION "This value specifies the overall condition of the Integrated Management Log feature." ::= { cpqHeEventLog 2 }</description>
          <applications>
            <application>
              <name>HP Health</name>
            </application>
          </applications>
          <valuemap>
            <name>cpqCondition</name>
          </valuemap>
        </item>
        <item>
          <name>HP Fault Tolerant Power Supply Condition</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.232.6.2.9.1.0</snmp_oid>
          <key>cpqHeFltTolPwrSupplyCondition</key>
          <delay>300</delay>
          <history>7d</history>
          <trends>30d</trends>
          <description>Overall condition of power supplies. Because we monitor the individual subsystems, this item is redundant and we don't need to alert on it. CPQHLTH-MIB:: cpqHeFltTolPwrSupplyCondition OBJECT-TYPE SYNTAX INTEGER { other(1), ok(2), degraded(3), failed(4) } ACCESS read-only STATUS mandatory DESCRIPTION "This value specifies the overall condition of the fault tolerant power supply sub-system." ::= { cpqHeFltTolPwrSupply 1 }</description>
          <applications>
            <application>
              <name>HP Health</name>
            </application>
          </applications>
          <valuemap>
            <name>cpqCondition</name>
          </valuemap>
        </item>
        <item>
          <name>HP Health MIB Condition</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>1.3.6.1.4.1.232.6.1.3.0</snmp_oid>
          <key>cpqHeMibCondition</key>
          <delay>600</delay>
          <history>7d</history>
          <trends>30d</trends>
          <description>This item shows an error when any underlying subsystem is not OK. Because we monitor the individual subsystems, this item is redundant and we don't need to alert on it. CPQHLTH-MIB:: cpqHeEventLogCondition OBJECT-TYPE SYNTAX INTEGER { other(1), ok(2), degraded(3), failed(4) } ACCESS read-only STATUS mandatory DESCRIPTION "This value specifies the overall condition of the Integrated Management Log feature." ::= { cpqHeEventLog 2 }</description>
          <applications>
            <application>
              <name>HP Health</name>
            </application>
          </applications>
          <valuemap>
            <name>cpqCondition</name>
          </valuemap>
          <triggers>
            <trigger>
              <expression>{nodata(3600)}=1</expression>
              <name>{HOST.NAME}: HP SNMP Agents are not responding</name>
              <priority>WARNING</priority>
              <description>The HP SNMP Agents for this host have not responded to SNMP queries for more than 1 hour. If the host is otherwise operating properly, it can mean that the HP SNMP agents are not working properl, or that the SNMP service has stopped. A less likely cause is a network issue - SNMP uses UDP port 161, To restart, as root: /sbin/service hp-snmp-agents restart /sbin/service snmpd restart</description>
            </trigger>
          </triggers>
        </item>
        <item>
          <name>HP Resilient Memory Condition</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.232.6.2.14.4.0</snmp_oid>
          <key>cpqHeResilientMemCondition</key>
          <delay>300</delay>
          <history>7d</history>
          <description>Overall status of memory system. If we monitor the individual modules via discovery rule "Memory Modules", then this item is redundant and we don't need to alert on it. CPQHLTH-MIB:: cpqHeResilientMemCondition OBJECT-TYPE SYNTAX INTEGER { other(1), ok(2), degraded(3) } ACCESS read-only STATUS mandatory DESCRIPTION "This value specifies the current condition of the Advanced Memory Protection subsystem. The following states are supported: other(1) The system does not support fault tolerant memory or the state cannot be determined by the Management Agent. ok(2) This system is operating normally. degraded(3) The system is running in a degraded state because the Advanced Memory Protection subsystem has been engaged." ::= { cpqHeResilientMemory 4 }</description>
          <applications>
            <application>
              <name>HP Health</name>
            </application>
          </applications>
          <valuemap>
            <name>cpqCondition</name>
          </valuemap>
          <triggers>
            <trigger>
              <expression>{last()}=3</expression>
              <name>{HOST.NAME}: HP Resilient Memory condition is degraded</name>
              <priority>AVERAGE</priority>
              <description>The Advanced Memory Protection, probably because of correctable memory errors. The DIMM which had the errors should be replaced. Check the iLO or system management homepage for more detail, and to find out which DIMM. HP System Management Homepage (may require starting service hpsmhd): https://{HOST.CONN}:2381</description>
            </trigger>
            <trigger>
              <expression>{last()}=1</expression>
              <name>{HOST.NAME}: HP Resilient Memory condition is unknown</name>
              <priority>WARNING</priority>
              <description>The condition of the resilient memory system cannot be determined (condition reported is "other"). Try, in this order: 1) resetting the iLO from the iLO screen 2) restarting the HP SNMP agents: /sbin/service hp-snmp-agents restart 3) restarting snmpd: /sbin/service snmpd restart HP System Management Homepage (may require starting service hpsmhd): https://{HOST.CONN}:2381</description>
            </trigger>
          </triggers>
        </item>
        <item>
          <name>HP Thermal Condition</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.232.6.2.6.1.0</snmp_oid>
          <key>cpqHeThermalCondition</key>
          <delay>300</delay>
          <history>7d</history>
          <trends>30d</trends>
          <description>This item is a combined status of all temperature and fan items present. By monitoring this item, it's not necessary to monitor each individual fan and temperature item. CPQHLTH-MIB:: cpqHeThermalCondition OBJECT-TYPE SYNTAX INTEGER { other(1), ok(2), degraded(3), failed(4) } ACCESS read-only STATUS mandatory DESCRIPTION "This value specifies the overall condition of the system's thermal environment." ::= { cpqHeThermal 1 }</description>
          <applications>
            <application>
              <name>HP Health</name>
            </application>
          </applications>
          <valuemap>
            <name>cpqCondition</name>
          </valuemap>
          <triggers>
            <trigger>
              <expression>{last()}>2</expression>
              <name>{HOST.NAME}: HP Thermal Condition is Degraded</name>
              <priority>HIGH</priority>
              <description>Something is wrong with this server's cooling system. Either a non-required fan is not operating properly, or a temp sensor is outside of normal operating range. The server will automatically shutdown if a required fan is not operating properly, or if a temp sensor detects a condition that could permanently damage the system. Check server's iLO or or System Management Homepage for more detail. HP System Management Homepage (may require starting service hpsmhd): https://{HOST.CONN}:2381</description>
            </trigger>
          </triggers>
        </item>
        <item>
          <name>HP Product Name</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>1.3.6.1.4.1.232.2.2.4.2.0</snmp_oid>
          <key>cpqSiProductName</key>
          <delay>28800</delay>
          <history>1d</history>
          <trends>0</trends>
          <value_type>TEXT</value_type>
          <description>CPQSINFO-MIB:: cpqSiProductName OBJECT-TYPE SYNTAX DisplayString (SIZE (0..255)) ACCESS read-only STATUS mandatory DESCRIPTION "The machine product name. The name of the machine used in this system." ::= { cpqSiSystemBoard 2 }</description>
          <applications>
            <application>
              <name>HP System Info</name>
            </application>
          </applications>
        </item>
        <item>
          <name>HP System Product ID</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.232.2.2.2.6.0</snmp_oid>
          <key>cpqSiSysProductId</key>
          <delay>28800</delay>
          <history>1d</history>
          <trends>0</trends>
          <value_type>TEXT</value_type>
          <description>CPQSINFO-MIB:: cpqSiSysProductId OBJECT-TYPE SYNTAX DisplayString (SIZE (0..255)) DESCRIPTION "The product id string of the system unit. The string will be empty if the system does not report the product id." ::= { cpqSiAsset 6 }</description>
          <applications>
            <application>
              <name>HP System Info</name>
            </application>
          </applications>
        </item>
        <item>
          <name>HP System Serial Number</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.4.1.232.2.2.2.1.0</snmp_oid>
          <key>cpqSiSysSerialNum</key>
          <delay>28800</delay>
          <history>1d</history>
          <trends>0</trends>
          <value_type>TEXT</value_type>
          <description>CPQSINFO-MIB:: cpqSiSysSerialNum OBJECT-TYPE SYNTAX DisplayString (SIZE (0..255)) DESCRIPTION "The serial number of the physical system unit. The string will be empty if the system does not report the serial number function." ::= { cpqSiAsset 1 }</description>
          <applications>
            <application>
              <name>HP System Info</name>
            </application>
          </applications>
        </item>
      </items>
      <discovery_rules>
        <discovery_rule>
          <name>Drive Array Accelerators</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.232.3.2.2.2.1.1]</snmp_oid>
          <key>snmp.discovery[DaAccelerators]</key>
          <delay>3600</delay>
          <lifetime>0</lifetime>
          <description>Walk the cpqDaCntlrHwLocation table to get contoller locations: CPQIDA-MIB:: cpqDaAccelCntlrIndex OBJECT-TYPE SYNTAX INTEGER ACCESS read-only STATUS mandatory DESCRIPTION "Array Accelerator Board Controller Index. This value is a logical number whose meaning is OS dependent. The value has a direct mapping to the controller table index such that controller 'i' has accelerator table entry 'i'." ::= { cpqDaAccelEntry 1 }</description>
          <item_prototypes>
            <item_prototype>
              <name>HP Drive Array Accelerator Backup Power Source {#SNMPINDEX}</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.232.3.2.2.2.1.16.{#SNMPINDEX}</snmp_oid>
              <key>cpqDaAccelBackupPowerSource[{#SNMPINDEX}]</key>
              <delay>28800</delay>
              <history>1d</history>
              <trends>1d</trends>
              <description>CPQIDA-MIB:: cpqDaAccelBackupPowerSource OBJECT-TYPE SYNTAX INTEGER { other(1), battery(2), capacitor(3) } ACCESS read-only STATUS mandatory DESCRIPTION "Array Accelerator Board Backup Power Source. This describes the backup power source being used by the Array Accelerator board. The status can be: Other (1) Indicates that the instrument agent does not recognize the backup power source used by the Array Accelerator board. You may need to upgrade the instrument agent. Battery (2) Indicates that a battery is the backup power source for the Array Accelerator board. Capacitor (3) Indicates that a capacitor is the backup power source for the Array Accelerator board." ::= { cpqDaAccelEntry 16 }</description>
              <applications>
                <application>
                  <name>HP Drive Array</name>
                </application>
              </applications>
              <valuemap>
                <name>cpqDaAccelBackupPowerSource</name>
              </valuemap>
            </item_prototype>
            <item_prototype>
              <name>HP Drive Array Accelerator Battery Status {#SNMPINDEX}</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.232.3.2.2.2.1.6.{#SNMPINDEX}</snmp_oid>
              <key>cpqDaAccelBattery[{#SNMPINDEX}]</key>
              <delay>600</delay>
              <history>7d</history>
              <trends>90d</trends>
              <description>CPQIDA-MIB:: cpqDaAccelBattery OBJECT-TYPE SYNTAX INTEGER { other(1), ok(2), recharging(3), failed(4), degraded(5), notPresent(6), capacitorFailed(7) } ACCESS read-only STATUS mandatory DESCRIPTION "Array Accelerator Board Backup Power Status. This monitors the status of each backup power source on the board. The backup power source can only recharge when the system has power applied. The type of backup power source used is indicated by cpqDaAccelBackupPowerSource. The following values are valid: Other (1) Indicates that the instrument agent does not recognize battery status. You may need to update your software. Ok (2) Indicates that a particular battery pack is fully charged. Charging (3) The battery power is less than 75%. The Drive Array Controller is attempting to recharge the battery. A battery can take as long as 36 hours to fully recharge. After 36 hours, if the battery has not recharged, it is considered failed. Failed (4) The battery pack is below the sufficient voltage level and has not recharged in 36 hours. Your Array Accelerator board needs to be serviced. Degraded (5) The battery is still operating, however, one of the batteries in the pack has failed to recharge properly. Your Array Accelerator board should be serviced as soon as possible. NotPresent (6) There are no batteries associated with this controller. Capacitor Failed (7) The capacitor is below the sufficient voltage level and has not recharged in 10 minutes. Your Array Accelerator board needs to be serviced." ::= { cpqDaAccelEntry 6 }</description>
              <applications>
                <application>
                  <name>HP Drive Array</name>
                </application>
              </applications>
              <valuemap>
                <name>cpqDaAccelBatteryStatus</name>
              </valuemap>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{max(86400)}=4</expression>
                  <name>{HOST.NAME}: Drive Array Accelerator {#SNMPINDEX} battery has failed</name>
                  <priority>WARNING</priority>
                  <description>The battery provides backup power for the cache memory, to prevent data loss in the event of a power failure. This battery has failed, so the Drive Array Controller will disable that cache, and disk performance will be bad until the battery is replaced. The battery needs to be replaced. Suggested actions are to write a ticket to replace the battery, then acknowledge the alert, writing the ticket number in the notes. This will prevent a stream of continuing alerts. When the battery is on the edge of failing, it can move in and out of the failed state. This can have the effect of restarting an alert which has already been acknowledged. To prevent this, this trigger is held until there has been no failure reported in the last 24 hours. HP System Management Homepage (may require starting service hpsmhd): https://{HOST.CONN}:2381</description>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
            <item_prototype>
              <name>HP Drive Array Accelerator Condition {#SNMPINDEX}</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.232.3.2.2.2.1.9.{#SNMPINDEX}</snmp_oid>
              <key>cpqDaAccelCondition[{#SNMPINDEX}]</key>
              <delay>600</delay>
              <history>7d</history>
              <trends>90d</trends>
              <description>CPQIDA-MIB:: cpqDaAccelCondition OBJECT-TYPE SYNTAX INTEGER { other(1), ok(2), degraded(3), failed(4) } ACCESS read-only STATUS mandatory DESCRIPTION "The condition of the device. This value represents the overall condition of this array accelerator." ::= { cpqDaAccelEntry 9 }</description>
              <applications>
                <application>
                  <name>HP Drive Array</name>
                </application>
              </applications>
              <valuemap>
                <name>cpqCondition</name>
              </valuemap>
            </item_prototype>
            <item_prototype>
              <name>HP Drive Array Accelerator Status {#SNMPINDEX}</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.232.3.2.2.2.1.2.{#SNMPINDEX}</snmp_oid>
              <key>cpqDaAccelStatus[{#SNMPINDEX}]</key>
              <delay>600</delay>
              <history>7d</history>
              <trends>90d</trends>
              <description>CPQIDA-MIB:: cpqDaAccelStatus OBJECT-TYPE SYNTAX INTEGER { other(1), invalid(2), enabled(3), tmpDisabled(4), permDisabled(5) } ACCESS read-only STATUS mandatory DESCRIPTION "Array Accelerator Board Status. This describes the status of the accelerator write cache. The status can be: Other (1) Indicates that the instrument agent does not recognize the status of the Array Accelerator. You may need to upgrade the instrument agent. Invalid (2) Indicates that an Array Accelerator board has not been installed in this system or is present but not configured. Enabled (3) Indicates that write cache operations are currently configured and enabled for at least one logical drive. Temporarily Disabled (4) Indicates that write cache operations have been temporarily disabled. View the Array Accelerator Board Error Code object to determine why the write cache operations have been temporarily disabled. Permanently Disabled (5) Indicates that write cache operations have been permanently disabled. View the Array Accelerator Board Error Code object to determine why the write cache operations have been disabled." ::= { cpqDaAccelEntry 2 }</description>
              <applications>
                <application>
                  <name>HP Drive Array</name>
                </application>
              </applications>
              <valuemap>
                <name>cpqDaAccelStatus</name>
              </valuemap>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()}=2</expression>
                  <name>{HOST.NAME}: Drive Array Accelerator {#SNMPINDEX} is missing or not configured</name>
                  <priority>WARNING</priority>
                  <description>The Drive Array Accelerator is the cache memory board for the Drive Array Controller; if it is missing, disk performance will be bad. A Drive Array Accelerator (cache memory board) should be ordered and installed. Suggested actions are to write a ticket to order and install the HP Drive Array Accelerator (cache memory board). Then acknowledge the alert, writing the ticket number in the notes. HP System Management Homepage (may require starting service hpsmhd): https://{HOST.CONN}:2381</description>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
            <item_prototype>
              <name>HP Drive Array Accelerator Write Cache % {#SNMPINDEX}</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.232.3.2.2.2.1.14.{#SNMPINDEX}</snmp_oid>
              <key>cpqDaAccelWriteCachePercent[{#SNMPINDEX}]</key>
              <delay>28800</delay>
              <history>1d</history>
              <trends>1d</trends>
              <units>%</units>
              <description>CPQIDA-MIB:: cpqDaAccelWriteCachePercent OBJECT-TYPE SYNTAX Gauge ACCESS read-only STATUS mandatory DESCRIPTION "Write Cache Percent. This shows the percent of cache memory allocated for posted write caching. If the data cannot be determined or is not applicable, the value is set to 4,294,967,295." ::= { cpqDaAccelEntry 14 }</description>
              <applications>
                <application>
                  <name>HP Drive Array</name>
                </application>
              </applications>
            </item_prototype>
          </item_prototypes>
        </discovery_rule>
        <discovery_rule>
          <name>Drive Array Controller Performance Monitors</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.232.3.2.7.1.1.1]</snmp_oid>
          <key>snmp.discovery[DaControllerPerf]</key>
          <delay>28800</delay>
          <lifetime>0</lifetime>
          <description>Walk the cpqDaCntlrPerfCntlrIndex table to find contoller performance monitor instances: CPQIDA-MIB:: cpqDaCntlrPerfCntlrIndex OBJECT-TYPE SYNTAX INTEGER ACCESS read-only STATUS mandatory DESCRIPTION "Drive Array Controller Performance Monitor Controller Index. This maps the performance monitor information into their respective controllers which support performance data." ::= { cpqDaCntlrPerfEntry 1 }</description>
          <item_prototypes>
            <item_prototype>
              <name>HP Drive Array Controller Latency {#SNMPINDEX}</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.232.3.2.7.1.1.7.{#SNMPINDEX}</snmp_oid>
              <key>cpqDaCntlrPerfAvgLatency[{#SNMPINDEX}]</key>
              <delay>3600</delay>
              <value_type>FLOAT</value_type>
              <units>ms</units>
              <description>CPQIDA-MIB:: cpqDaCntlrPerfAvgLatency OBJECT-TYPE SYNTAX INTEGER ACCESS read-only STATUS mandatory DESCRIPTION "Array Controller Performance Monitor Average Command Latency. This value shows the average command latency for this sample in 1/100,000 second units." ::= { cpqDaCntlrPerfEntry 7 }</description>
              <applications>
                <application>
                  <name>HP Drive Array</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>.01</params>
                </step>
              </preprocessing>
            </item_prototype>
          </item_prototypes>
        </discovery_rule>
        <discovery_rule>
          <name>Drive Array Controllers</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.232.3.2.2.1.1.20]</snmp_oid>
          <key>snmp.discovery[DaControllers]</key>
          <delay>3600</delay>
          <lifetime>0</lifetime>
          <description>Walk the cpqDaCntlrHwLocation table to get contoller locations: CPQIDA-MIB:: cpqDaCntlrHwLocation OBJECT-TYPE SYNTAX DisplayString (SIZE (0..255)) ACCESS read-only STATUS mandatory DESCRIPTION "A text description of the hardware location of the controller. A NULL string indicates that the hardware location could not be determined or is irrelevant." ::= { cpqDaCntlrEntry 20 }</description>
          <item_prototypes>
            <item_prototype>
              <name>HP Drive Array Controller Board Condition {#SNMPINDEX}</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.232.3.2.2.1.1.12.{#SNMPINDEX}</snmp_oid>
              <key>cpqDaCntlrBoardCondition[{#SNMPINDEX}]</key>
              <delay>600</delay>
              <history>7d</history>
              <trends>30d</trends>
              <description>CPQIDA-MIB:: cpqDaCntlrBoardCondition OBJECT-TYPE SYNTAX INTEGER { other(1), ok(2), degraded(3), failed(4) } ACCESS read-only STATUS mandatory DESCRIPTION "The condition of the device. This value represents the condition of the controller and any associated array accelerators." ::= { cpqDaCntlrEntry 12 }</description>
              <applications>
                <application>
                  <name>HP Drive Array</name>
                </application>
              </applications>
              <valuemap>
                <name>cpqCondition</name>
              </valuemap>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()}>2</expression>
                  <name>{HOST.NAME}: HP Drive Array Controller Board {#SNMPINDEX} is degraded or failed</name>
                  <priority>AVERAGE</priority>
                  <description>This HP Drive Array Controller Controller Board is reporting a degraded or failed condition. Check the iLO or preferably the HP System Management Homepage for more information. This may require first starting the Array Configuration Utility from the command line ("/opt/compaq/cpqacuxe/bld/cpqacuxe -R") HP System Management Homepage (may require starting service hpsmhd): https://{HOST.CONN}:2381</description>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
            <item_prototype>
              <name>HP Drive Array Controller Condition {#SNMPINDEX}</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.232.3.2.2.1.1.6.{#SNMPINDEX}</snmp_oid>
              <key>cpqDaCntlrCondition[{#SNMPINDEX}]</key>
              <delay>600</delay>
              <history>7d</history>
              <trends>30d</trends>
              <description>CPQIDA-MIB:: cpqDaCntlrCondition OBJECT-TYPE SYNTAX INTEGER { other(1), ok(2), degraded(3), failed(4) } ACCESS read-only STATUS mandatory DESCRIPTION "The condition of the device. This value represents the overall condition of this controller, and any associated logical drives, physical drives, and array accelerators." ::= { cpqDaCntlrEntry 6 }</description>
              <applications>
                <application>
                  <name>HP Drive Array</name>
                </application>
              </applications>
              <valuemap>
                <name>cpqCondition</name>
              </valuemap>
            </item_prototype>
            <item_prototype>
              <name>HP Drive Array Controller Drive Write Cache State {#SNMPINDEX}</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.232.3.2.2.1.1.27.{#SNMPINDEX}</snmp_oid>
              <key>cpqDaCntlrDriveWriteCacheState[{#SNMPINDEX}]</key>
              <delay>28800</delay>
              <history>1d</history>
              <trends>1d</trends>
              <description>CPQIDA-MIB:: cpqDaCntlrDriveWriteCacheState OBJECT-TYPE SYNTAX INTEGER { other(1), disabled(2), enabled(3) } ACCESS read-only STATUS mandatory DESCRIPTION "Array Controller Drive Write Cache State. This is the controller's drive write cache setting. The following values are valid: other (1) Indicates that the instrument agent does not recognize the value. You may need to upgrade the instrument agent. disabled (2) The controller will disable drive write cache for all drives. enabled (3) The controller will enable drive write cache for all drives." ::= { cpqDaCntlrEntry 27 }</description>
              <applications>
                <application>
                  <name>HP Drive Array</name>
                </application>
              </applications>
              <valuemap>
                <name>cpqDaCntlrDriveWriteCacheState</name>
              </valuemap>
            </item_prototype>
            <item_prototype>
              <name>HP Drive Array Controller Firmware Revision {#SNMPINDEX}</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.232.3.2.2.1.1.3.{#SNMPINDEX}</snmp_oid>
              <key>cpqDaCntlrFWRev[{#SNMPINDEX}]</key>
              <delay>28800</delay>
              <history>1d</history>
              <trends>0</trends>
              <value_type>TEXT</value_type>
              <description>CPQIDA-MIB:: cpqDaCntlrFWRev OBJECT-TYPE SYNTAX DisplayString (SIZE (0..5)) ACCESS read-only STATUS mandatory DESCRIPTION "Array Controller Firmware Revision. The firmware revision of the drive array controller. This value can be used to help identify a particular revision of the controller." ::= { cpqDaCntlrEntry 3 }</description>
              <applications>
                <application>
                  <name>HP Drive Array</name>
                </application>
              </applications>
            </item_prototype>
          </item_prototypes>
        </discovery_rule>
        <discovery_rule>
          <name>Firmware</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.232.11.2.14.1.1.4]</snmp_oid>
          <key>snmp.discovery[firmware]</key>
          <delay>28800</delay>
          <filter>
            <conditions>
              <condition>
                <macro>{#SNMPVALUE}</macro>
                <value>(Lights.Out|iLO|System.ROM)</value>
                <formulaid>A</formulaid>
              </condition>
            </conditions>
          </filter>
          <lifetime>0</lifetime>
          <description>Walk the cpqHoFwVerDisplayName table, filter for "Lights Out", "iLO" and "System ROM" CPQHLTH-MIB:: cpqHoFwVerDisplayName OBJECT-TYPE SYNTAX DisplayString (SIZE (0..127)) ACCESS read-only STATUS mandatory DESCRIPTION "Firmware Version Device Display Name. This is the display name of the device containing the firmware." ::= { cpqHoFwVerEntry 4 }</description>
          <item_prototypes>
            <item_prototype>
              <name>HP Firmware Version {#SNMPINDEX} - {#SNMPVALUE}</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.232.11.2.14.1.1.5.{#SNMPINDEX}</snmp_oid>
              <key>cpqHoFwVerVersion[{#SNMPINDEX}]</key>
              <delay>28800</delay>
              <history>7d</history>
              <trends>0</trends>
              <value_type>CHAR</value_type>
              <description>CPQHOST-MIB:: cpqHoFwVerVersion OBJECT-TYPE SYNTAX DisplayString (SIZE (0..31)) ACCESS read-only STATUS mandatory DESCRIPTION "Firmware Version. This is the version of the device firmware." ::= { cpqHoFwVerEntry 5 }</description>
              <applications>
                <application>
                  <name>HP System Info</name>
                </application>
              </applications>
            </item_prototype>
          </item_prototypes>
        </discovery_rule>
        <discovery_rule>
          <name>Logical Drives</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.232.3.2.3.1.1.14]</snmp_oid>
          <key>snmp.discovery[logicalDrives]</key>
          <delay>3600</delay>
          <lifetime>0</lifetime>
          <description>Walk the cpqDaLogDrvOsName table to get logical drive OS names: CPQIDA-MIB:: cpqDaLogDrvOsName OBJECT-TYPE SYNTAX DisplayString (SIZE (0..255)) ACCESS read-only STATUS mandatory DESCRIPTION "Logical Drive OS Name. The OS name for this array logical drive. This field will be a null (size 0) string if the agent does not support OS name." ::= { cpqDaLogDrvEntry 14 }</description>
          <item_prototypes>
            <item_prototype>
              <name>HP Logical Drive Condition {#SNMPINDEX} [{#SNMPVALUE}]</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.232.3.2.3.1.1.11.{#SNMPINDEX}</snmp_oid>
              <key>cpqDaLogDrvCondition[{#SNMPINDEX}]</key>
              <delay>300</delay>
              <history>7d</history>
              <trends>90d</trends>
              <description>CPQIDA-MIB:: cpqDaLogDrvCondition OBJECT-TYPE SYNTAX INTEGER { other(1), ok(2), degraded(3), failed(4) } ACCESS read-only STATUS mandatory DESCRIPTION "The Logical Drive condition. This value represents the overall condition of this logical drive and any associated physical drives." ::= { cpqDaLogDrvEntry 11 }</description>
              <applications>
                <application>
                  <name>HP Drive Array</name>
                </application>
              </applications>
              <valuemap>
                <name>cpqCondition</name>
              </valuemap>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()}=4</expression>
                  <name>{HOST.NAME}: Logical Drive {#SNMPINDEX} [{#SNMPVALUE}] has failed</name>
                  <priority>HIGH</priority>
                  <description>This logical drive drive (volume) has failed. For more information, go to the system management homepage, then check the array configuration utility (may need to be started from the command line first). This alert is very serious (data has been lost) because failure of a logical drive (in RAID configuration with redundancy) is normally caused by multiple physical drive failures. HP System Management Homepage (may require starting service hpsmhd): https://{HOST.CONN}:2381</description>
                </trigger_prototype>
                <trigger_prototype>
                  <expression>{last()}=3</expression>
                  <name>{HOST.NAME}: Logical Drive {#SNMPINDEX} [{#SNMPVALUE}] is degraded</name>
                  <priority>WARNING</priority>
                  <description>This logical drive drive (volume) is degraded. For more information, go to the system management homepage, then check the array configuration utility (may need to be started from the command line first). This alert normally is normally means that redundancy has been lost because an underlying physical drive has failed. This means that now a single drive failure could cause data loss. This alert is normally accompanied by an alert from the physical drive which has failed. Suggested actions are to write a ticket to replace the failed physical drive, then acknowledge the physical and logical drive alerts, writing the ticket number in the notes. HP System Management Homepage (may require starting service hpsmhd): https://{HOST.CONN}:2381</description>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
            <item_prototype>
              <name>HP Logical Drive Fault Tolerance {#SNMPINDEX} [{#SNMPVALUE}]</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.232.3.2.3.1.1.3.{#SNMPINDEX}</snmp_oid>
              <key>cpqDaLogDrvFaultTol[{#SNMPINDEX}]</key>
              <delay>28800</delay>
              <history>1d</history>
              <trends>7d</trends>
              <description>CPQIDA-MIB:: cpqDaLogDrvFaultTol OBJECT-TYPE SYNTAX INTEGER { other(1), none(2), mirroring(3), dataGuard(4), distribDataGuard(5), advancedDataGuard(7), raid50 (8), raid60 (9) } ACCESS read-only STATUS mandatory DESCRIPTION "Logical Drive Fault Tolerance. This shows the fault tolerance mode of the logical drive. The following values are valid for the Logical Drive Fault Tolerance: None (2) Fault tolerance is not enabled. If a physical drive reports an error, the data cannot be recovered by the drive array controller. Mirroring - RAID 1/RAID 1+0 (3) For each physical drive, there is a second physical drive containing identical data. If a drive fails, the data can be retrieved from the mirror drive. Data Guard - RAID 4 (4) One of the physical drives is used as a data guard drive and contains the exclusive OR of the data on the remaining drives. If a failure is detected, the drive array controller rebuilds the data using the data guard information plus information from the other drives. Distributed Data Guard - RAID 5 (5) Distributed Data Guarding, sometimes referred to as RAID 5, is similar to Data Guarding, but instead of storing the parity information on one drive, the information is distributed across all of the drives. If a failure is detected, the drive array controller rebuilds the data using the data guard information from all the drives. Advanced Data Guarding - RAID 6 (7) Advanced Data Guarding (RAID ADG) is the fault tolerance method that provides the highest level of data protection. It 'stripes' data and parity across all the physical drives in the configuration to ensure the uninterrupted availability of uncorrupted data. This fault-tolerance method is similar to distributed data guard (RAID 5) in that parity data is distributed across all drives in the array, except in RAID ADG the capacity of multiple drives is used to store parity data. Assuming the capacity of 2 drives is used for parity data, this allows continued operation despite simultaneous failure of any 2 drives in the array, whereas RAID 4 and RAID 5 can only sustain failure of a single drive. RAID 50 (8) Distributed data guarding (RAID 5) with multiple parity groups. RAID 60 (9) Advanced data guarding (RAID 6) with multiple parity groups." ::= { cpqDaLogDrvEntry 3 }</description>
              <applications>
                <application>
                  <name>HP Drive Array</name>
                </application>
              </applications>
              <valuemap>
                <name>cpqDaLogDrvFaultTol</name>
              </valuemap>
            </item_prototype>
            <item_prototype>
              <name>HP Logical Drive Size {#SNMPINDEX} [{#SNMPVALUE}]</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.232.3.2.3.1.1.9.{#SNMPINDEX}</snmp_oid>
              <key>cpqDaLogDrvSize[{#SNMPINDEX}]</key>
              <delay>28800</delay>
              <history>1d</history>
              <trends>7d</trends>
              <units>B</units>
              <description>CPQIDA-MIB:: cpqDaLogDrvSize OBJECT-TYPE SYNTAX INTEGER (0..2147483647) ACCESS read-only STATUS mandatory DESCRIPTION "Logical Drive Size. This is the size of the logical drive in megabytes. This value is calculated using the value 1,048,576 (2^20) as a megabyte. Drive manufacturers sometimes use the number 1,000,000 as a megabyte when giving drive capacities so this value may differ from the advertised size of a drive." ::= { cpqDaLogDrvEntry 9 }</description>
              <applications>
                <application>
                  <name>HP Drive Array</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>1048576</params>
                </step>
              </preprocessing>
            </item_prototype>
          </item_prototypes>
        </discovery_rule>
        <discovery_rule>
          <name>Memory Modules</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.232.6.2.14.13.1.19]</snmp_oid>
          <key>snmp.discovery[memoryModules]</key>
          <delay>3600</delay>
          <status>DISABLED</status>
          <filter>
            <conditions>
              <condition>
                <macro>{#SNMPVALUE}</macro>
                <value>^[^2]</value>
                <formulaid>A</formulaid>
              </condition>
            </conditions>
          </filter>
          <lifetime>0</lifetime>
          <description>Enable this discovery rule to monitor each memory module (i.e. to show which modules are installed in which sockets). If this rule is enabled, disable the top-level item "HP Resilient Memory Condition" so you don''t get 2 alerts in the event of a memory failure. If you don't need monitoring of individual memory modules, leave this disabled, and leave the top-level item "HP Resilient Memory Condition" enabled. Walk the cpqHeResMem2ModuleStatus, filter out any modules which are "notPresent(2)" CPQHLTH-MIB:: cpqHeResMem2ModuleStatus OBJECT-TYPE SYNTAX INTEGER { other(1), notPresent(2), present(3), good(4), add(5), upgrade(6), missing(7), doesNotMatch(8), notSupported(9), badConfig(10), degraded(11)</description>
          <item_prototypes>
            <item_prototype>
              <name>HP Memory Module CPU Number [{#SNMPINDEX}]</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.232.6.2.14.13.1.3.{#SNMPINDEX}</snmp_oid>
              <key>cpqHeResMem2CpuNum[{#SNMPINDEX}]</key>
              <delay>28800</delay>
              <history>1d</history>
              <trends>1d</trends>
              <description>CPQHLTH-MIB:: cpqHeResMem2CpuNum OBJECT-TYPE SYNTAX INTEGER ACCESS read-only STATUS mandatory DESCRIPTION "The memory module CPU number. Value 0 means memory is not Processor based." ::= { cpqHeResMem2ModuleEntry 3 }</description>
              <applications>
                <application>
                  <name>Memory Modules</name>
                </application>
              </applications>
            </item_prototype>
            <item_prototype>
              <name>HP Memory Module Condition [{#SNMPINDEX}]</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.232.6.2.14.13.1.20.{#SNMPINDEX}</snmp_oid>
              <key>cpqHeResMem2ModuleCondition[{#SNMPINDEX}]</key>
              <delay>300</delay>
              <history>7d</history>
              <trends>30d</trends>
              <description>CPQHLTH-MIB:: cpqHeResMem2ModuleCondition OBJECT-TYPE SYNTAX INTEGER { other(1), ok(2), degraded(3), degradedModuleIndexUnknown(4) } ACCESS read-only STATUS mandatory DESCRIPTION "This provides the current status of the correctable memory errors for this memory module. The following status values are supported: other(1): ECC is not supported on this memory module or the condition could not be determined. ok(2): The memory module is operating normally. degraded(3): The memory module is correctable error count has exceeded threshold or a configuration error has been detected. degradedModuleIndexUnknown(4): The correctable error count has exceeded threshold. The module number not available." ::= { cpqHeResMem2ModuleEntry 20 }</description>
              <applications>
                <application>
                  <name>Memory Modules</name>
                </application>
              </applications>
              <valuemap>
                <name>cpqCondition</name>
              </valuemap>
            </item_prototype>
            <item_prototype>
              <name>HP Memory Module Number [{#SNMPINDEX}]</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.232.6.2.14.13.1.5.{#SNMPINDEX}</snmp_oid>
              <key>cpqHeResMem2ModuleNum[{#SNMPINDEX}]</key>
              <delay>28800</delay>
              <history>1d</history>
              <trends>1d</trends>
              <description>CPQHLTH-MIB:: cpqHeResMem2ModuleNum OBJECT-TYPE SYNTAX INTEGER ACCESS read-only STATUS mandatory DESCRIPTION "The memory module number." ::= { cpqHeResMem2ModuleEntry 5 }</description>
              <applications>
                <application>
                  <name>Memory Modules</name>
                </application>
              </applications>
            </item_prototype>
            <item_prototype>
              <name>HP Memory Module Size [{#SNMPINDEX}]</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.232.6.2.14.13.1.6.{#SNMPINDEX}</snmp_oid>
              <key>cpqHeResMem2ModuleSize[{#SNMPINDEX}]</key>
              <delay>28800</delay>
              <history>1d</history>
              <trends>1d</trends>
              <units>B</units>
              <description>CPQHLTH-MIB:: cpqHeResMem2ModuleSize OBJECT-TYPE SYNTAX INTEGER (0..2147483647) ACCESS read-only STATUS mandatory DESCRIPTION "Module memory size in kilobytes. A kilobyte of memory is defined as 1024 bytes. A size of 0 indicates the module is not present." ::= { cpqHeResMem2ModuleEntry 6 }</description>
              <applications>
                <application>
                  <name>Memory Modules</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>1024</params>
                </step>
              </preprocessing>
            </item_prototype>
          </item_prototypes>
          <trigger_prototypes>
            <trigger_prototype>
              <expression>{Template_HP_SNMP_Autodiscovery:cpqHeResMem2ModuleCondition[{#SNMPINDEX}].last()}>2 and {Template_HP_SNMP_Autodiscovery:cpqHeResMem2ModuleNum[{#SNMPINDEX}].last()}&lt;>99 and {Template_HP_SNMP_Autodiscovery:cpqHeResMem2CpuNum[{#SNMPINDEX}].last()}&lt;>99</expression>
              <name>{HOST.NAME}: Memory Module {#SNMPINDEX} is degraded</name>
              <priority>AVERAGE</priority>
              <description>The correctable error count for this memory module has been exceeded. It needs to be replaced. Suggested actions are to write a ticket to replace the module, then acknowledge the alert, writing the ticket number in the notes. HP System Management Homepage (may require starting service hpsmhd): https://{HOST.CONN}:2381</description>
            </trigger_prototype>
          </trigger_prototypes>
        </discovery_rule>
        <discovery_rule>
          <name>Physical Drives</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.232.3.2.5.1.1.64]</snmp_oid>
          <key>snmp.discovery[physicalDrives]</key>
          <delay>3600</delay>
          <lifetime>0</lifetime>
          <description>Walk the cpqDaPhyDrvLocationString table to get drive locations: CPQIDA-MIB:: cpqDaPhyDrvLocationString OBJECT-TYPE SYNTAX DisplayString (SIZE (0..255)) ACCESS read-only STATUS mandatory DESCRIPTION "Physical Drive Location String. This string describes the location of the drive in relation to the controller. If the location string cannot be determined, the agent will return a NULL string." ::= { cpqDaPhyDrvEntry 64 }</description>
          <item_prototypes>
            <item_prototype>
              <name>HP Physical Drive Condition {#SNMPINDEX}</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.232.3.2.5.1.1.37.{#SNMPINDEX}</snmp_oid>
              <key>cpqDaPhyDrvCondition[{#SNMPINDEX}]</key>
              <delay>300</delay>
              <history>7d</history>
              <trends>90d</trends>
              <description>CPQIDA-MIB:: cpqDaPhyDrvCondition OBJECT-TYPE SYNTAX INTEGER { other(1), ok(2), degraded(3), failed(4) } ACCESS read-only STATUS mandatory DESCRIPTION "The condition of the device. This value represents the overall condition of this physical drive." ::= { cpqDaPhyDrvEntry 37 }</description>
              <applications>
                <application>
                  <name>HP Drive Array</name>
                </application>
              </applications>
              <valuemap>
                <name>cpqCondition</name>
              </valuemap>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()}=4</expression>
                  <name>{HOST.NAME}: Drive {#SNMPINDEX} has failed [{#SNMPVALUE}]</name>
                  <priority>AVERAGE</priority>
                  <description>This drive has failed. It needs to be replaced. This alert will normally be accompanied by an alert from a logical drive which has now lost redundancy. This means that now a single drive failure can cause data loss. Suggested actions are to write a ticket to replace the failed physical drive, then acknowledge the physical and logical drive alerts, writing the ticket number in the notes. HP System Management Homepage (may require starting service hpsmhd): https://{HOST.CONN}:2381</description>
                </trigger_prototype>
                <trigger_prototype>
                  <expression>{last()}=3</expression>
                  <name>{HOST.NAME}: Drive {#SNMPINDEX} is degraded [{#SNMPVALUE}]</name>
                  <priority>WARNING</priority>
                  <description>This drive is degraded (may mean predictive failure). It should be replaced. Suggested actions are to write a ticket to replace the drive, then acknowledge the alert, writing the ticket number in the notes. HP System Management Homepage (may require starting service hpsmhd): https://{HOST.CONN}:2381</description>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
            <item_prototype>
              <name>HP Physical Drive Reads/Sec {#SNMPINDEX}</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.232.3.2.5.1.1.11.{#SNMPINDEX}</snmp_oid>
              <key>cpqDaPhyDrvReadsSec[{#SNMPINDEX}]</key>
              <delay>60</delay>
              <history>30d</history>
              <units>reads/s</units>
              <description>Number of sector reads/sec CPQIDA-MIB:: cpqDaPhyDrvReads OBJECT-TYPE SYNTAX Counter ACCESS read-only STATUS mandatory DESCRIPTION "Sectors Read (low). The phyDrvHReads and the phyDrvReads together shows the total number of sectors read from the physical disk drive during the reference time (phyDrvRefHours). The actual number of sectors read equals the phyDrvHReads times 2^32 plus the phyDrvReads. This information may be useful for determining rates. For instance, if you wanted to calculate the average number of reads per hour of operation, divide this number by the reference hours." ::= { cpqDaPhyDrvEntry 11 }</description>
              <applications>
                <application>
                  <name>HP Drive Array</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>HP Physical Drive Total Bytes Read {#SNMPINDEX}</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.232.3.2.5.1.1.11.{#SNMPINDEX}</snmp_oid>
              <key>cpqDaPhyDrvReads[{#SNMPINDEX}]</key>
              <delay>600</delay>
              <history>7d</history>
              <units>B</units>
              <description>Running total of number of bytes read from this drive. Wraps every 2TB. CPQIDA-MIB:: cpqDaPhyDrvReads OBJECT-TYPE SYNTAX Counter ACCESS read-only STATUS mandatory DESCRIPTION "Sectors Read (low). The phyDrvHReads and the phyDrvReads together shows the total number of sectors read from the physical disk drive during the reference time (phyDrvRefHours). The actual number of sectors read equals the phyDrvHReads times 2^32 plus the phyDrvReads. This information may be useful for determining rates. For instance, if you wanted to calculate the average number of reads per hour of operation, divide this number by the reference hours." ::= { cpqDaPhyDrvEntry 11 }</description>
              <applications>
                <application>
                  <name>HP Drive Array</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>512</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>HP Physical Drive Serial Number {#SNMPINDEX}</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.232.3.2.5.1.1.51.{#SNMPINDEX}</snmp_oid>
              <key>cpqDaPhyDrvSerialNum[{#SNMPINDEX}]</key>
              <delay>28800</delay>
              <history>1d</history>
              <trends>0</trends>
              <value_type>TEXT</value_type>
              <description>CPQIDA-MIB:: cpqDaPhyDrvSerialNum OBJECT-TYPE SYNTAX DisplayString (SIZE (0..40)) ACCESS read-only STATUS mandatory DESCRIPTION "Physical Drive Serial Number. This is the serial number assigned to the physical drive. This value is based upon the serial number as returned by the SCSI inquiry command but may have been modified due to space limitations. This can be used for identification purposes." ::= { cpqDaPhyDrvEntry 51 }</description>
              <applications>
                <application>
                  <name>HP Drive Array</name>
                </application>
              </applications>
            </item_prototype>
            <item_prototype>
              <name>HP Physical Drive Size {#SNMPINDEX}</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.232.3.2.5.1.1.45.{#SNMPINDEX}</snmp_oid>
              <key>cpqDaPhyDrvSize[{#SNMPINDEX}]</key>
              <delay>28800</delay>
              <history>1d</history>
              <trends>7d</trends>
              <units>B</units>
              <description>CPQIDA-MIB:: cpqDaPhyDrvSize OBJECT-TYPE SYNTAX INTEGER ACCESS read-only STATUS mandatory DESCRIPTION "Physical Drive Size in MB. This is the size of the physical drive in megabytes. This value is calculated using the value 1,048,576 (2^20) as a megabyte. Drive manufacturers sometimes use the number 1,000,000 as a megabyte when giving drive capacities so this value may differ from the advertised size of a drive. This field is only applicable for controllers which support SCSI drives, and therefore is not supported by the IDA or IDA-2 controllers. The field will contain 0xFFFFFFFF if the drive capacity cannot be calculated or if the controller does not support SCSI drives." ::= { cpqDaPhyDrvEntry 45 }</description>
              <applications>
                <application>
                  <name>HP Drive Array</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>1048576</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>HP Physical Drive Writes/Sec {#SNMPINDEX}</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.232.3.2.5.1.1.13.{#SNMPINDEX}</snmp_oid>
              <key>cpqDaPhyDrvWritesSec[{#SNMPINDEX}]</key>
              <delay>60</delay>
              <history>30d</history>
              <units>writes/s</units>
              <description>Number of sector writes/sec CPQIDA-MIB:: cpqDaPhyDrvWrites OBJECT-TYPE SYNTAX Counter ACCESS read-only STATUS mandatory DESCRIPTION "Sectors Written (low). The phyDrvHWrites and the phyDrvWrites together shows the total number of sectors written to the physical disk drive during the reference hours (phyDrvRefHours). The actual number of sectors written equals the phyDrvHWrites times 2^32 plus the phyDrvWrites. This information may be useful for determining rates. For instance, if you wanted to calculate the average number of writes per hour of operation, divide this number by the reference hours. " ::= { cpqDaPhyDrvEntry 13 }</description>
              <applications>
                <application>
                  <name>HP Drive Array</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>HP Physical Drive Total Bytes Written {#SNMPINDEX}</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.232.3.2.5.1.1.13.{#SNMPINDEX}</snmp_oid>
              <key>cpqDaPhyDrvWrites[{#SNMPINDEX}]</key>
              <delay>600</delay>
              <history>7d</history>
              <units>B</units>
              <description>Running total of number of bytes written to this drive. Wraps every 2TB. CPQIDA-MIB:: cpqDaPhyDrvWrites OBJECT-TYPE SYNTAX Counter ACCESS read-only STATUS mandatory DESCRIPTION "Sectors Written (low). The phyDrvHWrites and the phyDrvWrites together shows the total number of sectors written to the physical disk drive during the reference hours (phyDrvRefHours). The actual number of sectors written equals the phyDrvHWrites times 2^32 plus the phyDrvWrites. This information may be useful for determining rates. For instance, if you wanted to calculate the average number of writes per hour of operation, divide this number by the reference hours. " ::= { cpqDaPhyDrvEntry 13 }</description>
              <applications>
                <application>
                  <name>HP Drive Array</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>512</params>
                </step>
              </preprocessing>
            </item_prototype>
          </item_prototypes>
        </discovery_rule>
        <discovery_rule>
          <name>Power Supplies</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.232.6.2.9.3.1.3]</snmp_oid>
          <key>snmp.discovery[powerSupplies]</key>
          <delay>3600</delay>
          <filter>
            <conditions>
              <condition>
                <macro>{#SNMPVALUE}</macro>
                <value>^[^2]</value>
                <formulaid>A</formulaid>
              </condition>
            </conditions>
          </filter>
          <lifetime>0</lifetime>
          <description>Walk the cpqHeFltTolPowerSupplyPresent table, filter out any modules which are "absent(2)" CPQHLTH-MIB:: cpqHeFltTolPowerSupplyPresent OBJECT-TYPE SYNTAX INTEGER { other(1), absent(2), present(3) } ACCESS read-only STATUS mandatory DESCRIPTION "Indicates whether the power supply is present in the chassis." ::= { cpqHeFltTolPowerSupplyEntry 3 }</description>
          <item_prototypes>
            <item_prototype>
              <name>HP Power Supply Condition {#SNMPINDEX}</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.232.6.2.9.3.1.4.{#SNMPINDEX}</snmp_oid>
              <key>cpqHeFltTolPowerSupplyCondition[{#SNMPINDEX}]</key>
              <delay>300</delay>
              <history>7d</history>
              <trends>30d</trends>
              <description>CPQHLTH-MIB:: cpqHeFltTolPowerSupplyCondition OBJECT-TYPE SYNTAX INTEGER { other(1), ok(2), degraded(3), failed(4) } ACCESS read-only STATUS mandatory DESCRIPTION "The condition of the power supply. This value will be one of the following: other(1) The status could not be determined or not present. ok(2) The power supply is operating normally. degraded(3) A temperature sensor, fan or other power supply component is outside of normal operating range. failed(4) A power supply component detects a condition that could permanently damage the system." ::= { cpqHeFltTolPowerSupplyEntry 4 }</description>
              <applications>
                <application>
                  <name>HP Health</name>
                </application>
              </applications>
              <valuemap>
                <name>cpqCondition</name>
              </valuemap>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()}=4</expression>
                  <name>{HOST.NAME}: Power Supply {#SNMPINDEX} has failed</name>
                  <priority>AVERAGE</priority>
                  <description>This power supply is reporting that it has failed. This could mean that the supply has failed and needs replacement, or it could also mean that there is no input power due to a cabling problem. Check to make sure that there is power going to this supply, if so it has failed and needs to be replaced. HP System Management Homepage (may require starting service hpsmhd): https://{HOST.CONN}:2381</description>
                </trigger_prototype>
                <trigger_prototype>
                  <expression>{last()}=3</expression>
                  <name>{HOST.NAME}: Power Supply {#SNMPINDEX} is degraded</name>
                  <priority>WARNING</priority>
                  <description>This power supply is reporting a degraded condition. This could mean that a fan has failed, or a termperature reading is too high. Check the iLO or system management homepage for more information. If a fan has failed, it needs to be replaced. HP System Management Homepage (may require starting service hpsmhd): https://{HOST.CONN}:2381</description>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
            <item_prototype>
              <name>HP Power Supply Redundant {#SNMPINDEX}</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.232.6.2.9.3.1.9.{#SNMPINDEX}</snmp_oid>
              <key>cpqHeFltTolPowerSupplyRedundant[{#SNMPINDEX}]</key>
              <delay>3600</delay>
              <history>7d</history>
              <trends>30d</trends>
              <description>CPQHLTH-MIB:: cpqHeFltTolPowerSupplyRedundant OBJECT-TYPE SYNTAX INTEGER { other(1), notRedundant(2), redundant(3) } ACCESS read-only STATUS mandatory DESCRIPTION "The redundancy state of the power supply. This value will be one of the following: other(1) The redundancy state could not be determined. notRedundant(2) The power supply is not operating in a redundant state. redundant(3) The power supply is operating in a redundant state." ::= { cpqHeFltTolPowerSupplyEntry 9 }</description>
              <applications>
                <application>
                  <name>HP Health</name>
                </application>
              </applications>
              <valuemap>
                <name>cpqRedundant</name>
              </valuemap>
            </item_prototype>
          </item_prototypes>
        </discovery_rule>
      </discovery_rules>
    </template>
  </templates>
  <value_maps>
    <value_map>
      <name>cpqCondition</name>
      <mappings>
        <mapping>
          <value>1</value>
          <newvalue>other</newvalue>
        </mapping>
        <mapping>
          <value>2</value>
          <newvalue>OK</newvalue>
        </mapping>
        <mapping>
          <value>3</value>
          <newvalue>degraded</newvalue>
        </mapping>
        <mapping>
          <value>4</value>
          <newvalue>failed</newvalue>
        </mapping>
      </mappings>
    </value_map>
    <value_map>
      <name>cpqDaAccelBackupPowerSource</name>
      <mappings>
        <mapping>
          <value>1</value>
          <newvalue>other</newvalue>
        </mapping>
        <mapping>
          <value>2</value>
          <newvalue>battery</newvalue>
        </mapping>
        <mapping>
          <value>3</value>
          <newvalue>capacitor</newvalue>
        </mapping>
        <mapping>
          <value>4</value>
          <newvalue>Flash-Backed Write Cache</newvalue>
        </mapping>
      </mappings>
    </value_map>
    <value_map>
      <name>cpqDaAccelBatteryStatus</name>
      <mappings>
        <mapping>
          <value>1</value>
          <newvalue>other</newvalue>
        </mapping>
        <mapping>
          <value>2</value>
          <newvalue>ok</newvalue>
        </mapping>
        <mapping>
          <value>3</value>
          <newvalue>recharging</newvalue>
        </mapping>
        <mapping>
          <value>4</value>
          <newvalue>failed</newvalue>
        </mapping>
        <mapping>
          <value>5</value>
          <newvalue>degraded</newvalue>
        </mapping>
        <mapping>
          <value>6</value>
          <newvalue>notPresent</newvalue>
        </mapping>
        <mapping>
          <value>7</value>
          <newvalue>capacitorFailed</newvalue>
        </mapping>
      </mappings>
    </value_map>
    <value_map>
      <name>cpqDaAccelStatus</name>
      <mappings>
        <mapping>
          <value>1</value>
          <newvalue>other</newvalue>
        </mapping>
        <mapping>
          <value>2</value>
          <newvalue>invalid</newvalue>
        </mapping>
        <mapping>
          <value>3</value>
          <newvalue>enabled</newvalue>
        </mapping>
        <mapping>
          <value>4</value>
          <newvalue>tmpDisabled</newvalue>
        </mapping>
        <mapping>
          <value>5</value>
          <newvalue>permDisabled</newvalue>
        </mapping>
        <mapping>
          <value>6</value>
          <newvalue>cacheModFlashMemNotAttached</newvalue>
        </mapping>
        <mapping>
          <value>7</value>
          <newvalue>cacheModDegradedFailsafeSpeed</newvalue>
        </mapping>
        <mapping>
          <value>8</value>
          <newvalue>cacheModCriticalFailure</newvalue>
        </mapping>
        <mapping>
          <value>9</value>
          <newvalue>cacheReadCacheNotMapped</newvalue>
        </mapping>
      </mappings>
    </value_map>
    <value_map>
      <name>cpqDaCntlrDriveWriteCacheState</name>
      <mappings>
        <mapping>
          <value>1</value>
          <newvalue>other</newvalue>
        </mapping>
        <mapping>
          <value>2</value>
          <newvalue>disabled</newvalue>
        </mapping>
        <mapping>
          <value>3</value>
          <newvalue>enabled</newvalue>
        </mapping>
      </mappings>
    </value_map>
    <value_map>
      <name>cpqDaLogDrvFaultTol</name>
      <mappings>
        <mapping>
          <value>1</value>
          <newvalue>other</newvalue>
        </mapping>
        <mapping>
          <value>2</value>
          <newvalue>none</newvalue>
        </mapping>
        <mapping>
          <value>3</value>
          <newvalue>mirroring</newvalue>
        </mapping>
        <mapping>
          <value>4</value>
          <newvalue>dataGuard</newvalue>
        </mapping>
        <mapping>
          <value>5</value>
          <newvalue>distribDataGuard</newvalue>
        </mapping>
        <mapping>
          <value>7</value>
          <newvalue>advancedDataGuard</newvalue>
        </mapping>
        <mapping>
          <value>8</value>
          <newvalue>raid50</newvalue>
        </mapping>
        <mapping>
          <value>9</value>
          <newvalue>raid60</newvalue>
        </mapping>
      </mappings>
    </value_map>
    <value_map>
      <name>cpqRedundant</name>
      <mappings>
        <mapping>
          <value>1</value>
          <newvalue>other</newvalue>
        </mapping>
        <mapping>
          <value>2</value>
          <newvalue>notRedundant</newvalue>
        </mapping>
        <mapping>
          <value>3</value>
          <newvalue>redundant</newvalue>
        </mapping>
      </mappings>
    </value_map>
  </value_maps>
</zabbix_export>