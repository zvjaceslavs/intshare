zabbix_export:
  version: '5.4'
  date: '2021-10-19T20:41:38Z'
  groups:
    -
      uuid: 7df96b18c230490a9a0a9e2307226338
      name: Templates
  templates:
    -
      uuid: 823900e671f64521aa0b4471cc3c8c0f
      template: 'Template Eaton UPS'
      name: 'Template Eaton UPS'
      groups:
        -
          name: Templates
      items:
        -
          uuid: 2615a917aa9c469e87518884aa0f3c5e
          name: 'Agent Software Version'
          type: SNMP_AGENT
          snmp_oid: iso.3.6.1.2.1.33.1.1.4.0
          key: get.agentsoftwareversion
          delay: 1d
          trends: '0'
          value_type: TEXT
          tags:
            -
              tag: Application
              value: Informations
        -
          uuid: b7dbbb13b22545d6a5493afc3c3671ad
          name: 'Alarms Present'
          type: SNMP_AGENT
          snmp_oid: iso.3.6.1.2.1.33.1.6.1.0
          key: get.alarms.present
          tags:
            -
              tag: Application
              value: Alarms
        -
          uuid: c00c02c102804483a95b7ef431b78d23
          name: 'Seconds on Battery'
          type: SNMP_AGENT
          snmp_oid: iso.3.6.1.2.1.33.1.2.2.0
          key: get.battery.seconds
          value_type: FLOAT
          units: s
          tags:
            -
              tag: Application
              value: Informations
        -
          uuid: 26fa38a70c2845cd80883100630398fd
          name: 'Battery Status'
          type: SNMP_AGENT
          snmp_oid: iso.3.6.1.2.1.33.1.2.1.0
          key: get.battery.status
          valuemap:
            name: 'Battery Status'
          tags:
            -
              tag: Application
              value: Informations
        -
          uuid: 1713f66a54264f8c94a0a47148fd5d4a
          name: 'Battery Voltage'
          type: SNMP_AGENT
          snmp_oid: iso.3.6.1.2.1.33.1.2.5.0
          key: get.battery.voltage
          value_type: FLOAT
          units: 'Volt DC'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.1'
          tags:
            -
              tag: Application
              value: Informations
        -
          uuid: fb894cb65f40441ea575b8561d92c634
          name: 'Estimated Charge Remaining'
          type: SNMP_AGENT
          snmp_oid: iso.3.6.1.2.1.33.1.2.4.0
          key: get.estimated.charge
          value_type: FLOAT
          units: '%'
          tags:
            -
              tag: Application
              value: Estimated
        -
          uuid: d90fa303042d4e7694b39561892928a4
          name: 'Estimated Minuted Remaining'
          type: SNMP_AGENT
          snmp_oid: iso.3.6.1.2.1.33.1.2.3.0
          key: get.estimated.minutes
          value_type: FLOAT
          units: min
          tags:
            -
              tag: Application
              value: Estimated
        -
          uuid: 2a24e1f8684449b19dea309bfe414528
          name: 'Output Frequency'
          type: SNMP_AGENT
          snmp_oid: iso.3.6.1.2.1.33.1.4.2.0
          key: get.output.frequency
          units: Hertz
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.1'
          tags:
            -
              tag: Application
              value: Output
        -
          uuid: 0f90188794bb43398f2348a041656bc4
          name: 'Output Source Status'
          type: SNMP_AGENT
          snmp_oid: iso.3.6.1.2.1.33.1.4.1.0
          key: get.output.status
          valuemap:
            name: 'Output Source Status'
          tags:
            -
              tag: Application
              value: Output
        -
          uuid: 8c00f76c32d54466882f4c299b5e4141
          name: 'Serial Number'
          type: SNMP_AGENT
          snmp_oid: iso.3.6.1.2.1.33.1.1.5.0
          key: get.upserial
          delay: 1d
          trends: '0'
          value_type: TEXT
          tags:
            -
              tag: Application
              value: Informations
        -
          uuid: ba3e1376d8d541978d5d1c0be8eeb1c5
          name: Manufacturer
          type: SNMP_AGENT
          snmp_oid: iso.3.6.1.2.1.33.1.1.1.0
          key: get.upsIdentManufacturer
          delay: 1d
          trends: '0'
          value_type: TEXT
          tags:
            -
              tag: Application
              value: Informations
        -
          uuid: a9126c7b54674673bc359fd1e171352d
          name: Model
          type: SNMP_AGENT
          snmp_oid: iso.3.6.1.2.1.33.1.1.2.0
          key: get.upsModel
          delay: 1d
          trends: '0'
          value_type: TEXT
          tags:
            -
              tag: Application
              value: Informations
        -
          uuid: 6fea8c3c27134c1c8e322b877c056f81
          name: 'UPS Software Version'
          type: SNMP_AGENT
          snmp_oid: iso.3.6.1.2.1.33.1.1.3.0
          key: get.upssoftversion
          delay: 1d
          trends: '0'
          value_type: TEXT
          tags:
            -
              tag: Application
              value: Informations
      discovery_rules:
        -
          uuid: 0652129d6377445297fe6fe2b3f1a632
          name: 'Discovery Alarms'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#ALARM},1.3.6.1.2.1.33.1.6.1]'
          key: alarms.discovery
          filter:
            conditions:
              -
                macro: '{#ALARM}'
                value: ^0
                operator: NOT_MATCHES_REGEX
                formulaid: A
          description: 'The present number of active alarm conditions.'
          item_prototypes:
            -
              uuid: 9ce7db57f9ef4ca8a13e92cee75c1102
              name: 'Alarms Description'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.33.1.6.2.{#ALARM}.2'
              key: 'get.alarms.description[{#ALARM}]'
              trends: '0'
              value_type: TEXT
              description: 'A reference to an alarm description object. The object referenced should not be accessible, but rather be used to provide a unique description of the alarm condition.'
              tags:
                -
                  tag: Application
                  value: Alarms
            -
              uuid: 8540f7d5aaba472ca68d8009d67a82c6
              name: 'Alarms ID'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.33.1.6.2.{#ALARM}.1'
              key: 'get.alarms.id[{#ALARM}]'
              trends: '0'
              value_type: TEXT
              description: 'A reference to an alarm description object. The object referenced should not be accessible, but rather be used to provide a unique description of the alarm condition.'
              tags:
                -
                  tag: Application
                  value: Alarms
              trigger_prototypes:
                -
                  uuid: 793fcfbac398444eaa06807b8b9de9e0
                  expression: 'last(/Template Eaton UPS/get.alarms.id[{#ALARM}])>0'
                  name: 'An Alarm has been detected: ID {last(/Template Eaton UPS/get.alarms.id[{#ALARM}])}'
                  priority: WARNING
                  description: |
                    {last(/Template Eaton UPS/get.alarms.description[{#ALARM}])}
                    {last(/Template Eaton UPS/get.alarms.time[{#ALARM}])}
            -
              uuid: ac5bb63ae4fd42c09b6e109a586eaf64
              name: 'Alarms Time'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.2.1.33.1.6.2.{#ALARM}.3'
              key: 'get.alarms.time[{#ALARM}]'
              trends: '0'
              value_type: TEXT
              description: 'The value of sysUpTime when the alarm condition was detected. If the alarm condition was detected at the time of agent startup and presumably existed before agent startup, the value of upsAlarmTime shall equal 0.'
              tags:
                -
                  tag: Application
                  value: Alarms
        -
          uuid: 1d1350747bf7444aa5e4fe595e63445e
          name: 'Discovery Bypass'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#INDEX},1.3.6.1.2.1.33.1.5.2]'
          key: bypass.discovery
          filter:
            conditions:
              -
                macro: '{#INDEX}'
                value: ^0
                operator: NOT_MATCHES_REGEX
                formulaid: A
          item_prototypes:
            -
              uuid: abe5995ace264f70b5141d1d43d01f55
              name: 'Bypass {#INDEX}:  Amps'
              type: SNMP_AGENT
              snmp_oid: 'iso.3.6.1.2.1.33.1.5.3.1.3.{#INDEX}.0'
              key: 'get.bypass.amps[{#INDEX}]'
              value_type: FLOAT
              units: 'RMS Amp'
              description: 'The present bypass current.'
              tags:
                -
                  tag: Application
                  value: Bypass
            -
              uuid: 00946c36afd6460c934ea534f2050cea
              name: 'Bypass {#INDEX}: Voltage'
              type: SNMP_AGENT
              snmp_oid: 'iso.3.6.1.2.1.33.1.5.3.1.2.{#INDEX}.0'
              key: 'get.bypass.voltage[{#INDEX}]'
              value_type: FLOAT
              units: 'RMS Volts'
              tags:
                -
                  tag: Application
                  value: Bypass
          graph_prototypes:
            -
              uuid: 3407b1ad17e74db580bec93b58acc13a
              name: 'Bypass {#INDEX}'
              graph_items:
                -
                  sortorder: '1'
                  color: 009FDB
                  item:
                    host: 'Template Eaton UPS'
                    key: 'get.bypass.voltage[{#INDEX}]'
        -
          uuid: 229b2ea54b534928a965e8862bb064ba
          name: 'Discovery Output'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#INDEX},1.3.6.1.2.1.33.1.4.3]'
          key: get.output.nbrlines
          item_prototypes:
            -
              uuid: 646f0d9520174577b9f302a74ade7227
              name: 'Output {#INDEX}: Amps'
              type: SNMP_AGENT
              snmp_oid: 'iso.3.6.1.2.1.33.1.4.4.1.3.{#INDEX}.0'
              key: 'get.output.amps[{#INDEX}]'
              value_type: FLOAT
              units: A
              description: 'The present output current.'
              tags:
                -
                  tag: Application
                  value: Output
            -
              uuid: a440b2ef4eda4ac1b14a303755603636
              name: 'Output {#INDEX}: Percentage Load'
              type: SNMP_AGENT
              snmp_oid: 'iso.3.6.1.2.1.33.1.4.4.1.5.{#INDEX}.0'
              key: 'get.output.load[{#INDEX}]'
              value_type: FLOAT
              units: '%'
              tags:
                -
                  tag: Application
                  value: Output
              trigger_prototypes:
                -
                  uuid: 953dbd1239fd4bde963efe823cb63fb1
                  expression: 'last(/Template Eaton UPS/get.output.load[{#INDEX}])>=85'
                  name: 'Output {#INDEX} is overloaded'
                  priority: AVERAGE
            -
              uuid: 54088e8fd3594fa9b2abefa49b9cc30f
              name: 'Output {#INDEX}: Power'
              type: SNMP_AGENT
              snmp_oid: 'iso.3.6.1.2.1.33.1.4.4.1.4.{#INDEX}.0'
              key: 'get.output.power[{#INDEX}]'
              value_type: FLOAT
              units: Watts
              description: 'The present output true power.'
              tags:
                -
                  tag: Application
                  value: Output
            -
              uuid: 7573f7ec3b9b40c9a0c4bb4ba48c0dc2
              name: 'Output {#INDEX}: Voltage'
              type: SNMP_AGENT
              snmp_oid: 'iso.3.6.1.2.1.33.1.4.4.1.2.{#INDEX}.0'
              key: 'get.output.voltage[{#INDEX}]'
              value_type: FLOAT
              units: V
              description: 'The present output voltage.'
              tags:
                -
                  tag: Application
                  value: Output
          graph_prototypes:
            -
              uuid: 63afe45933644e798e85a8664eaf9b19
              name: 'Ouput {#INDEX}'
              graph_items:
                -
                  sortorder: '1'
                  color: E30613
                  item:
                    host: 'Template Eaton UPS'
                    key: 'get.output.voltage[{#INDEX}]'
                -
                  sortorder: '2'
                  drawtype: BOLD_LINE
                  color: 009FDB
                  yaxisside: RIGHT
                  item:
                    host: 'Template Eaton UPS'
                    key: 'get.output.amps[{#INDEX}]'
        -
          uuid: 7e7fdbf691284160b132339669e3d06d
          name: 'Discovery Input'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#INDEX},1.3.6.1.2.1.33.1.3.2]'
          key: input.discovery
          item_prototypes:
            -
              uuid: e5ac37978e754a469a5fdf5f3c5e8177
              name: 'Input {#INDEX}: Frequency'
              type: SNMP_AGENT
              snmp_oid: 'iso.3.6.1.2.1.33.1.3.3.1.2.{#INDEX}.0'
              key: 'get.input.frequency[{#INDEX}]'
              units: Hz
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.1'
              tags:
                -
                  tag: Application
                  value: Input
            -
              uuid: 0c93db68dce44dbd89999c0919287e9b
              name: 'Input {#INDEX}: Voltage'
              type: SNMP_AGENT
              snmp_oid: 'iso.3.6.1.2.1.33.1.3.3.1.3.{#INDEX}.0'
              key: 'get.input.voltage[{#INDEX}]'
              value_type: FLOAT
              units: V
              tags:
                -
                  tag: Application
                  value: Input
              trigger_prototypes:
                -
                  uuid: fde619f2dd674f9fb7acb5b8340cd0e7
                  expression: 'last(/Template Eaton UPS/get.input.voltage[{#INDEX}])<=0'
                  name: 'No power has been detected on input n°{#INDEX}'
                  priority: AVERAGE
          graph_prototypes:
            -
              uuid: 6dd2f798b52b4c9ab8ffc1038a280392
              name: 'Input {#INDEX}'
              graph_items:
                -
                  sortorder: '1'
                  color: 009FDB
                  yaxisside: RIGHT
                  item:
                    host: 'Template Eaton UPS'
                    key: 'get.input.frequency[{#INDEX}]'
                -
                  sortorder: '2'
                  color: E30613
                  item:
                    host: 'Template Eaton UPS'
                    key: 'get.input.voltage[{#INDEX}]'
      valuemaps:
        -
          uuid: 225d0e80db904592b90048e11fbce412
          name: 'Battery Status'
          mappings:
            -
              value: '1'
              newvalue: unknown
            -
              value: '2'
              newvalue: Normal
            -
              value: '3'
              newvalue: Low
            -
              value: '4'
              newvalue: Depleted
        -
          uuid: a53b9cc3aa5146ad97c7f773921e1497
          name: 'Output Source Status'
          mappings:
            -
              value: '1'
              newvalue: Other
            -
              value: '2'
              newvalue: None
            -
              value: '3'
              newvalue: Normal
            -
              value: '4'
              newvalue: Bypass
            -
              value: '5'
              newvalue: Battery
            -
              value: '6'
              newvalue: Booster
            -
              value: '7'
              newvalue: Reducer
