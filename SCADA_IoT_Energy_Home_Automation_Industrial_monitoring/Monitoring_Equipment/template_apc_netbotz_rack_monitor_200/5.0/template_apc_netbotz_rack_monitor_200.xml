<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
  <version>5.0</version>
  <date>2021-11-09T08:07:02Z</date>
  <groups>
    <group>
      <name>Templates</name>
    </group>
  </groups>
  <templates>
    <template>
      <template>SNMP APC NetBotz Rack Monitor 200</template>
      <name>SNMP APC NetBotz Rack Monitor 200</name>
      <description>## Overview LLD of Sensors (Only Temperature and humidity) Trigger Prototypes for recommended 45RH% - 55RH% humidity and 20°C - 24°C Temperature Graph Prototypes for Temperature and Humidity. Triggers names contain the last value that cause the trigger so you can see the temp/hum in the alert.</description>
      <groups>
        <group>
          <name>Templates</name>
        </group>
      </groups>
      <applications>
        <application>
          <name>Environment Monitor</name>
        </application>
      </applications>
      <discovery_rules>
        <discovery_rule>
          <name>Internal APC Sensor</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.318.1.1.10.4.2.3.1.3.0]</snmp_oid>
          <key>apc.enviro.sensor</key>
          <delay>30</delay>
          <item_prototypes>
            <item_prototype>
              <name>{#SNMPVALUE} Sensor Humidity</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.318.1.1.10.4.2.3.1.6.0.1</snmp_oid>
              <key>apc.enviro.sensor.int.hum.["{#SNMPINDEX}"]</key>
              <delay>30</delay>
              <units>%RH</units>
              <applications>
                <application>
                  <name>Environment Monitor</name>
                </application>
              </applications>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()}>55</expression>
                  <name>{#SNMPVALUE} {ITEM.LASTVALUE} :: Humidity > 55 RH%</name>
                  <priority>HIGH</priority>
                  <dependencies>
                    <dependency>
                      <name>{#SNMPVALUE} {ITEM.LASTVALUE} :: Humidity > 60 RH%</name>
                      <expression>{SNMP APC NetBotz Rack Monitor 200:apc.enviro.sensor.int.hum.["{#SNMPINDEX}"].last()}>=60</expression>
                    </dependency>
                  </dependencies>
                </trigger_prototype>
                <trigger_prototype>
                  <expression>{last()}>=60</expression>
                  <name>{#SNMPVALUE} {ITEM.LASTVALUE} :: Humidity > 60 RH%</name>
                  <priority>DISASTER</priority>
                </trigger_prototype>
                <trigger_prototype>
                  <expression>{last()}&lt;45</expression>
                  <name>{#SNMPVALUE} {ITEM.LASTVALUE} :: Humidiy&lt; 45 RH%</name>
                  <priority>HIGH</priority>
                  <dependencies>
                    <dependency>
                      <name>{#SNMPVALUE} {ITEM.LASTVALUE} :: Humidty &lt; 40 RH%</name>
                      <expression>{SNMP APC NetBotz Rack Monitor 200:apc.enviro.sensor.int.hum.["{#SNMPINDEX}"].last()}&lt;=40</expression>
                    </dependency>
                  </dependencies>
                </trigger_prototype>
                <trigger_prototype>
                  <expression>{last()}&lt;=40</expression>
                  <name>{#SNMPVALUE} {ITEM.LASTVALUE} :: Humidty &lt; 40 RH%</name>
                  <priority>DISASTER</priority>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
            <item_prototype>
              <name>{#SNMPVALUE} Sensor Temperature</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.318.1.1.10.4.2.3.1.5.0.1</snmp_oid>
              <key>apc.enviro.sensor.int.temp.["{#SNMPINDEX}"]</key>
              <delay>30</delay>
              <units>°C</units>
              <applications>
                <application>
                  <name>Environment Monitor</name>
                </application>
              </applications>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()}&lt;=15</expression>
                  <name>{#SNMPVALUE} {ITEM.LASTVALUE} :: Temperature &lt; 15°C</name>
                  <priority>HIGH</priority>
                  <dependencies>
                    <dependency>
                      <name>{#SNMPVALUE} {ITEM.LASTVALUE} :: Temperature &lt; 19°C</name>
                      <expression>{SNMP APC NetBotz Rack Monitor 200:apc.enviro.sensor.int.temp.["{#SNMPINDEX}"].last()}&lt;=19</expression>
                    </dependency>
                  </dependencies>
                </trigger_prototype>
                <trigger_prototype>
                  <expression>{last()}&lt;=19</expression>
                  <name>{#SNMPVALUE} {ITEM.LASTVALUE} :: Temperature &lt; 19°C</name>
                  <priority>WARNING</priority>
                </trigger_prototype>
                <trigger_prototype>
                  <expression>{last()}>=22</expression>
                  <name>{#SNMPVALUE} {ITEM.LASTVALUE} :: Temperature > 22°C</name>
                  <priority>WARNING</priority>
                  <dependencies>
                    <dependency>
                      <name>{#SNMPVALUE} {ITEM.LASTVALUE} :: Temperature > 24°C</name>
                      <expression>{SNMP APC NetBotz Rack Monitor 200:apc.enviro.sensor.int.temp.["{#SNMPINDEX}"].last()}>=24</expression>
                    </dependency>
                  </dependencies>
                </trigger_prototype>
                <trigger_prototype>
                  <expression>{last()}>=24</expression>
                  <name>{#SNMPVALUE} {ITEM.LASTVALUE} :: Temperature > 24°C</name>
                  <priority>HIGH</priority>
                  <dependencies>
                    <dependency>
                      <name>{#SNMPVALUE} {ITEM.LASTVALUE} :: Temperature > 30°C</name>
                      <expression>{SNMP APC NetBotz Rack Monitor 200:apc.enviro.sensor.int.temp.["{#SNMPINDEX}"].last()}>=30</expression>
                    </dependency>
                  </dependencies>
                </trigger_prototype>
                <trigger_prototype>
                  <expression>{last()}>=30</expression>
                  <name>{#SNMPVALUE} {ITEM.LASTVALUE} :: Temperature > 30°C</name>
                  <priority>DISASTER</priority>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
          </item_prototypes>
          <graph_prototypes>
            <graph_prototype>
              <name>Temp/Hum {#SNMPVALUE}</name>
              <graph_items>
                <graph_item>
                  <color>1A7C11</color>
                  <item>
                    <host>SNMP APC NetBotz Rack Monitor 200</host>
                    <key>apc.enviro.sensor.int.hum.["{#SNMPINDEX}"]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>1</sortorder>
                  <color>F63100</color>
                  <item>
                    <host>SNMP APC NetBotz Rack Monitor 200</host>
                    <key>apc.enviro.sensor.int.temp.["{#SNMPINDEX}"]</key>
                  </item>
                </graph_item>
              </graph_items>
            </graph_prototype>
          </graph_prototypes>
        </discovery_rule>
      </discovery_rules>
    </template>
  </templates>
</zabbix_export>