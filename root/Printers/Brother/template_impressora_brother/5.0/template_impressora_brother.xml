<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>5.0</version><date>2021-10-19T09:46:15Z</date><groups><group><name>Printers</name></group><group><name>Templates</name></group></groups><templates><template><template>Template Brother Printers</template><name>Template Brother Printers</name><templates><template><name>Template SNMP Interfaces</name></template></templates><groups><group><name>Printers</name></group></groups><applications><application><name>Printer</name></application><application><name>Servicos</name></application></applications><items><item><name>Número de Série</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.43.5.1.1.17.1</snmp_oid><key>.1.3.6.1.2.1.43.5.1.1.17.1</key><delay>3600</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Printer</name></application></applications></item><item><name>Contador de Páginas</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.43.10.2.1.4.1.1</snmp_oid><key>.1.3.6.1.2.1.43.10.2.1.4.1.1</key><delay>3600</delay><value_type>FLOAT</value_type><applications><application><name>Printer</name></application></applications></item><item><name>Vida Útil restante do Cilindro</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.43.11.1.1.9.1.2</snmp_oid><key>.1.3.6.1.2.1.43.11.1.1.9.1.2</key><delay>3600</delay><applications><application><name>Printer</name></application></applications></item><item><name>Status do Equipamento</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.43.18.1.1.8.1.1</snmp_oid><key>.1.3.6.1.2.1.43.18.1.1.8.1.1</key><delay>3600</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Printer</name></application></applications></item><item><name>Modelo</name><type>SNMP_AGENT</type><snmp_oid>hrDeviceDescr.1</snmp_oid><key>hrDeviceDescr.1</key><delay>3600</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Printer</name></application></applications></item><item><name>HTTP Check</name><type>SIMPLE</type><key>net.tcp.service[http]</key><delay>30</delay><applications><application><name>Servicos</name></application></applications><triggers><trigger><expression>{last(0)}&lt;&gt;1</expression><name>HTTP Service is Unreachable at {HOST.NAME}</name><priority>HIGH</priority></trigger></triggers></item><item><name>Print Spooler Check</name><type>SIMPLE</type><key>net.tcp.service[tcp,,515]</key><delay>30</delay><applications><application><name>Servicos</name></application></applications><triggers><trigger><expression>{last(0)}=0</expression><name>Printer Spooler Service is Unreachable at {HOST.NAME}</name><priority>HIGH</priority></trigger></triggers></item><item><name>JetDirect Check</name><type>SIMPLE</type><key>net.tcp.service[tcp,,9100]</key><delay>30</delay><applications><application><name>Servicos</name></application></applications><triggers><trigger><expression>{last(0)}=0</expression><name>JetDirect Service is Unreachable at {HOST.NAME}</name><priority>HIGH</priority></trigger></triggers></item><item><name>Contato</name><type>SNMP_AGENT</type><snmp_oid>sysContact.0</snmp_oid><key>sysContact.0</key><delay>3600</delay><history>30d</history><trends>0</trends><status>DISABLED</status><value_type>TEXT</value_type><applications><application><name>Printer</name></application></applications></item><item><name>Localização</name><type>SNMP_AGENT</type><snmp_oid>sysLocation.0</snmp_oid><key>sysLocation.0</key><delay>3600</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Printer</name></application></applications></item></items><discovery_rules><discovery_rule><name>Consumables</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.43.11.1.1.6.1</snmp_oid><key>consumablesID</key><delay>60</delay><item_prototypes><item_prototype><name>$1 Current Capacity</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.43.11.1.1.9.1.{#SNMPINDEX}</snmp_oid><key>ConsumableCurrentCapacity[{#SNMPVALUE}]</key><delay>30</delay><value_type>FLOAT</value_type></item_prototype><item_prototype><name>$1 Max Capacity</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.43.11.1.1.8.1.{#SNMPINDEX}</snmp_oid><key>ConsumableMaxCapacity[{#SNMPVALUE}]</key><delay>30</delay><value_type>FLOAT</value_type></item_prototype><item_prototype><name>$1 Calculated Capacity (current/max)</name><type>CALCULATED</type><key>CosumableCalculated[{#SNMPVALUE}]</key><delay>30</delay><value_type>FLOAT</value_type><units>%</units><params>last(&quot;ConsumableCurrentCapacity[{#SNMPVALUE}]&quot;)/last(&quot;ConsumableMaxCapacity[{#SNMPVALUE}]&quot;)</params><description>Depending on the consumable (toner vs drum/belt) this calculation will return a particular percentage.&#13;
&#13;
Drum Units &amp; Belt Units return integer values that can be used in calculations to determine a percentage of how much of the unit is remaining. Max &quot;status&quot; is stored in the MIB and is used in the calculation.&#13;
&#13;
Toner consumables return the follow codes:&#13;
-3 = Level Okay&#13;
-2 = Low Warning (equivalent to “max status”)&#13;
0 = Critical/empty&#13;
&#13;
Toner possibilities for calculations of current / max * 100&#13;
&#13;
-3 / -2 * 100 = 150%&#13;
-2 / -2 * 100 = 100%&#13;
0 / -2 * 100 = 0%&#13;
&#13;
The calculations above are used in the triggers to make it very straight forward on determining if a toner is low or not.</description><preprocessing><step><type>MULTIPLIER</type><params>100</params></step></preprocessing></item_prototype></item_prototypes><trigger_prototypes><trigger_prototype><expression>{Template Brother Printers:CosumableCalculated[{#SNMPVALUE}].last(0)}&lt;10 or {Template Brother Printers:ConsumableCurrentCapacity[{#SNMPVALUE}].last(0)}=0</expression><name>{HOSTNAME} {#SNMPVALUE} - Critical: {ITEM.LASTVALUE}</name><priority>HIGH</priority><description>Checks if at &quot;critical&quot; level for Toners (code = 0) or drum/belt (&lt;10%)</description></trigger_prototype><trigger_prototype><expression>{Template Brother Printers:CosumableCalculated[{#SNMPVALUE}].last(0)}&gt;10 and {Template Brother Printers:CosumableCalculated[{#SNMPVALUE}].last(0)}&lt;30 or {Template Brother Printers:ConsumableCurrentCapacity[{#SNMPVALUE}].last(0)} = -2</expression><name>{HOSTNAME} {#SNMPVALUE} - Low Warning: {ITEM.LASTVALUE}</name><priority>WARNING</priority><description>Checks if at &quot;warning&quot; level for Toners (code = -2) or drum/belt (&gt;10% &amp; &lt;30%)</description></trigger_prototype></trigger_prototypes><graph_prototypes><graph_prototype><name>{#SNMPVALUE}</name><show_work_period>NO</show_work_period><show_triggers>NO</show_triggers><type>STACKED</type><graph_items><graph_item><color>0000C8</color><item><host>Template Brother Printers</host><key>ConsumableCurrentCapacity[{#SNMPVALUE}]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes></discovery_rule></discovery_rules></template><template><template>Template SNMP Interfaces</template><name>Template SNMP Interfaces</name><groups><group><name>Templates</name></group></groups><applications><application><name>Interfaces</name></application></applications><items><item><name>Number of network interfaces</name><type>SNMP_AGENT</type><snmp_oid>IF-MIB::ifNumber.0</snmp_oid><key>ifNumber</key><delay>3600</delay><history>7d</history><description>The number of network interfaces (regardless of their current state) present on this system.</description><applications><application><name>Interfaces</name></application></applications></item></items><discovery_rules><discovery_rule><name>Network interfaces</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SNMPVALUE},IF-MIB::ifDescr]</snmp_oid><key>ifDescr</key><delay>3600</delay><description>You may also consider using IF-MIB::ifType or IF-MIB::ifAlias for discovery depending on your filtering needs.&#13;
&#13;
{$SNMP_COMMUNITY} is a global macro.</description><item_prototypes><item_prototype><name>Admin status of interface $1</name><type>SNMP_AGENT</type><snmp_oid>IF-MIB::ifAdminStatus.{#SNMPINDEX}</snmp_oid><key>ifAdminStatus[{#SNMPVALUE}]</key><delay>60</delay><history>7d</history><description>The desired state of the interface.</description><applications><application><name>Interfaces</name></application></applications><valuemap><name>SNMP interface status (ifAdminStatus)</name></valuemap></item_prototype><item_prototype><name>Alias of interface $1</name><type>SNMP_AGENT</type><snmp_oid>IF-MIB::ifAlias.{#SNMPINDEX}</snmp_oid><key>ifAlias[{#SNMPVALUE}]</key><delay>3600</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><applications><application><name>Interfaces</name></application></applications></item_prototype><item_prototype><name>Description of interface $1</name><type>SNMP_AGENT</type><snmp_oid>IF-MIB::ifDescr.{#SNMPINDEX}</snmp_oid><key>ifDescr[{#SNMPVALUE}]</key><delay>3600</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><description>A textual string containing information about the interface.  This string should include the name of the manufacturer, the product name and the version of the interface hardware/software.</description><applications><application><name>Interfaces</name></application></applications></item_prototype><item_prototype><name>Inbound errors on interface $1</name><type>SNMP_AGENT</type><snmp_oid>IF-MIB::ifInErrors.{#SNMPINDEX}</snmp_oid><key>ifInErrors[{#SNMPVALUE}]</key><delay>60</delay><history>7d</history><description>For packet-oriented interfaces, the number of inbound packets that contained errors preventing them from being deliverable to a higher-layer protocol.  For character-oriented or fixed-length interfaces, the number of inbound transmission units that contained errors preventing them from being deliverable to a higher-layer protocol.</description><applications><application><name>Interfaces</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item_prototype><item_prototype><name>Incoming traffic on interface $1</name><type>SNMP_AGENT</type><snmp_oid>IF-MIB::ifInOctets.{#SNMPINDEX}</snmp_oid><key>ifInOctets[{#SNMPVALUE}]</key><delay>60</delay><history>7d</history><units>bps</units><description>The number of octets in valid MAC frames received on this interface, including the MAC header and FCS.</description><applications><application><name>Interfaces</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step><step><type>MULTIPLIER</type><params>8</params></step></preprocessing></item_prototype><item_prototype><name>Operational status of interface $1</name><type>SNMP_AGENT</type><snmp_oid>IF-MIB::ifOperStatus.{#SNMPINDEX}</snmp_oid><key>ifOperStatus[{#SNMPVALUE}]</key><delay>60</delay><history>7d</history><description>The current operational state of the interface.</description><applications><application><name>Interfaces</name></application></applications><valuemap><name>SNMP interface status (ifOperStatus)</name></valuemap><trigger_prototypes><trigger_prototype><expression>{diff(0)}=1</expression><name>Operational status was changed on {HOST.NAME} interface {#SNMPVALUE}</name><priority>INFO</priority></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>Outbound errors on interface $1</name><type>SNMP_AGENT</type><snmp_oid>IF-MIB::ifOutErrors.{#SNMPINDEX}</snmp_oid><key>ifOutErrors[{#SNMPVALUE}]</key><delay>60</delay><history>7d</history><description>For packet-oriented interfaces, the number of outbound packets that could not be transmitted because of errors. For character-oriented or fixed-length interfaces, the number of outbound transmission units that could not be transmitted because of errors.</description><applications><application><name>Interfaces</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step></preprocessing></item_prototype><item_prototype><name>Outgoing traffic on interface $1</name><type>SNMP_AGENT</type><snmp_oid>IF-MIB::ifOutOctets.{#SNMPINDEX}</snmp_oid><key>ifOutOctets[{#SNMPVALUE}]</key><delay>60</delay><history>7d</history><units>bps</units><description>The number of octets transmitted in MAC frames on this interface, including the MAC header and FCS.</description><applications><application><name>Interfaces</name></application></applications><preprocessing><step><type>CHANGE_PER_SECOND</type><params/></step><step><type>MULTIPLIER</type><params>8</params></step></preprocessing></item_prototype></item_prototypes><graph_prototypes><graph_prototype><name>Traffic on interface {#SNMPVALUE}</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>00AA00</color><item><host>Template SNMP Interfaces</host><key>ifInOctets[{#SNMPVALUE}]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>3333FF</color><item><host>Template SNMP Interfaces</host><key>ifOutOctets[{#SNMPVALUE}]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes></discovery_rule></discovery_rules></template></templates><value_maps><value_map><name>SNMP interface status (ifAdminStatus)</name><mappings><mapping><value>1</value><newvalue>up</newvalue></mapping><mapping><value>2</value><newvalue>down</newvalue></mapping><mapping><value>3</value><newvalue>testing</newvalue></mapping></mappings></value_map><value_map><name>SNMP interface status (ifOperStatus)</name><mappings><mapping><value>1</value><newvalue>up</newvalue></mapping><mapping><value>2</value><newvalue>down</newvalue></mapping><mapping><value>3</value><newvalue>testing</newvalue></mapping><mapping><value>4</value><newvalue>unknown</newvalue></mapping><mapping><value>5</value><newvalue>dormant</newvalue></mapping><mapping><value>6</value><newvalue>notPresent</newvalue></mapping><mapping><value>7</value><newvalue>lowerLayerDown</newvalue></mapping></mappings></value_map></value_maps></zabbix_export>
