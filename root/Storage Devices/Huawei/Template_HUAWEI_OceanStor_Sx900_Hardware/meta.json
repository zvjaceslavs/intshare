{
    "link_name": "Template HUAWEI OceanStor Sx900 Hardware",
    "type": "Template",
    "OS": "",
    "vendor": "Huawei",
    "minZabbVer": "4.2.x",
    "link_desc": "<p>Python and shell script for monitoring HUAWEI OceanStor Sx900 hardware status.</p>\n<p>Maybe applicable for other HUAWEI storage device\uff0cbut I haven\u2018t tested yet.</p>\n<p>This template can monitor controller,disk,enclosure,fan,power.</p>\n<p>The script use SSH to get the hardware status and zabbix_sender to send data to zabbix server, no need to install any other packages.</p>\n<h2><strong>Installation</strong></h2>\n<p>On any server that can login the storage by SSH and can connect to zabbix server:</p>\n<p>1. Install expect package, for example on RHEL:</p>\n<p><code>Yum install expect</code></p>\n<p>2. Install zabbix_ sender package, for example on RHEL\uff1a</p>\n<p><code>yum install zabbix_ sender</code></p>\n<p>3. Create folder:</p>\n<p><code>touch /root/HW_S3900 <code></code></code></p>\n<p>4. Upload *_ status.py, ** info.sh to /root/HW_S3900 and add execution permission:</p>\n<p><code>chmod +x *.py<code></code></code></p>\n<p><code>chmod +x *.sh<code></code></code></p>\n<p>5. Modify the following fields in *.py:</p>\n<p><code> #zabbix_sender path </code></p>\n<p><code>zabbix_ sender = \"/usr/bin/zabbix_sender\" </code></p>\n<p><code>zabbix_ server = 'zabbix_server_ ip' </code></p>\n<p><code>zabbix_ port = '10051' </code></p>\n<p><code>Sx900_IP = 'storage controller IP' </code></p>\n<p><code># controller ssh port </code></p>\n<p><code>Sx900_ Port = '22' </code></p>\n<p><code>Sx900_ Username = 'storage login account' </code></p>\n<p><code>Sx900_ Pwd = 'storage login password' </code></p>\n<p>6. Set crontab task:</p>\n<p><code>crontab -e</code></p>\n<p>Add:</p>\n<p>0 * * * * /usr/bin/python /root/HW_S3900/controller_discovery_status.py > /dev/null 2>&1</p>\n<p>5 * * * * /usr/bin/python /root/HW_S3900/disk_discovery_status.py > /dev/null 2>&1</p>\n<p>10 * * * * /usr/bin/python /root/HW_S3900/enclosure_discovery_status.py > /dev/null 2>&1</p>\n<p>15 * * * * /usr/bin/python /root/HW_S3900/fan_discovery_status.py > /dev/null 2>&1</p>\n<p>20 * * * * /usr/bin/python /root/HW_S3900/power_discovery_status.py > /dev/null 2>&1</p>\n<p>7. Create a host, hostname is storage controller IP, the same with step 5\u3002</p>\n<p>8. Manually execute *.py to check immediately the check whether the monitoring data in zabbix web is refreshed.</p>",
    "features": "Low Level Discovery (LLD)|Zabbix Trapper|SSH|Custom Script|Dependent Items",
    "address": "",
    "city": "",
    "state": "",
    "country": "",
    "postcode": "",
    "telephone": "",
    "fax": "",
    "email": "",
    "website": "https://github.com/zhangrj/HUAWEI-OceanStor-Sx900-Monitor",
    "price": 0,
    "link_hits": 1039,
    "link_votes": 1,
    "link_rating": 5,
    "link_featured": null,
    "link_created": "2020-06-12 01:54:31",
    "link_modified": "2020-07-20 01:12:05",
    "link_visited": 160,
    "publish_up": "2020-06-12 01:54:31",
    "publish_down": "0000-00-00 00:00:00",
    "metakey": "",
    "metadesc": "",
    "1.8": "",
    "2.0": "",
    "2.2": "",
    "2.4": "",
    "3.0": "",
    "3.2": "",
    "3.4": "",
    "4.0": "HUAWEI-OceanStor-Sx900-Monitor-master.zip",
    "4.2": "",
    "4.4": "",
    "5.0": "",
    "5.2": "",
    "tags": "",
    "author": "zhangrongjie",
    "user_id": 11935,
    "link_id": 2115,
    "cat_id": "418",
    "internal_notes": "",
    "lat": 0,
    "lng": 0,
    "zoom": ""
}