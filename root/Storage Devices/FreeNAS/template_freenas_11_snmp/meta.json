{"link_name": "FreeNAS 11 SNMP", "type": "Template", "OS": "", "vendor": "Others", "minZabbVer": "3.4.x", "link_desc": "<p>This is based on <a href=\"storage-devices/freenas-snmp-w-zfs-stats\">https://share.zabbix.com/storage-devices/freenas-snmp-w-zfs-stats</a><br /><br />It has more graphs and triggers. It uses the OID as zabbix was having issues parsing the MIB.</p>\n<p>Please Note: For ZVols, ZPools and Datasets the data is multiplied by 4096 under PreProcessing. This is the AllocationUnits. All of mine were 4096 so decided this is neater. Obviously this can be changed if required, you can get this data from an SNMP Walk. This could be done automatically by creating a item prototype of allocationUnits, another to get the data in units and then another item prototype to to calculate the value in bytes. Instead of 14 item prototypes; there would be 42. If anyone knows of a better way then please let me know.</p>\n<p>Eg: snmpwalk -v 2c -c public 192.168.1.50 FREENAS-MIB::zvolAllocationUnits<br />snmpwalk -v 2c -c public 192.168.1.50 FREENAS-MIB::zpoolAllocationUnits<br />snmpwalk -v 2c -c public 192.168.1.50 FREENAS-MIB::datasetAllocationUnits<br /><br />Note: You might get erros if you don't fix the MIB. See bug here:<br /><a href=\"https://forums.freenas.org/index.php?threads/freenas-11-1-snmp-index-out-of-range.62732/\">https://forums.freenas.org/index.php?threads/freenas-11-1-snmp-index-out-of-range.62732/</a><br /><br />1) Import the following templates if they are not already<br /><a href=\"official-templates/snmp-devices/snmp-interfaces-discovery\">https://share.zabbix.com/official-templates/snmp-devices/snmp-interfaces-discovery</a><br /><a href=\"official-templates/snmp-devices/snmp-processors-discovery\">https://share.zabbix.com/official-templates/snmp-devices/snmp-processors-discovery</a><br /><a href=\"official-templates/snmp-devices/snmp-generic\">https://share.zabbix.com/official-templates/snmp-devices/snmp-generic</a></p>\n<p>2) The FREENAS-MIB.txt will also need to be uploaded to your Zabbix Server. The MIB can be downloaded from your FreeNAS server and is located in /usr/local/share/snmp/mibs/.</p>\n<p>3) Import the template<br /><br />4) Add the host, include the macro {$SNMP_COMMUNITY}<br /><br />5) Wait<br /><br />Memory should be pretty quick while the zpools might take a while.</p>", "features": "Low Level Discovery (LLD)|SNMP Agent", "address": "", "city": "", "state": "", "country": "", "postcode": "", "telephone": "", "fax": "", "email": "", "website": "https://github.com/monotok/zabbix-template-freenas11", "price": 0, "link_hits": 37200, "link_votes": null, "link_rating": 0, "link_featured": null, "link_created": "2018-03-30 15:28:13", "link_modified": "2018-03-30 16:01:39", "link_visited": 3176, "publish_up": "2018-03-30 15:28:13", "publish_down": "0000-00-00 00:00:00", "metakey": "", "metadesc": "", "1.8": "", "2.0": "", "2.2": "", "2.4": "", "3.0": "", "3.2": "", "3.4": "Template-FREENAS-11-SNMP-v3.xml", "4.0": "", "4.2": "", "4.4": "", "5.0": "", "5.2": "", "tags": "", "author": "Chris Hamer & from previous template FreeNAS Community/Marty Godsey", "user_id": 5438, "link_id": 1154, "cat_id": "366", "internal_notes": "", "lat": 0, "lng": 0, "zoom": ""}