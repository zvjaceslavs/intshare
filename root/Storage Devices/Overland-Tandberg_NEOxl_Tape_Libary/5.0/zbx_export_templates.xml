<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>5.0</version>
    <date>2021-04-07T13:57:30Z</date>
    <groups>
        <group>
            <name>Templates/Network Devices</name>
        </group>
    </groups>
    <templates>
        <template>
            <template>Template - Other - NeoXL</template>
            <name>Template - Other - NeoXL</name>
            <templates>
                <template>
                    <name>Template Module Generic SNMP</name>
                </template>
            </templates>
            <groups>
                <group>
                    <name>Templates/Network Devices</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>Device Inventory</name>
                </application>
                <application>
                    <name>Device Status</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>Device Robotic HW Revision</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.20884.1.6.0</snmp_oid>
                    <key>bdtDeviceDatRoboticHWRev</key>
                    <delay>1h</delay>
                    <history>1w</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>Device Inventory</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Device Robotic FW Revision</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.20884.1.7.0</snmp_oid>
                    <key>bdtDeviceDatRoboticSWRev</key>
                    <delay>1h</delay>
                    <history>1w</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>Device Inventory</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Device Serial Number</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.20884.1.3.0</snmp_oid>
                    <key>bdtDeviceDatSerialNum</key>
                    <delay>1h</delay>
                    <history>1w</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>Device Inventory</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Device SW Build Date</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.20884.1.5.0</snmp_oid>
                    <key>bdtDeviceDatSWBuildDate</key>
                    <delay>1h</delay>
                    <history>1w</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>Device Inventory</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Device SW Revision</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.20884.1.4.0</snmp_oid>
                    <key>bdtDeviceDatSWRevision</key>
                    <delay>1h</delay>
                    <history>1w</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>Device Inventory</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Device World Wide ID</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.20884.1.8.0</snmp_oid>
                    <key>bdtDeviceDatWWI</key>
                    <delay>1h</delay>
                    <history>1w</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>Device Inventory</name>
                        </application>
                    </applications>
                </item>
                <item>
                    <name>Current Device Activity</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.20884.2.1.0</snmp_oid>
                    <key>bdtDeviceStatAct</key>
                    <delay>5m</delay>
                    <history>1w</history>
                    <trends>90d</trends>
                    <applications>
                        <application>
                            <name>Device Status</name>
                        </application>
                    </applications>
                    <valuemap>
                        <name>BDT-MS-MIB::bdtDeviceStatus</name>
                    </valuemap>
                </item>
                <item>
                    <name>Current Device Health Status</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>.1.3.6.1.4.1.20884.2.3.0</snmp_oid>
                    <key>bdtDeviceStatHealth</key>
                    <delay>5m</delay>
                    <history>1w</history>
                    <trends>90d</trends>
                    <applications>
                        <application>
                            <name>Device Status</name>
                        </application>
                    </applications>
                    <valuemap>
                        <name>BDT-MS-MIB::bdtDeviceStatHealth</name>
                    </valuemap>
                    <triggers>
                        <trigger>
                            <expression>{last()}=4</expression>
                            <name>Device is in 'critical' state</name>
                            <priority>AVERAGE</priority>
                        </trigger>
                        <trigger>
                            <expression>{last()}=3</expression>
                            <name>Device is in 'warning' state</name>
                            <priority>WARNING</priority>
                        </trigger>
                    </triggers>
                </item>
            </items>
            <discovery_rules>
                <discovery_rule>
                    <name>BDT Module Discovery</name>
                    <type>SNMP_AGENT</type>
                    <snmp_oid>discovery[{#MODULE_ID},1.3.6.1.4.1.20884.2.4.1.1]</snmp_oid>
                    <key>BdtDeviceStatModEntry</key>
                    <delay>1d</delay>
                    <lifetime>7d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>Current Module {#SNMPINDEX} Drive Power Module 1 Status</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.20884.2.4.1.4.{#SNMPINDEX}</snmp_oid>
                            <key>bdtDeviceStatModEntryDPwr1[{#SNMPINDEX}]</key>
                            <delay>5m</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Module Status</name>
                                </application_prototype>
                            </application_prototypes>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{regexp(OK)}=0</expression>
                                    <name>Drive Power Module 1 Status of Module {#MODULE_ID} is NOT ok</name>
                                    <priority>WARNING</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Current Module {#SNMPINDEX} Drive Power Module 2 Status</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.20884.2.4.1.5.{#SNMPINDEX}</snmp_oid>
                            <key>bdtDeviceStatModEntryDPwr2[{#SNMPINDEX}]</key>
                            <delay>5m</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Module Status</name>
                                </application_prototype>
                            </application_prototypes>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{regexp(OK)}=0</expression>
                                    <name>Drive Power Module 2 Status of Module {#MODULE_ID} is NOT ok</name>
                                    <priority>WARNING</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Current Module {#SNMPINDEX} Health Stat</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.20884.2.4.1.3.{#SNMPINDEX}</snmp_oid>
                            <key>bdtDeviceStatModEntryHealth[{#SNMPINDEX}]</key>
                            <delay>5m</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Module Status</name>
                                </application_prototype>
                            </application_prototypes>
                        </item_prototype>
                        <item_prototype>
                            <name>Current Module {#SNMPINDEX} Power Supply Status</name>
                            <type>SNMP_AGENT</type>
                            <snmp_oid>.1.3.6.1.4.1.20884.2.4.1.6.{#SNMPINDEX}</snmp_oid>
                            <key>bdtDeviceStatModEntryPwrSupply[{#SNMPINDEX}]</key>
                            <delay>5m</delay>
                            <history>7d</history>
                            <trends>0</trends>
                            <value_type>TEXT</value_type>
                            <application_prototypes>
                                <application_prototype>
                                    <name>Module Status</name>
                                </application_prototype>
                            </application_prototypes>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{regexp(OK)}=0</expression>
                                    <name>Power Supply Status of Module {#MODULE_ID} is NOT ok</name>
                                    <priority>WARNING</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                </discovery_rule>
            </discovery_rules>
        </template>
    </templates>
    <value_maps>
        <value_map>
            <name>BDT-MS-MIB::bdtDeviceStatHealth</name>
            <mappings>
                <mapping>
                    <value>1</value>
                    <newvalue>unknown</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>ok</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>warning</newvalue>
                </mapping>
                <mapping>
                    <value>4</value>
                    <newvalue>critical</newvalue>
                </mapping>
            </mappings>
        </value_map>
        <value_map>
            <name>BDT-MS-MIB::bdtDeviceStatus</name>
            <mappings>
                <mapping>
                    <value>0</value>
                    <newvalue>Unknown</newvalue>
                </mapping>
                <mapping>
                    <value>1</value>
                    <newvalue>Idle</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>Busy</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>Offline</newvalue>
                </mapping>
            </mappings>
        </value_map>
    </value_maps>
</zabbix_export>
