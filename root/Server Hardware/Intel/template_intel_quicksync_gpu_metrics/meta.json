{"link_name": "Intel QuickSync GPU metrics Template", "type": "Template", "OS": "", "vendor": "Intel", "minZabbVer": "4.4.x", "link_desc": "<p>There is template for monitoring (QuickSync)integrated video in Intel processors:</p>\n<p>You can monitor theese parameters:</p>\n<p>Multi-Format Codec Engine (also known as \u201cMFX\u201d or \u201cVDBOX\u201d); Video Encode (PAK) and Decode</p>\n<p>2nd instance of the MultiFormat Codec Engine, if available (Examples of supported processor include 5th generation of Intel\u00ae Core\u2122 processors with Intel\u00ae HD Graphics 6000, Intel\u00ae Iris\u2122 Graphics 6100, Intel\u00ae Iris\u2122 Pro Graphics 6200, Intel\u00ae Iris\u2122 Pro Graphics P6300); Video Encode (PAK) and Decode</p>\n<p>Video Quality Engine (also known as \u201cVEBOX\u201d or Video Quality enhancement pipeline) Deinterlace, Denoise</p>\n<p>Render Engine (Execution units, media samplers, VME and their caches) Video Encode (ENC), OpenCL, Video Scaling, VPP Composition including frame rate conversion and image stabilization, VPP copy to CPU</p>\n<p>GT Frequency</p>\n<p> </p>\n<p>First of all, you need prepare utility for getting parameters.</p>\n<p>You need build metrics_monitor from repo: https://github.com/Intel-Media-SDK/MediaSDK</p>\n<p>For correct working you may need add line 'run = 0;' at the end of 'while' in cttmetrics_sample.cpp </p>\n<p>while(run)</p>\n<p>...</p>\n<p>        if (true == isFreq)</p>\n<p>            printf(\"\\tGT Freq: %4.2f\", metric_values[3]);</p>\n<p> </p>\n<p>        printf(\"\\n\");</p>\n<p>run = 0</p>\n<p>}</p>\n<p> </p>\n<p>Add rules to sudoers:</p>\n<p>Defaults:zabbix !requiretty</p>\n<p>zabbix ALL=(ALL) NOPASSWD: /opt/intel/mediasdk/tools/metrics_monitor/_bin/metrics_monitor</p>\n<p> </p>\n<p>And add needed userparameter in zabbix-agent:</p>\n<p>UserParameter=gpu.metrics[*],sudo /opt/intel/mediasdk/tools/metrics_monitor/_bin/metrics_monitor \"$2\" \"$3\" | sed 's/ usage://g' | sed 's/\\t/\\n/g' | sed 's/,//g' | sed 's/T F/T_F/g' | grep \"$1\" | awk '{print $ 2}'</p>\n<p> </p>", "features": "Zabbix Agent", "address": "", "city": "", "state": "", "country": "", "postcode": "", "telephone": "", "fax": "", "email": "", "website": "https://github.com/Diversantos/various/tree/master/zabbix/intel", "price": 0, "link_hits": 1161, "link_votes": null, "link_rating": 0, "link_featured": null, "link_created": "2020-02-14 11:29:57", "link_modified": "2020-02-14 11:41:00", "link_visited": 198, "publish_up": "2020-02-14 11:29:57", "publish_down": "0000-00-00 00:00:00", "metakey": "", "metadesc": "", "1.8": "", "2.0": "", "2.2": "", "2.4": "", "3.0": "", "3.2": "", "3.4": "", "4.0": "", "4.2": "", "4.4": "Template Intel QuickSync GPU metrics.xml", "5.0": "", "5.2": "", "tags": "Intel, Quicksync, GPU", "author": "Kirill Savin", "user_id": 7927, "link_id": 1966, "cat_id": "286", "internal_notes": "", "lat": 0, "lng": 0, "zoom": ""}