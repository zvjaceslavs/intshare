{
    "link_name": "es_stats_zabbix (Elasticsearch Cluster & Node Monitoring)",
    "type": "Template",
    "OS": "",
    "vendor": "Others",
    "minZabbVer": "2.2.x",
    "link_desc": "<h1>es_stats_zabbix</h1>\n<p> </p>\n<p><a title=\"GitHub Documentation\" href=\"https://github.com/untergeek/zabbix-grab-bag/blob/master/Elasticsearch/es_stats_zabbix.README.md\" target=\"_blank\">See this documentation on GitHub</a> (it's more complete there).</p>\n<p>Use es_stats_zabbix (python module) to monitor Elasticsearch.  Extensible to allow you to add items from the ClusterHealth, ClusterStats, ClusterState, NodesStats, and NodesInfo APIs.  </p>\n<p>Key names can look like:</p>\n<pre>health[status]<br />clusterstats[indices.docs.count]<br />clusterstate[master_node]<br />nodeinfo[YOUR_NODE_NAME,process.max_file_descriptors]<br />nodestats[YOUR_NODE_NAME,process.open_file_descriptors]</pre>\n<h2> </h2>\n<h2>Caveats</h2>\n<ul>\n<li>You can't monitor any deeply nested keys with periods in the key name (like an IP address)</li>\n<li>Zabbix item key length limits you to 255 characters.  This potentially also limits deeply nested keys.</li>\n</ul>\n<p> </p>\n<h2>Installation</h2>\n<h3>Prerequisites</h3>\n<p>Install the <strong>es_stats_zabbix</strong> python module by running:</p>\n<pre>(sudo) pip install es_stats_zabbix</pre>\n<p> </p>\n<p>This will install an <em>entrypoint,</em> which is to say a pointer script in your regular path.  It could be <strong>/usr/bin/es_stats_zabbix</strong>, or it could be at <strong>/usr/local/bin/es_stats_zabbix</strong>.  You will need to determine this by running <strong>which es_stats_zabbix</strong>, as the location will matter.</p>\n<p> </p>\n<h4>Zabbix value maps</h4>\n<p>Create the following before importing the template:</p>\n<pre> </pre>\n<pre>ES Cluster State<br />0 \u21d2 Green<br />1 \u21d2 Yellow<br />2 \u21d2 Red</pre>\n<pre> </pre>\n<pre>Exit Code<br />0 \u21d2 SUCCESS<br />1 \u21d2 FAIL</pre>\n<pre> </pre>\n<h3>Configuration</h3>\n<h4>Configuration file</h4>\n<p> </p>\n<p>Copy the provided <strong>es_stats_zabbix.ini.sample</strong> to the path of your choice, and drop the <strong>.sample</strong> part.  Edit the file and change the <strong>[elasticsearch]</strong> and <strong>[logging]</strong> sections now.  In the batch sections labeled <strong>[thirty_seconds]</strong>, <strong>[sixty_seconds]</strong>, and <strong>[five_minutes]</strong>, be sure to change the <strong>host</strong> from <strong>zabbix_host</strong> in each to the host you will link to the template.</p>\n<p> </p>\n<h4>es_stats_zabbix.userparm</h4>\n<p>Place this in the zabbix.conf.d directory of your install, or edit the zabbix_agentd.conf file to include this one. Edit the path to es_stats_zabbix from what is there, if needed. Also edit the path to the configuration file as needed. <strong>Be sure to restart your Zabbix agent afterwards.</strong></p>\n<p> </p>\n<h4>Import the template</h4>\n<p>Import the template, and link it to the host (the same name you configured in the batch configuration).  It should start collecting stats now. </p>\n<h4> </h4>",
    "features": "SNMP Trapper|Zabbix Agent",
    "address": "",
    "city": "",
    "state": "",
    "country": "",
    "postcode": "",
    "telephone": "",
    "fax": "",
    "email": "",
    "website": "https://github.com/untergeek/zabbix-grab-bag/tree/master/Elasticsearch",
    "price": 0,
    "link_hits": 36518,
    "link_votes": null,
    "link_rating": 0,
    "link_featured": null,
    "link_created": "2015-10-08 14:54:16",
    "link_modified": "2015-11-04 18:39:38",
    "link_visited": 1986,
    "publish_up": "2015-10-08 14:54:16",
    "publish_down": "0000-00-00 00:00:00",
    "metakey": "",
    "metadesc": "",
    "1.8": "",
    "2.0": "",
    "2.2": "es_stats_zabbix.tar.gz",
    "2.4": "es_stats_zabbix.tar.gz",
    "3.0": "",
    "3.2": "",
    "3.4": "",
    "4.0": "",
    "4.2": "",
    "4.4": "",
    "5.0": "",
    "5.2": "",
    "tags": "elasticsearch",
    "author": "Aaron Mildenstein",
    "user_id": 250,
    "link_id": 340,
    "cat_id": "115",
    "internal_notes": "",
    "lat": 0,
    "lng": 0,
    "zoom": ""
}