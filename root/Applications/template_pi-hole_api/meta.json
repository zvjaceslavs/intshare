{
    "link_name": "Pi-Hole API",
    "type": "Template",
    "OS": "",
    "vendor": "Others",
    "minZabbVer": "4.4.x",
    "link_desc": "<p style=\"text-align: center;\"><strong><span style=\"text-decoration: underline;\">Pi-Hole API</span><br /></strong></p>\n<p><strong>Auth integration:</strong><br />Simply execute this command on Pi-Hole to retrieve API Token:</p>\n<pre>sudo cat /etc/pihole/setupVars.conf | grep PASSWORD | cut -d \"=\" -f2</pre>\n<p><br />Or go in the Pi-Hole WebUI > Settings > tab Api / Web Interface > button Show API Token.</p>\n<p>Report the value in Zabbix:<br />Configuration > Hosts > [your Pi-Hole] > Macros Tab > new macro:</p>\n<ul>\n<li>Macro: {$WEBPASSWORD}</li>\n<li>Value: [the result of the command executed on your Pi-Hole]</li>\n</ul>\n<p style=\"text-align: left;\"><br /> <strong><span style=\"text-decoration: underline;\">Changelog:</span> </strong></p>\n<p style=\"text-align: left;\"><strong><strong>Update 2020.8.3 (v1.4):</strong><br /></strong>- added getQueryTypes dependent items + graph:</p>\n<ul>\n<li>MX</li>\n<li>DS</li>\n<li>RRSIG</li>\n<li>DNSKEY</li>\n<li>OTHER</li>\n</ul>\n<p style=\"text-align: left;\"><br /><strong><strong><strong>Update 2020.7.9 (v1.3):</strong><br /></strong></strong>- added Auth support<br /><br /><strong><strong>Update 2020.7.8 (v1.2):</strong><br /></strong>- bugfixes in existing items (preprocessing stuff)<br />- switch to \"summaryRaw\" URL (http://{HOST.IP}/admin/api.php?summaryRaw)<br />- link this page to Pi-Hole API FAQ<br />- template graphics<br />- new API metrics: http://{HOST.IP}/admin/api.php?getQueryTypes<br /><br />getQueryTypes dependent items:</p>\n<ul>\n<li>A (IPv4)</li>\n<li>AAAA (IPv6)</li>\n<li>ANY</li>\n<li>NAPTR</li>\n<li>PTR</li>\n<li>SOA</li>\n<li>SRV</li>\n<li>TXT</li>\n</ul>\n<p style=\"text-align: left;\"><strong>Initiale release (v1.1):<br /></strong><br />API SummaryRaw (no auth needed): http://{HOST.IP}/admin/api.php?summaryRaw<br />API Dependent items:</p>\n<ul>\n<li>Ads blocked today</li>\n<li>Ads percentage today</li>\n<li>DNS queries all types</li>\n<li>DNS queries today</li>\n<li>Domains being blocked</li>\n<li>Queries cached</li>\n<li>Queries forwarded</li>\n<li>Reply CNAME</li>\n<li>Reply IP</li>\n<li>Reply NODATA</li>\n<li>Reply NXDOMAIN</li>\n<li>Clients ever seen</li>\n<li>Unique clients</li>\n<li>Unique domain</li>\n</ul>",
    "features": "HTTP Agent",
    "address": "",
    "city": "",
    "state": "",
    "country": "",
    "postcode": "",
    "telephone": "",
    "fax": "",
    "email": "",
    "website": "https://discourse.pi-hole.net/t/pi-hole-api/1863",
    "price": 0,
    "link_hits": 9570,
    "link_votes": 4,
    "link_rating": 5,
    "link_featured": null,
    "link_created": "2020-07-06 21:09:55",
    "link_modified": "2020-08-03 18:12:27",
    "link_visited": 585,
    "publish_up": "2020-07-06 21:09:55",
    "publish_down": "0000-00-00 00:00:00",
    "metakey": "",
    "metadesc": "",
    "1.8": "",
    "2.0": "",
    "2.2": "",
    "2.4": "",
    "3.0": "",
    "3.2": "",
    "3.4": "",
    "4.0": "",
    "4.2": "",
    "4.4": "",
    "5.0": "Template_App_Pi-Hole_v5_v1.4.xml",
    "5.2": "",
    "tags": "pi-hole, pihole, pihole-ftl, api, dns",
    "author": "Undefined_ID",
    "user_id": 12031,
    "link_id": 2139,
    "cat_id": "115",
    "internal_notes": "",
    "lat": 0,
    "lng": 0,
    "zoom": ""
}