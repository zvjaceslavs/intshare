{"link_name": "Monitoring Citrix XENSERVER Host and VMs based on Python XENApi", "type": "Template", "OS": "", "vendor": "Citrix", "minZabbVer": "2.4.x", "link_desc": "<p><strong>Instruction</strong></p>\n<p>Following steps on zabbix server or zabbix proxy</p>\n<p><strong>1. Download Pyton XENApi.py</strong> from<a href=\"https://github.com/xapi-project/xen-api/tree/master/scripts/examples/python\"> https://github.com/xapi-project/xen-api/tree/master/scripts/examples/python</a>. Please use the last version, becaus of ssl support changes in pyton</p>\n<p> </p>\n<p><strong>2. Copy file XENApi.py to directory /usr/local/lib/python</strong></p>\n<p>If you want to change, please change line sys.path.append('/usr/local/lib/python') also!</p>\n<p> </p>\n<p><strong>3. Copy citrix.xenserver.py</strong> from attached archive to you externel script path and set userrights (chmod 755).</p>\n<p><strong>4. Import the templates</strong></p>\n<p>zbx_template_xenserver_host.xml -->Monitoring XEN Host</p>\n<p>zbx_template_xenserver_vm.xml --> Monitoring XEN VMs</p>\n<p>Please note, the the name in zabbix and the name in xen have to be the same!</p>\n<p> </p>\n<p><strong>5. Set macros</strong> (Global on on all host you use this templates)</p>\n<p>{$XENMASTER} -->Masterserver of XENCLUSTER</p>\n<p>{$XENUSERNAME} --> Username for connect to XENCLUSTER</p>\n<p><span style=\"font-size: 12.16px;\">{$XENPASSWORD} --> Password for connect to XENCLUSTER</span></p>\n<p> </p>\n<h2><span style=\"color: #212121; font-family: inherit; font-size: 29px; white-space: pre-wrap;\">Important note</span><strong>:</strong></h2>\n<p><b>If you test this script by executing as root it will be created an cachefile as user root. So, if zabbix later start this script as user user zabbix or </b><b>www-data, the old cache file (creates by user root) can not open for writing. This script will exit with error!!!!!!!!!</b></p>\n<p> </p>\n<p><strong>Used python modules in </strong><b>citrix.xenserver.py</b><strong style=\"font-size: 12.16px;\">:</strong></p>\n<p>import urllib2<br />import xml.dom.minidom<br />import sys, time<br />import itertools<br />import re<br />import shutil<br />import ssl<br />import getopt<br />import os<br />import fcntl<br />import logging<br />import logging.handlers</p>\n<p><strong>Used python modules in XemAPI.py:</strong></p>\n<p>import gettext<br />import xmlrpclib<br />import httplib<br />import socket<br />import sys</p>\n<p> </p>", "features": "Custom Script", "address": "", "city": "", "state": "", "country": "", "postcode": "", "telephone": "", "fax": "", "email": "", "website": "", "price": 0, "link_hits": 33510, "link_votes": null, "link_rating": 0, "link_featured": null, "link_created": "2017-03-11 14:29:11", "link_modified": "2017-03-30 07:30:44", "link_visited": null, "publish_up": "2017-03-11 14:29:11", "publish_down": "0000-00-00 00:00:00", "metakey": "", "metadesc": "", "1.8": "", "2.0": "", "2.2": "citrix.xenserver.zip", "2.4": "citrix.xenserver.zip", "3.0": "citrix.xenserver.zip", "3.2": "citrix.xenserver.zip", "3.4": "", "4.0": "", "4.2": "", "4.4": "", "5.0": "", "5.2": "", "tags": "XENSERVER, VM, HOST", "author": "Robert Gladewitz", "user_id": 1873, "link_id": 778, "cat_id": "218", "internal_notes": "", "lat": 0, "lng": 0, "zoom": ""}