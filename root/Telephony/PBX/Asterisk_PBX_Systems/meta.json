{"link_name": "Asterisk PBX Systems", "type": "Template", "OS": "", "vendor": "Others", "minZabbVer": "4.4.x", "link_desc": "<p><strong># Asterisk Zabbix Template</strong></p>\n<p>Monitor Asterisk PBX systems using Zabbix Network Monitoring system</p>\n<p> </p>\n<p><strong>## Features</strong></p>\n<p>- Easy installation and fast configuration (pure bash script without extra dependencies to install)</p>\n<p>- Single script for discovery and checks</p>\n<p>- Zabbix Agent based checks</p>\n<p>- Automatic discovery, monitoring and triggers generation for PJSIP, SIP and IAX Trunks</p>\n<p>- Monitoring of active calls</p>\n<p>- Monitoring of processed calls</p>\n<p>- Monitoring of stucked calls</p>\n<p>- Monitoring of last reload time</p>\n<p>- Monitoring of uptime asterisk core</p>\n<p>- Monitoring of asterisk version</p>\n<p>- Monitoring of pjsip online/offline endpoints and registrations</p>\n<p>- Monitoring of sip/iax2 online/offline peers and registrations</p>\n<p>- Triggers for max active concurrent calls, call max duration time, Asterisk service problems, trunks registrations problems</p>\n<p> </p>\n<p><strong>## Installation</strong></p>\n<p>- `cp zabbix_agentd.d/scripts/asterisk.sh /etc/zabbix/zabbix_agentd.d/scripts/asterisk.sh`</p>\n<p>- `chmod 755 /etc/zabbix/zabbix_agentd.d/scripts/asterisk.sh`</p>\n<p>- `cp zabbix_agentd.d/asterisk.conf /etc/zabbix/zabbix_agentd.d/asterisk.conf`</p>\n<p>- Edit `sudoers` using `visudo` command and add:</p>\n<p> </p>\n<pre>User_Alias ZABBIX = zabbix</pre>\n<pre>Cmnd_Alias ZABBIX_COMMANDS = /usr/sbin/asterisk</pre>\n<pre>Defaults:ZABBIX !requiretty</pre>\n<pre>ZABBIX ALL=(ALL) NOPASSWD: ZABBIX_COMMANDS</pre>\n<p> </p>\n<p>- Restart zabbix-agent: `systemctl restart zabbix-agent `</p>\n<p>- Import `Asterisk-zbx_export_templates.xml` into Zabbix templates panel</p>\n<p>- Assign Zabbix template to the Asterisk Host and wait automatic discovery</p>\n<p> </p>\n<p><strong>## Template Macros available</strong></p>\n<p>- `{$ACTIVE_CALLS_THRESHOLD}`: Alarm when reaching max active calls threshold (default: 20 calls)</p>\n<p>- `{$LOGENST_CALL_DURATION}`: Alarm when reaching call duration time (default: 7200 seconds)</p>", "features": "Low Level Discovery (LLD)|Zabbix Agent", "address": "", "city": "", "state": "", "country": "", "postcode": "", "telephone": "", "fax": "", "email": "", "website": "https://github.com/ugoviti/zabbix-templates/tree/master/asterisk", "price": 0, "link_hits": 6418, "link_votes": null, "link_rating": 0, "link_featured": null, "link_created": "2020-04-01 23:34:00", "link_modified": "0000-00-00 00:00:00", "link_visited": 1878, "publish_up": "2020-04-01 23:34:00", "publish_down": "0000-00-00 00:00:00", "metakey": "", "metadesc": "", "1.8": "", "2.0": "", "2.2": "", "2.4": "", "3.0": "", "3.2": "", "3.4": "", "4.0": "", "4.2": "", "4.4": "", "5.0": "", "5.2": "", "tags": "", "author": "Ugo Viti", "user_id": 11592, "link_id": 2037, "cat_id": "194", "internal_notes": "", "lat": 0, "lng": 0, "zoom": ""}