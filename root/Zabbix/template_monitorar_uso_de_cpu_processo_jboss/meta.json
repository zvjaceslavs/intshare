{
    "link_name": "Monitorar uso de CPU Processo JBOSS",
    "type": "Template",
    "OS": "General",
    "vendor": "Others",
    "minZabbVer": "5.2.x",
    "link_desc": "<p>1- Instalar o pacote BC (Calculadora) no servidor jboss</p>\n<p>2- Inserir o script abaixo no servidor jboss</p>\n<p>3- Inserir o Nome do processo no script em destaque em negrito </p>\n<p>4- salvar no local de sua preferencia no servidor jboss</p>\n<p>5- inserir uma linha no UserParameter no agente do zabbix servidor jboss</p>\n<p>UserParameter=nome da chave, /caminho do scrpit </p>\n<p>Depois reinicie o agente zabbix</p>\n<p>6- Trocar a chave do item pelo nome da chave do UserParameter</p>\n<p>7- Criar a trigger conforme sua necessidade.</p>\n<p>Obs.: Vale para qualquer processo . Basta mudar o nome no script para buscar e atualizar os itens e <span style=\"font-size: 12.16px;\">UserParameter. </span></p>\n<p> sei que n\u00e3o  \u00e9 a melhor forma mas esta ai quem precisar pode usar e adaptar. Bem simples o scrpit.</p>\n<p>-----------------------------------------</p>\n<p>SCRPIT</p>\n<p> </p>\n<p>#!/bin/bash</p>\n<p>#consumo de CPU   Desenvolvido por Thiago Fernandes Surette</p>\n<p>#CONSULTANDO O PID</p>\n<p>V=$(ps aux | grep \"<strong>Nome do Processo</strong>\" | grep -v grep | awk '{print $2}')</p>\n<p>#CALCULANDO O USO DA CPU</p>\n<p>nPid=\"$V\";</p>\n<p>nTimes=10; # customize it</p>\n<p>delay=0.1; # customize it</p>\n<p>strCalc=`top -d $delay -b -n $nTimes -p $nPid \\</p>\n<p>  |grep $nPid \\</p>\n<p>  |sed -r -e \"s;\\s\\s*; ;g\" -e \"s;^ *;;\" \\</p>\n<p>  |cut -d' ' -f9 \\</p>\n<p>  |tr '\\n' '+' \\</p>\n<p>  |sed -r -e \"s;(.*)[+]$;\\1;\" -e \"s/.*/scale=2;(&)\\/$nTimes/\"`;</p>\n<p> nPercCpu=`echo \"$strCalc\" |bc -l`</p>\n<p>#Aredonando Valor</p>\n<p>echo $nPercCpu | awk '{printf \"%.f\\n\" ,$v}'</p>\n<p> #########################################</p>\n<p>Link de refer\u00eancia:https://qastack.com.br/unix/554/how-to-monitor-cpu-memory-usage-of-a-single-process</p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>\n<p> </p>",
    "features": "Zabbix Agent",
    "address": "",
    "city": "",
    "state": "",
    "country": "",
    "postcode": "",
    "telephone": "",
    "fax": "",
    "email": "",
    "website": "",
    "price": 0,
    "link_hits": 673,
    "link_votes": null,
    "link_rating": 0,
    "link_featured": null,
    "link_created": "2021-04-30 12:27:18",
    "link_modified": "2021-04-30 13:35:26",
    "link_visited": null,
    "publish_up": "2021-04-30 12:27:18",
    "publish_down": "0000-00-00 00:00:00",
    "metakey": "",
    "metadesc": "",
    "1.8": "",
    "2.0": "",
    "2.2": "",
    "2.4": "",
    "3.0": "",
    "3.2": "",
    "3.4": "",
    "4.0": "",
    "4.2": "",
    "4.4": "",
    "5.0": "",
    "5.2": "zbx_export_templates.xml",
    "tags": "",
    "author": "Thiago Surette",
    "user_id": 6105,
    "link_id": 2420,
    "cat_id": "395,112",
    "internal_notes": "",
    "lat": 0,
    "lng": 0,
    "zoom": ""
}