{
    "link_name": "Cloudflared Tunnel Metrics (Cloudflare Argo)",
    "type": "Template",
    "OS": "General",
    "vendor": "Others",
    "minZabbVer": "5.0.x",
    "link_desc": "<p> <br /><strong>Zabbix Template for Cloudflared Tunnel Metrics</strong></p>\n<p>Ingest CloudflareD's metrics into Zabbix using web.page.get, regex, and Prometheus records.</p>\n<p>Stay Updated and Report Issues: <a href=\"https://github.com/Relkci/Zabbix_Cloudflared\">https://github.com/Relkci/Zabbix_Cloudflared</a><br /><br /><strong>Install</strong><br />- PRE-REQ: Cloudflared tunnel service has been installed and is operating, Cloudflared is in $PATH.<br />- Cloudflared metrics is operational (default), HOST, PATH, and PORT can be changed with Zabbix macros.<br />- OPTIONAL: Add cloudflared-userparamters.conf to zabbix_agent.conf or zabbix_agent.d directory.<br />- Link Template to host.<br />- Update the cf.version item to `Zabbix Agent` (Passive) or `Zabbix Active Agent` (Active)<br />- Add the following line to Cloudflared's config.yaml  <br /><br /><em>metrics: localhost:40705</em><br /><br />- The above parameter instructions Cloudflared service metrics on port 40705.  By default Cloudflared will otherwise randomize the port.  It is not necessary to use port 40705 and the port.  The port must match that found in Zabbix Macro {$CLOUDFLARED_METRICS_PORT}<br />- Restart both the Cloudflared Tunnel Service and Zabbix Agent Service.<br /><br /><strong>Operation</strong><br />This Zabbix Template works by using the web.page.get method to allow a Zabbix Agent (Passive/Active) to retrieve the localhost metrics from a systems/ Cloudflared tunnel service.<br /><br />- This is intended for Cloudflared origin-servers.<br />- By default, the Cloudflared service will serve tunnel metrics at the following URL: <br />- http://127.0.0.1:40705/metrics<br /><br />This template ingests that metrics page, users regex to cut it to a Prometheus Metrics page and then parses it into Zabbix items via the Prometheus pre-processor.<br /><br /></p>",
    "features": "Zabbix Agent|Zabbix Agent Active|Other|Dependent Items",
    "address": "",
    "city": "",
    "state": "",
    "country": "",
    "postcode": "",
    "telephone": "",
    "fax": "",
    "email": "",
    "website": "https://github.com/Relkci/Zabbix_Cloudflared",
    "price": 0,
    "link_hits": 447,
    "link_votes": null,
    "link_rating": 0,
    "link_featured": null,
    "link_created": "2021-06-22 19:40:37",
    "link_modified": "2021-06-22 19:43:43",
    "link_visited": 62,
    "publish_up": "2021-06-22 19:40:37",
    "publish_down": "0000-00-00 00:00:00",
    "metakey": "",
    "metadesc": "",
    "1.8": "",
    "2.0": "",
    "2.2": "",
    "2.4": "",
    "3.0": "",
    "3.2": "",
    "3.4": "",
    "4.0": "",
    "4.2": "",
    "4.4": "",
    "5.0": "",
    "5.2": "Zabbix_Cloudflared-main.zip",
    "tags": "Cloudflare, Cloduflared, Argo, Tunnel",
    "author": "Kent Ickler (Relkc)",
    "user_id": 13544,
    "link_id": 2477,
    "cat_id": "404",
    "internal_notes": "",
    "lat": 0,
    "lng": 0,
    "zoom": ""
}