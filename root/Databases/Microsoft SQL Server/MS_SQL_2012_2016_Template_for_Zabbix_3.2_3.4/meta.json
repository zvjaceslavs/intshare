{"link_name": "MS SQL 2012/2016 Template for Zabbix 3.2/3.4", "type": "Template", "OS": "", "vendor": "Microsoft", "minZabbVer": "3.2.x", "link_desc": "<p style=\"color: #000000; word-wrap: break-word; white-space: pre-wrap;\"><strong>Available on Github</strong>: <a href=\"https://github.com/sfuerte/zbx-mssql\" target=\"_blank\">https://github.com/sfuerte/zbx-mssql</a></p>\n<p style=\"color: #000000; word-wrap: break-word; white-space: pre-wrap;\"> </p>\n<p style=\"color: #000000; word-wrap: break-word; white-space: pre-wrap;\">Zabbix Template for monitoring and collecting Microsoft SQL Server statistics. Most requests are done via Windows performance counters (`perf_counter`), some via PowerShell and, optionaly, via ODBC.</p>\n<h2>System requirements</h2>\n<ul>\n<li>Optional, ODBC driver installed and configured on Zabbix Server (see below).</li>\n</ul>\n<h2>Features</h2>\n<ul>\n<li>State of MS SQL services</li>\n<li>Global Server Statistics (70 items in total):</li>\n<ul>\n<li>Memory</li>\n<li>Cache</li>\n<li>Buffer Manager</li>\n<li>Access Methods</li>\n<li>Locks</li>\n<li>Errors and Failed Jobs</li>\n<li>Log Size</li>\n</ul>\n<li>Database discovery via Powershell (Zabbix Agent) or ODBC directly</li>\n<li>Statistics for discovered DB's (per DB):</li>\n<ul>\n<li>State</li>\n<li>Trasactions</li>\n<li>Log File size, utilization, flushes, growths, shrinks, etc.</li>\n</ul>\n<li>18 graphs</li>\n<li>Version information</li>\n<li>`{$ODBC}`, `{$MSSQL_USER}` and `{$MSSQL_PASSWORD}` macros for customization</li>\n<li>Tested on MS SQL 2008 & 2012.</li>\n</ul>\n<h2>Installation</h2>\n<h3>Zabbix Configuration</h3>\n<ul>\n<ul>\n<li>Copy `userparameter_mssql.conf` to your Zabbix Agent folder, e.g. `C:\\srv\\ZabbixAgent\\conf\\conf.d`.</li>\n<li>Copy PowerShell scripts (`mssql_*.ps1`) to the scripts folder, e.g. `C:\\srv\\ZabbixAgent\\scripts` folder. IMPORTANT: if you use another folder for agent scripts, then update userparameter file in the previous step!</li>\n<li>Import XML template file (`zbx_template_mssql.xml`) into Zabbix via Web GUI (Configuration -> Templates -> Import). Optional, if you want to use ODBC for discovering databases, then update XML file before importing, as all item prototypes</li>\nare under a discovery rule that utilizes PowerShell via Zabbix Agent.\n<li>Configure regular expression in \"Administration -> General -> Regular Expressions (dropdown on the right)\":</li>\n</ul>\n</ul>\n<pre> \nName: Databases for discovery\nExpression: ^(master|model|msdb|ReportServer|ReportServerTempDB|tempdb)$\nType: Result is FALSE\n</pre>\n<ul>\n<ul>\n<li>Import \"MS SQL Server database state\" value mapping (`zbx_valuemaps_mssql.xml`) in \"Administration -> General -> Value mapping (dropdown on the right)\". Or add it manually:</li>\n</ul>\n</ul>\n<pre> \n 0 -> ONLINE\n 1 -> RESTORING\n 2 -> RECOVERING\n 3 -> RECOVERY PENDING\n 4 -> SUSPECT\n 5 -> EMERGENCY\n 6 -> OFFLINE\n 7 -> Database Does Not Exist on Server\n</pre>\n<ul>\n<li>Assign the imported template to a host.</li>\n<li>Optional, if using ODBC, follow instructions below.</li>\n<li>Restart Zabbix Agent and enjoy..", "features": "Low Level Discovery (LLD)|Zabbix Agent|Database Monitor", "address": "", "city": "", "state": "", "country": "", "postcode": "", "telephone": "", "fax": "", "email": "", "website": "https://github.com/sfuerte/zbx-mssql", "price": 0, "link_hits": 63668, "link_votes": 1, "link_rating": 5, "link_featured": null, "link_created": "2017-12-28 21:34:49", "link_modified": "2017-12-28 21:36:38", "link_visited": 8629, "publish_up": "2017-12-28 21:34:49", "publish_down": "0000-00-00 00:00:00", "metakey": "", "metadesc": "", "1.8": "", "2.0": "", "2.2": "", "2.4": "", "3.0": "", "3.2": "", "3.4": "", "4.0": "", "4.2": "", "4.4": "", "5.0": "", "5.2": "", "tags": "mssql, microsoft, sql, database, db, agent, 2012", "author": "sfuerte", "user_id": 4432, "link_id": 1039, "cat_id": "151,111", "internal_notes": "", "lat": 0, "lng": 0, "zoom": ""}