{
    "link_name": "MySQL Windows multiple instances monitoring",
    "type": "Template",
    "OS": "",
    "vendor": "Others",
    "minZabbVer": "3.4.x",
    "link_desc": "<p>Here is my template for monitoring <strong>MySQL on a Windows server with multiple instances</strong>. The logic for this monitoring is: </p>\n<p>Script will take 2 parameters: variable ($1) and port ($2). Variable 1 will be the word for what script will looking for in script results file. The first zabbix request will generate a file : mysql_results_$PORT.txt. All next requests in 55 sec will take the values from this file, not from mysql. If the file is over 55 sec, file is rewriten. This assure to have 3 db request for all 117 items</p>\n<p><strong>Steps to install:</strong></p>\n<p>1. Create C:\\script</p>\n<p>2. Copy in this folder the script mysql_stats.py</p>\n<p>3. in zabbix agent add at UserParameters</p>\n<p>UserParameter=mysql-stats[*],c:\\script\\mysql_stats.py \"$1\" \"$2\" # user parameter for show extended status - no grants needed</p>\n<p>UserParameter=mysql.ping[*],mysqladmin -u<user> -p<password> --host=127.0.0.1 -P\"$2\" ping # -P\"$2\" will tahe the port number, who is the second variable from request</p>\n<p>4. Create a different host for every MySQL instance and specify in host Macros the MySQL port {$PORT}</p>\n<p>5. Add template Halley MySQL Server mi passive. I use passive items beacause not need to specify host name as hostname of the client. Don't forget to enable on host agent the passive monitoring</p>\n<p>6. Check the data:</p>\n<p>a0) from client command line run c:\\script\\mysql_stats.py Uptime Port</p>\n<p>a) from zabbix server with command zabbix_get -s host_ip -k \"mysql-stats[Uptime,$port]\"</p>\n<p>a1) from zabbix server with command zabbix_get -s host_ip -k \"mysql-stats[log_bin,$port]\"</p>\n<p>b) Look in Latest data</p>\n<p>Don't forget:</p>\n<p>1. Specify port in host macros</p>\n<p>2. Install Python on server and when will install select custom install and check for all users</p>\n<p>All files are on https://1drv.ms/f/s!Ag6IN4i1M9MuhXQZZpQ5dn2t4MCy</p>\n<p><strong>P.S.</strong></p>\n<p>This template include description with advices for items and triggers. I spend over a month to get best practices from MySQL Enterprise Monitor, another mysql templates or just mysql documentation. A feedback from you will be nice</p>",
    "features": "Zabbix Agent",
    "address": "",
    "city": "",
    "state": "",
    "country": "",
    "postcode": "",
    "telephone": "",
    "fax": "",
    "email": "",
    "website": "",
    "price": 0,
    "link_hits": 6813,
    "link_votes": 2,
    "link_rating": 5,
    "link_featured": null,
    "link_created": "2018-06-21 08:45:26",
    "link_modified": "2018-06-22 13:29:11",
    "link_visited": null,
    "publish_up": "2018-06-21 08:45:26",
    "publish_down": "0000-00-00 00:00:00",
    "metakey": "",
    "metadesc": "",
    "1.8": "",
    "2.0": "",
    "2.2": "",
    "2.4": "",
    "3.0": "",
    "3.2": "",
    "3.4": "Halley MySQL server mi passive.xml",
    "4.0": "",
    "4.2": "",
    "4.4": "",
    "5.0": "",
    "5.2": "",
    "tags": "",
    "author": "Tudor Ticau",
    "user_id": 6574,
    "link_id": 1229,
    "cat_id": "147",
    "internal_notes": "",
    "lat": 0,
    "lng": 0,
    "zoom": ""
}