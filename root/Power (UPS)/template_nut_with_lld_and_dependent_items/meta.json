{"link_name": "NUT with LLD and dependent items", "type": "Template", "OS": "", "vendor": "Others", "minZabbVer": "4.2.x", "link_desc": "<h2><span style=\"text-decoration: underline;\"><strong>Description</strong></span></h2>\n<p>This package has been done to monitor UPSes which have been configured with NUT package.</p>\n<p>Yes, you read it, this package is able to monitor several UPSes by using LLD rules.</p>\n<p>This way, you can track UPS status, power loss, battery charge and UPS load and get graphs for all your UPSes.</p>\n<p>First based on templates found on share.zabbix.com I recreated everything from scratch: </p>\n<ul>\n<li>to use dependent items</li>\n<li>because I lost everything due to database loss</li>\n</ul>\n<p> </p>\n<h2><span style=\"text-decoration: underline;\"><strong>Prerequesites</strong></span></h2>\n<ul>\n<li>Zabbix >= 4.2: LLD JSON structure changed: https://www.zabbix.com/documentation/4.2/manual/discovery/low_level_discovery. Easy to change to support older Zabbix versions.</li>\n<li>NUT setup: the UPS should reply to upsc</li>\n</ul>\n<p> </p>\n<h2><span style=\"text-decoration: underline;\"><strong>Installation instructions</strong></span></h2>\n<ol>\n<li>Install nut.sh in ${SCRIPTS_FOLDER}. I used /etc/zabbix/sh.</li>\n<li>Modify userparameter_nut.conf to replace /etc/zabbix/sh by ${SCRIPTS_FOLDER}</li>\n<li>Check that the script called without any parameter lists your UPSes</li>\n<li>Check that the script gives all values related to one UPS by typing `${SCRIPTS_FOLDER}/nut.sh ${UPS}` </li>\n<li>Import template</li>\n<li>Check if {$UPS_BATTERY_CRITICAL} and {$UPS_BATTERY_LOW} macros are OK for you</li>\n<li>Wait for the LLD rule to trigger (12h by default)</li>\n</ol>\n<p> </p>\n<h2><span style=\"text-decoration: underline;\"><strong>Usage</strong></span></h2>\n<p>    ${SCRIPTS_FOLDER/nut.sh ==> List all UPSes discovered</p>\n<p>    ${SCRIPTS_FOLDER/nut.sh ==> List all variables known for this UPS</p>\n<p> </p>\n<h2><span style=\"text-decoration: underline;\"><strong>Limitations</strong></span></h2>\n<p>ups.alarm not managed yet (my devices do not provide it)</p>", "features": "Zabbix Agent", "address": "", "city": "", "state": "", "country": "", "postcode": "", "telephone": "", "fax": "", "email": "", "website": "", "price": 0, "link_hits": 1763, "link_votes": 2, "link_rating": 4.5, "link_featured": null, "link_created": "2019-12-11 12:12:09", "link_modified": "2019-12-11 15:24:45", "link_visited": null, "publish_up": "2019-12-11 12:12:09", "publish_down": "0000-00-00 00:00:00", "metakey": "", "metadesc": "", "1.8": "", "2.0": "", "2.2": "", "2.4": "", "3.0": "", "3.2": "", "3.4": "", "4.0": "", "4.2": "zabbix-nut-dependent.zip", "4.4": "", "5.0": "", "5.2": "", "tags": "nut, ups, dependent item, lld", "author": "J\u00e9r\u00f4me Blion", "user_id": 11172, "link_id": 1895, "cat_id": "112", "internal_notes": "", "lat": 0, "lng": 0, "zoom": ""}