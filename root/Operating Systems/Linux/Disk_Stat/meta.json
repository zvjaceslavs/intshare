{"link_name": "Disk_Stat", "type": "Template", "OS": "General|Other", "vendor": "", "minZabbVer": "3.4.x", "link_desc": "<p>Send statistic from /proc/diskstats to Zabbix without any additional package and program</p>\n<h2>Features</h2>\n<ul>\n<li>AutoDiscovery BlockDev and Filter by <a href=\"https://www.zabbix.com/documentation/3.4/manual/regular_expressions\" rel=\"nofollow\">global regexp</a>: block_dev_filter</li>\n<li>Collect Read\\Write Operations per second</li>\n<li>Collect Read\\Write Sectors per second</li>\n<li>Calculate Time for 1 Read\\Write Operations\n<ul>\n<li>Trigger when IO_Time >30ms at last 5min</li>\n</ul>\n</li>\n<li>Collect IO Queue</li>\n<li>Convert DM(Device Mapper) device to pretty Name\n<ul>\n<li>Get stat for <code>dm-1</code> but print for user <code>vg00-lv_root</code></li>\n<li>After reboot <code>dm-1</code> may change to <code>dm-2</code>, but stat will be correct</li>\n</ul>\n</li>\n</ul>\n<h2>Install</h2>\n<p>Original install instruction on <a href=\"https://github.com/dusharu/ZBX_Disk_Stat#install\">GitHub</a></p>\n<ul>\n<li>1. Add parametrs to zabbix-agent.conf</li>\n</ul>\n<pre><code><br />#### enable Include in config\n# /etc/zabbix/zabbix_agentd.conf\necho \"Include=/etc/zabbix-agent.d/*.conf\" >> /etc/zabbix/zabbix_agentd.conf\n\n#### copy config \nmkdir -p /etc/zabbix-agent.d/ && cd /etc/zabbix-agent.d/\n\n# For RHEL/CentOS-8, Debian-10(buster), Ubuntu-18.04(Xenial), Gentoo\ncurl -O 'https://raw.githubusercontent.com/dusharu/ZBX_Disk_Stat/master/config_zabbix-agent/Disk_Stat.conf'\n# For old system\ncurl -o Disk_Stat.conf 'https://raw.githubusercontent.com/dusharu/ZBX_Disk_Stat/master/config_zabbix-agent/Disk_Stat_awk.conf'\n\n#### restart zabbix-agent\n# RHEL/CentOS\nsystemctl restart zabbix-agentd\n# Debian/Ubuntu\nsystemctl restart zabbix-agent\n# Gentoo\n/etc/init.d/zabbix-agentd restart<br /><br /></code></pre>\n<ul>\n<li>2. <a href=\"https://www.zabbix.com/documentation/3.4/manual/xml_export_import/templates\" rel=\"nofollow\">Import</a> <a href=\"https://github.com/dusharu/ZBX_Disk_Stat/blob/master/Template_ZBX/ZBX_Disk_Stat.xml\">Template_ZBX/ZBX_Disk_Stat.xml</a></li>\n<li>3. Check <a href=\"https://www.zabbix.com/documentation/current/manual/discovery/low_level_discovery#override\">LLD Override</a>. Default value: <br />\n<ul>\n<li>^$ - result FALSE - device was remove</li>\n<li>.snapshot. - result FALSE - filter LVM snapshot</li>\n<li>-real$ - result FALSE - <a href=\"https://rwmj.wordpress.com/2010/09/28/how-lvm-does-snapshots/\" rel=\"nofollow\">filter LVM snapshot</a></li>\n<li>-cow$ - result FALSE - <a href=\"https://rwmj.wordpress.com/2010/09/28/how-lvm-does-snapshots/\" rel=\"nofollow\">filter LVM snapshot</a></li>\n<li>^xvd[a-z]*[0-9]+$ - result FALSE - filter partitions</li>\n<li>^[hs]d[a-z]*[0-9]+$ - result FALSE - filter partitions</li>\n<li>^loop[0-9]*$ - result FALSE - filter loop device</li>\n<li>^sr[0-9]*$ - result FALSE - filter CD-ROM</li>\n</ul>\n</li>\n<li>4. Add host to group \"Disk_Stat: io_block_dev\"</li>\n<li>5. Wait before Zabbix Discovery and Get Some Data</li>\n</ul>", "features": "Low Level Discovery (LLD)|Zabbix Agent", "address": "", "city": "", "state": "", "country": "", "postcode": "", "telephone": "", "fax": "", "email": "", "website": "https://github.com/dusharu/ZBX_Disk_Stat", "price": 0, "link_hits": 3636, "link_votes": null, "link_rating": 0, "link_featured": null, "link_created": "2019-11-25 21:39:42", "link_modified": "2021-04-12 01:03:03", "link_visited": 424, "publish_up": "2019-11-25 21:39:42", "publish_down": "0000-00-00 00:00:00", "metakey": "", "metadesc": "", "1.8": "", "2.0": "", "2.2": "", "2.4": "", "3.0": "", "3.2": "", "3.4": "", "4.0": "", "4.2": "", "4.4": "", "5.0": "", "5.2": "", "tags": "Linux, Disk, io", "author": "dusharu", "user_id": 11106, "link_id": 1881, "cat_id": "215", "internal_notes": "", "lat": 0, "lng": 0, "zoom": ""}