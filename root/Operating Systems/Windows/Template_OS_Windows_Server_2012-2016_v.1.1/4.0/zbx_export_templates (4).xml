<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>4.0</version>
    <date>2019-08-28T08:02:04Z</date>
    <groups>
        <group>
            <name>Templates</name>
        </group>
        <group>
            <name>Templates/Operating systems</name>
        </group>
    </groups>
    <templates>
        <template>
            <template>Template OS Windows Server 2012-2016</template>
            <name>Template OS Windows Server 2012-2016</name>
            <description>Шаблон подходит для ОС Windows Server 2012, 2016.&#13;
&#13;
Посетите.&#13;
Группа ВК:https://vk.com/simplezabbix&#13;
Видео про шаблон:https://youtu.be/FWqFyRu8hmQ</description>
            <groups>
                <group>
                    <name>Templates</name>
                </group>
                <group>
                    <name>Templates/Operating systems</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>Диск</name>
                </application>
                <application>
                    <name>Память</name>
                </application>
                <application>
                    <name>Процессор</name>
                </application>
                <application>
                    <name>Сеть</name>
                </application>
                <application>
                    <name>Система</name>
                </application>
                <application>
                    <name>Службы</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>Проверка статуса Firewall</name>
                    <type>0</type>
                    <snmp_community/>
                    <snmp_oid/>
                    <key>CheckFirewall</key>
                    <delay>4h</delay>
                    <history>7d</history>
                    <trends>0</trends>
                    <status>0</status>
                    <value_type>4</value_type>
                    <allowed_hosts/>
                    <units/>
                    <snmpv3_contextname/>
                    <snmpv3_securityname/>
                    <snmpv3_securitylevel>0</snmpv3_securitylevel>
                    <snmpv3_authprotocol>0</snmpv3_authprotocol>
                    <snmpv3_authpassphrase/>
                    <snmpv3_privprotocol>0</snmpv3_privprotocol>
                    <snmpv3_privpassphrase/>
                    <params/>
                    <ipmi_sensor/>
                    <authtype>0</authtype>
                    <username/>
                    <password/>
                    <publickey/>
                    <privatekey/>
                    <port/>
                    <description>Для работы нужно добавить в файл конфигурации zabbix агента&#13;
&#13;
#CheckFirewall&#13;
UserParameter=CheckFirewall, PowerShell.exe &quot;(Get-NetFirewallProfile -Profile Domain,Public,Private).enabled&quot;</description>
                    <inventory_link>0</inventory_link>
                    <applications>
                        <application>
                            <name>Система</name>
                        </application>
                    </applications>
                    <valuemap/>
                    <logtimefmt/>
                    <preprocessing/>
                    <jmx_endpoint/>
                    <timeout>3s</timeout>
                    <url/>
                    <query_fields/>
                    <posts/>
                    <status_codes>200</status_codes>
                    <follow_redirects>1</follow_redirects>
                    <post_type>0</post_type>
                    <http_proxy/>
                    <headers/>
                    <retrieve_mode>0</retrieve_mode>
                    <request_method>0</request_method>
                    <output_format>0</output_format>
                    <allow_traps>0</allow_traps>
                    <ssl_cert_file/>
                    <ssl_key_file/>
                    <ssl_key_password/>
                    <verify_peer>0</verify_peer>
                    <verify_host>0</verify_host>
                    <master_item/>
                </item>
                <item>
                    <name>Проверка по ICMP (ping)</name>
                    <type>3</type>
                    <snmp_community/>
                    <snmp_oid/>
                    <key>icmpping</key>
                    <delay>30s</delay>
                    <history>1d</history>
                    <trends>7d</trends>
                    <status>0</status>
                    <value_type>3</value_type>
                    <allowed_hosts/>
                    <units/>
                    <snmpv3_contextname/>
                    <snmpv3_securityname/>
                    <snmpv3_securitylevel>0</snmpv3_securitylevel>
                    <snmpv3_authprotocol>0</snmpv3_authprotocol>
                    <snmpv3_authpassphrase/>
                    <snmpv3_privprotocol>0</snmpv3_privprotocol>
                    <snmpv3_privpassphrase/>
                    <params/>
                    <ipmi_sensor/>
                    <authtype>0</authtype>
                    <username/>
                    <password/>
                    <publickey/>
                    <privatekey/>
                    <port/>
                    <description/>
                    <inventory_link>0</inventory_link>
                    <applications>
                        <application>
                            <name>Сеть</name>
                        </application>
                    </applications>
                    <valuemap/>
                    <logtimefmt/>
                    <preprocessing/>
                    <jmx_endpoint/>
                    <timeout>3s</timeout>
                    <url/>
                    <query_fields/>
                    <posts/>
                    <status_codes>200</status_codes>
                    <follow_redirects>1</follow_redirects>
                    <post_type>0</post_type>
                    <http_proxy/>
                    <headers/>
                    <retrieve_mode>0</retrieve_mode>
                    <request_method>0</request_method>
                    <output_format>0</output_format>
                    <allow_traps>0</allow_traps>
                    <ssl_cert_file/>
                    <ssl_key_file/>
                    <ssl_key_password/>
                    <verify_peer>0</verify_peer>
                    <verify_host>0</verify_host>
                    <master_item/>
                </item>
                <item>
                    <name>Memory Available (Physical) %</name>
                    <type>15</type>
                    <snmp_community/>
                    <snmp_oid/>
                    <key>MemoryAvailablePhysicalProc</key>
                    <delay>1m</delay>
                    <history>7d</history>
                    <trends>180d</trends>
                    <status>0</status>
                    <value_type>0</value_type>
                    <allowed_hosts/>
                    <units>%</units>
                    <snmpv3_contextname/>
                    <snmpv3_securityname/>
                    <snmpv3_securitylevel>0</snmpv3_securitylevel>
                    <snmpv3_authprotocol>0</snmpv3_authprotocol>
                    <snmpv3_authpassphrase/>
                    <snmpv3_privprotocol>0</snmpv3_privprotocol>
                    <snmpv3_privpassphrase/>
                    <params>100*last(&quot;perf_counter[\&quot;\4\24\&quot;,60]&quot;)/last(&quot;system.run[Powershell.exe \&quot;((Get-WmiObject Win32_PhysicalMemory).Capacity | Measure-Object -Sum).Sum\&quot;]&quot;)</params>
                    <ipmi_sensor/>
                    <authtype>0</authtype>
                    <username/>
                    <password/>
                    <publickey/>
                    <privatekey/>
                    <port/>
                    <description>Процент используемой физической памяти</description>
                    <inventory_link>0</inventory_link>
                    <applications>
                        <application>
                            <name>Память</name>
                        </application>
                    </applications>
                    <valuemap/>
                    <logtimefmt/>
                    <preprocessing/>
                    <jmx_endpoint/>
                    <timeout>3s</timeout>
                    <url/>
                    <query_fields/>
                    <posts/>
                    <status_codes>200</status_codes>
                    <follow_redirects>1</follow_redirects>
                    <post_type>0</post_type>
                    <http_proxy/>
                    <headers/>
                    <retrieve_mode>0</retrieve_mode>
                    <request_method>0</request_method>
                    <output_format>0</output_format>
                    <allow_traps>0</allow_traps>
                    <ssl_cert_file/>
                    <ssl_key_file/>
                    <ssl_key_password/>
                    <verify_peer>0</verify_peer>
                    <verify_host>0</verify_host>
                    <master_item/>
                </item>
                <item>
                    <name>Processor Queue Length</name>
                    <type>0</type>
                    <snmp_community/>
                    <snmp_oid/>
                    <key>perf_counter[&quot;\2\44&quot;,60]</key>
                    <delay>1m</delay>
                    <history>7d</history>
                    <trends>90d</trends>
                    <status>0</status>
                    <value_type>0</value_type>
                    <allowed_hosts/>
                    <units/>
                    <snmpv3_contextname/>
                    <snmpv3_securityname/>
                    <snmpv3_securitylevel>0</snmpv3_securitylevel>
                    <snmpv3_authprotocol>0</snmpv3_authprotocol>
                    <snmpv3_authpassphrase/>
                    <snmpv3_privprotocol>0</snmpv3_privprotocol>
                    <snmpv3_privpassphrase/>
                    <params/>
                    <ipmi_sensor/>
                    <authtype>0</authtype>
                    <username/>
                    <password/>
                    <publickey/>
                    <privatekey/>
                    <port/>
                    <description>Показания счетчика действительно очень важны для поиска проблем с производительностью процессора. Постоянное наличие большой очереди запросов к ЦП явно свидетельствует о том, что процессор не справляется с обработкой данных и является узким местом.</description>
                    <inventory_link>0</inventory_link>
                    <applications>
                        <application>
                            <name>Процессор</name>
                        </application>
                    </applications>
                    <valuemap/>
                    <logtimefmt/>
                    <preprocessing/>
                    <jmx_endpoint/>
                    <timeout>3s</timeout>
                    <url/>
                    <query_fields/>
                    <posts/>
                    <status_codes>200</status_codes>
                    <follow_redirects>1</follow_redirects>
                    <post_type>0</post_type>
                    <http_proxy/>
                    <headers/>
                    <retrieve_mode>0</retrieve_mode>
                    <request_method>1</request_method>
                    <output_format>0</output_format>
                    <allow_traps>0</allow_traps>
                    <ssl_cert_file/>
                    <ssl_key_file/>
                    <ssl_key_password/>
                    <verify_peer>0</verify_peer>
                    <verify_host>0</verify_host>
                    <master_item/>
                </item>
                <item>
                    <name>Processor Context Switches</name>
                    <type>0</type>
                    <snmp_community/>
                    <snmp_oid/>
                    <key>perf_counter[&quot;\2\146&quot;,60]</key>
                    <delay>1m</delay>
                    <history>7d</history>
                    <trends>90d</trends>
                    <status>0</status>
                    <value_type>0</value_type>
                    <allowed_hosts/>
                    <units/>
                    <snmpv3_contextname/>
                    <snmpv3_securityname/>
                    <snmpv3_securitylevel>0</snmpv3_securitylevel>
                    <snmpv3_authprotocol>0</snmpv3_authprotocol>
                    <snmpv3_authpassphrase/>
                    <snmpv3_privprotocol>0</snmpv3_privprotocol>
                    <snmpv3_privpassphrase/>
                    <params/>
                    <ipmi_sensor/>
                    <authtype>0</authtype>
                    <username/>
                    <password/>
                    <publickey/>
                    <privatekey/>
                    <port/>
                    <description>в многозадачных ОС и средах - процесс прекращения выполнения процессором одной задачи (процесса, потока, нити) с сохранением всей необходимой информации и состояния, необходимых для последующего продолжения с прерванного места, и восстановления и загрузки состояния задачи, к выполнению которой переходит процессор.</description>
                    <inventory_link>0</inventory_link>
                    <applications>
                        <application>
                            <name>Процессор</name>
                        </application>
                    </applications>
                    <valuemap/>
                    <logtimefmt/>
                    <preprocessing/>
                    <jmx_endpoint/>
                    <timeout>3s</timeout>
                    <url/>
                    <query_fields/>
                    <posts/>
                    <status_codes>200</status_codes>
                    <follow_redirects>1</follow_redirects>
                    <post_type>0</post_type>
                    <http_proxy/>
                    <headers/>
                    <retrieve_mode>0</retrieve_mode>
                    <request_method>0</request_method>
                    <output_format>0</output_format>
                    <allow_traps>0</allow_traps>
                    <ssl_cert_file/>
                    <ssl_key_file/>
                    <ssl_key_password/>
                    <verify_peer>0</verify_peer>
                    <verify_host>0</verify_host>
                    <master_item/>
                </item>
                <item>
                    <name>Memory Available Bytes</name>
                    <type>0</type>
                    <snmp_community/>
                    <snmp_oid/>
                    <key>perf_counter[&quot;\4\24&quot;,60]</key>
                    <delay>1m</delay>
                    <history>7d</history>
                    <trends>90d</trends>
                    <status>0</status>
                    <value_type>0</value_type>
                    <allowed_hosts/>
                    <units>B</units>
                    <snmpv3_contextname/>
                    <snmpv3_securityname/>
                    <snmpv3_securitylevel>0</snmpv3_securitylevel>
                    <snmpv3_authprotocol>0</snmpv3_authprotocol>
                    <snmpv3_authpassphrase/>
                    <snmpv3_privprotocol>0</snmpv3_privprotocol>
                    <snmpv3_privpassphrase/>
                    <params/>
                    <ipmi_sensor/>
                    <authtype>0</authtype>
                    <username/>
                    <password/>
                    <publickey/>
                    <privatekey/>
                    <port/>
                    <description/>
                    <inventory_link>0</inventory_link>
                    <applications>
                        <application>
                            <name>Память</name>
                        </application>
                    </applications>
                    <valuemap/>
                    <logtimefmt/>
                    <preprocessing/>
                    <jmx_endpoint/>
                    <timeout>3s</timeout>
                    <url/>
                    <query_fields/>
                    <posts/>
                    <status_codes>200</status_codes>
                    <follow_redirects>1</follow_redirects>
                    <post_type>0</post_type>
                    <http_proxy/>
                    <headers/>
                    <retrieve_mode>0</retrieve_mode>
                    <request_method>1</request_method>
                    <output_format>0</output_format>
                    <allow_traps>0</allow_traps>
                    <ssl_cert_file/>
                    <ssl_key_file/>
                    <ssl_key_password/>
                    <verify_peer>0</verify_peer>
                    <verify_host>0</verify_host>
                    <master_item/>
                </item>
                <item>
                    <name>Memory Commit Limit</name>
                    <type>0</type>
                    <snmp_community/>
                    <snmp_oid/>
                    <key>perf_counter[&quot;\4\30&quot;,300]</key>
                    <delay>5m</delay>
                    <history>7d</history>
                    <trends>90d</trends>
                    <status>0</status>
                    <value_type>0</value_type>
                    <allowed_hosts/>
                    <units>B</units>
                    <snmpv3_contextname/>
                    <snmpv3_securityname/>
                    <snmpv3_securitylevel>0</snmpv3_securitylevel>
                    <snmpv3_authprotocol>0</snmpv3_authprotocol>
                    <snmpv3_authpassphrase/>
                    <snmpv3_privprotocol>0</snmpv3_privprotocol>
                    <snmpv3_privpassphrase/>
                    <params/>
                    <ipmi_sensor/>
                    <authtype>0</authtype>
                    <username/>
                    <password/>
                    <publickey/>
                    <privatekey/>
                    <port/>
                    <description>показывает максимальный объем памяти, который может быть выделен системой. Обычно это фиксированная величина, которая определяется операционной системой</description>
                    <inventory_link>0</inventory_link>
                    <applications>
                        <application>
                            <name>Память</name>
                        </application>
                    </applications>
                    <valuemap/>
                    <logtimefmt/>
                    <preprocessing/>
                    <jmx_endpoint/>
                    <timeout>3s</timeout>
                    <url/>
                    <query_fields/>
                    <posts/>
                    <status_codes>200</status_codes>
                    <follow_redirects>1</follow_redirects>
                    <post_type>0</post_type>
                    <http_proxy/>
                    <headers/>
                    <retrieve_mode>0</retrieve_mode>
                    <request_method>0</request_method>
                    <output_format>0</output_format>
                    <allow_traps>0</allow_traps>
                    <ssl_cert_file/>
                    <ssl_key_file/>
                    <ssl_key_password/>
                    <verify_peer>0</verify_peer>
                    <verify_host>0</verify_host>
                    <master_item/>
                </item>
                <item>
                    <name>Memory Committed Bytes In Use %</name>
                    <type>0</type>
                    <snmp_community/>
                    <snmp_oid/>
                    <key>perf_counter[&quot;\4\1406&quot;,300]</key>
                    <delay>5m</delay>
                    <history>7d</history>
                    <trends>90d</trends>
                    <status>0</status>
                    <value_type>0</value_type>
                    <allowed_hosts/>
                    <units>%</units>
                    <snmpv3_contextname/>
                    <snmpv3_securityname/>
                    <snmpv3_securitylevel>0</snmpv3_securitylevel>
                    <snmpv3_authprotocol>0</snmpv3_authprotocol>
                    <snmpv3_authpassphrase/>
                    <snmpv3_privprotocol>0</snmpv3_privprotocol>
                    <snmpv3_privpassphrase/>
                    <params/>
                    <ipmi_sensor/>
                    <authtype>0</authtype>
                    <username/>
                    <password/>
                    <publickey/>
                    <privatekey/>
                    <port/>
                    <description>Соотношение величин счетчиков Commited Bytes и Commit Limit.&#13;
&#13;
Следя за счетчиком %Committed Bytes In Use, можно увидеть, что при достижении им величины 100% система начнет увеличивать размеры файла подкачки, пытаясь удовлетворить растущие запросы на память.</description>
                    <inventory_link>0</inventory_link>
                    <applications>
                        <application>
                            <name>Память</name>
                        </application>
                    </applications>
                    <valuemap/>
                    <logtimefmt/>
                    <preprocessing/>
                    <jmx_endpoint/>
                    <timeout>3s</timeout>
                    <url/>
                    <query_fields/>
                    <posts/>
                    <status_codes>200</status_codes>
                    <follow_redirects>1</follow_redirects>
                    <post_type>0</post_type>
                    <http_proxy/>
                    <headers/>
                    <retrieve_mode>0</retrieve_mode>
                    <request_method>1</request_method>
                    <output_format>0</output_format>
                    <allow_traps>0</allow_traps>
                    <ssl_cert_file/>
                    <ssl_key_file/>
                    <ssl_key_password/>
                    <verify_peer>0</verify_peer>
                    <verify_host>0</verify_host>
                    <master_item/>
                </item>
                <item>
                    <name>Process Total Private Bytes</name>
                    <type>0</type>
                    <snmp_community/>
                    <snmp_oid/>
                    <key>perf_counter[&quot;\230(_Total)\186&quot;,300]</key>
                    <delay>5m</delay>
                    <history>7d</history>
                    <trends>90d</trends>
                    <status>0</status>
                    <value_type>0</value_type>
                    <allowed_hosts/>
                    <units>B</units>
                    <snmpv3_contextname/>
                    <snmpv3_securityname/>
                    <snmpv3_securitylevel>0</snmpv3_securitylevel>
                    <snmpv3_authprotocol>0</snmpv3_authprotocol>
                    <snmpv3_authpassphrase/>
                    <snmpv3_privprotocol>0</snmpv3_privprotocol>
                    <snmpv3_privpassphrase/>
                    <params/>
                    <ipmi_sensor/>
                    <authtype>0</authtype>
                    <username/>
                    <password/>
                    <publickey/>
                    <privatekey/>
                    <port/>
                    <description>показывает объем выделенной памяти для процесса. Если сумма всех private bytes для всех процессов превысит предел памяти, описанный выше, это значит, что в системе образовалась нехватка памяти и приложения будут отказывать</description>
                    <inventory_link>0</inventory_link>
                    <applications>
                        <application>
                            <name>Память</name>
                        </application>
                    </applications>
                    <valuemap/>
                    <logtimefmt/>
                    <preprocessing/>
                    <jmx_endpoint/>
                    <timeout>3s</timeout>
                    <url/>
                    <query_fields/>
                    <posts/>
                    <status_codes>200</status_codes>
                    <follow_redirects>1</follow_redirects>
                    <post_type>0</post_type>
                    <http_proxy/>
                    <headers/>
                    <retrieve_mode>0</retrieve_mode>
                    <request_method>0</request_method>
                    <output_format>0</output_format>
                    <allow_traps>0</allow_traps>
                    <ssl_cert_file/>
                    <ssl_key_file/>
                    <ssl_key_password/>
                    <verify_peer>0</verify_peer>
                    <verify_host>0</verify_host>
                    <master_item/>
                </item>
                <item>
                    <name>Processor Time</name>
                    <type>0</type>
                    <snmp_community/>
                    <snmp_oid/>
                    <key>perf_counter[&quot;\238(_Total)\6&quot;,60]</key>
                    <delay>1m</delay>
                    <history>7d</history>
                    <trends>180d</trends>
                    <status>0</status>
                    <value_type>0</value_type>
                    <allowed_hosts/>
                    <units>%</units>
                    <snmpv3_contextname/>
                    <snmpv3_securityname/>
                    <snmpv3_securitylevel>0</snmpv3_securitylevel>
                    <snmpv3_authprotocol>0</snmpv3_authprotocol>
                    <snmpv3_authpassphrase/>
                    <snmpv3_privprotocol>0</snmpv3_privprotocol>
                    <snmpv3_privpassphrase/>
                    <params/>
                    <ipmi_sensor/>
                    <authtype>0</authtype>
                    <username/>
                    <password/>
                    <publickey/>
                    <privatekey/>
                    <port/>
                    <description>Загруженность процессора в % (среднее значение за 1 минуту)</description>
                    <inventory_link>0</inventory_link>
                    <applications>
                        <application>
                            <name>Процессор</name>
                        </application>
                    </applications>
                    <valuemap/>
                    <logtimefmt/>
                    <preprocessing/>
                    <jmx_endpoint/>
                    <timeout>3s</timeout>
                    <url/>
                    <query_fields/>
                    <posts/>
                    <status_codes>200</status_codes>
                    <follow_redirects>1</follow_redirects>
                    <post_type>0</post_type>
                    <http_proxy/>
                    <headers/>
                    <retrieve_mode>0</retrieve_mode>
                    <request_method>1</request_method>
                    <output_format>0</output_format>
                    <allow_traps>0</allow_traps>
                    <ssl_cert_file/>
                    <ssl_key_file/>
                    <ssl_key_password/>
                    <verify_peer>0</verify_peer>
                    <verify_host>0</verify_host>
                    <master_item/>
                </item>
                <item>
                    <name>Системное время UTC</name>
                    <type>0</type>
                    <snmp_community/>
                    <snmp_oid/>
                    <key>system.localtime[utc]</key>
                    <delay>1m</delay>
                    <history>1d</history>
                    <trends>30d</trends>
                    <status>0</status>
                    <value_type>3</value_type>
                    <allowed_hosts/>
                    <units/>
                    <snmpv3_contextname/>
                    <snmpv3_securityname/>
                    <snmpv3_securitylevel>0</snmpv3_securitylevel>
                    <snmpv3_authprotocol>0</snmpv3_authprotocol>
                    <snmpv3_authpassphrase/>
                    <snmpv3_privprotocol>0</snmpv3_privprotocol>
                    <snmpv3_privpassphrase/>
                    <params/>
                    <ipmi_sensor/>
                    <authtype>0</authtype>
                    <username/>
                    <password/>
                    <publickey/>
                    <privatekey/>
                    <port/>
                    <description/>
                    <inventory_link>0</inventory_link>
                    <applications>
                        <application>
                            <name>Система</name>
                        </application>
                    </applications>
                    <valuemap/>
                    <logtimefmt/>
                    <preprocessing/>
                    <jmx_endpoint/>
                    <timeout>3s</timeout>
                    <url/>
                    <query_fields/>
                    <posts/>
                    <status_codes>200</status_codes>
                    <follow_redirects>1</follow_redirects>
                    <post_type>0</post_type>
                    <http_proxy/>
                    <headers/>
                    <retrieve_mode>0</retrieve_mode>
                    <request_method>1</request_method>
                    <output_format>0</output_format>
                    <allow_traps>0</allow_traps>
                    <ssl_cert_file/>
                    <ssl_key_file/>
                    <ssl_key_password/>
                    <verify_peer>0</verify_peer>
                    <verify_host>0</verify_host>
                    <master_item/>
                </item>
                <item>
                    <name>Проверка Обновлений</name>
                    <type>0</type>
                    <snmp_community/>
                    <snmp_oid/>
                    <key>system.run[&quot;PowerShell.exe Get-Date -Date \&quot;((get-wmiobject -class win32_quickfixengineering).installedon | sort -Descending)[0] -Uformat %s\&quot;&quot;]</key>
                    <delay>4h</delay>
                    <history>7d</history>
                    <trends>7d</trends>
                    <status>0</status>
                    <value_type>3</value_type>
                    <allowed_hosts/>
                    <units/>
                    <snmpv3_contextname/>
                    <snmpv3_securityname/>
                    <snmpv3_securitylevel>0</snmpv3_securitylevel>
                    <snmpv3_authprotocol>0</snmpv3_authprotocol>
                    <snmpv3_authpassphrase/>
                    <snmpv3_privprotocol>0</snmpv3_privprotocol>
                    <snmpv3_privpassphrase/>
                    <params/>
                    <ipmi_sensor/>
                    <authtype>0</authtype>
                    <username/>
                    <password/>
                    <publickey/>
                    <privatekey/>
                    <port/>
                    <description>Если в системе нет установленных обновлений, то элемент данных станет не поддерживаемый. Так как скрипт выдает ошибку.</description>
                    <inventory_link>0</inventory_link>
                    <applications>
                        <application>
                            <name>Система</name>
                        </application>
                    </applications>
                    <valuemap/>
                    <logtimefmt/>
                    <preprocessing>
                        <step>
                            <type>2</type>
                            <params><![CDATA[ ]]></params>
                        </step>
                    </preprocessing>
                    <jmx_endpoint/>
                    <timeout>3s</timeout>
                    <url/>
                    <query_fields/>
                    <posts/>
                    <status_codes>200</status_codes>
                    <follow_redirects>1</follow_redirects>
                    <post_type>0</post_type>
                    <http_proxy/>
                    <headers/>
                    <retrieve_mode>0</retrieve_mode>
                    <request_method>1</request_method>
                    <output_format>0</output_format>
                    <allow_traps>0</allow_traps>
                    <ssl_cert_file/>
                    <ssl_key_file/>
                    <ssl_key_password/>
                    <verify_peer>0</verify_peer>
                    <verify_host>0</verify_host>
                    <master_item/>
                </item>
                <item>
                    <name>Проверка Cертификата</name>
                    <type>0</type>
                    <snmp_community/>
                    <snmp_oid/>
                    <key>system.run[Powershell.exe &quot;&amp; {(Get-ChildItem -Path cert: -Recurse -ExpiringInDays 45 | where {$_.PSPath -notmatch 'Remote Desktop' -and $_.PSPath -notmatch 'Operations Manager'}).subject}&quot;]</key>
                    <delay>4h</delay>
                    <history>7d</history>
                    <trends>0</trends>
                    <status>0</status>
                    <value_type>4</value_type>
                    <allowed_hosts/>
                    <units/>
                    <snmpv3_contextname/>
                    <snmpv3_securityname/>
                    <snmpv3_securitylevel>0</snmpv3_securitylevel>
                    <snmpv3_authprotocol>0</snmpv3_authprotocol>
                    <snmpv3_authpassphrase/>
                    <snmpv3_privprotocol>0</snmpv3_privprotocol>
                    <snmpv3_privpassphrase/>
                    <params/>
                    <ipmi_sensor/>
                    <authtype>0</authtype>
                    <username/>
                    <password/>
                    <publickey/>
                    <privatekey/>
                    <port/>
                    <description/>
                    <inventory_link>0</inventory_link>
                    <applications>
                        <application>
                            <name>Система</name>
                        </application>
                    </applications>
                    <valuemap/>
                    <logtimefmt/>
                    <preprocessing/>
                    <jmx_endpoint/>
                    <timeout>3s</timeout>
                    <url/>
                    <query_fields/>
                    <posts/>
                    <status_codes>200</status_codes>
                    <follow_redirects>1</follow_redirects>
                    <post_type>0</post_type>
                    <http_proxy/>
                    <headers/>
                    <retrieve_mode>0</retrieve_mode>
                    <request_method>0</request_method>
                    <output_format>0</output_format>
                    <allow_traps>0</allow_traps>
                    <ssl_cert_file/>
                    <ssl_key_file/>
                    <ssl_key_password/>
                    <verify_peer>0</verify_peer>
                    <verify_host>0</verify_host>
                    <master_item/>
                </item>
                <item>
                    <name>Memory Capacity (Physical) Bytes</name>
                    <type>0</type>
                    <snmp_community/>
                    <snmp_oid/>
                    <key>system.run[Powershell.exe &quot;((Get-WmiObject Win32_PhysicalMemory).Capacity | Measure-Object -Sum).Sum&quot;]</key>
                    <delay>24h</delay>
                    <history>7d</history>
                    <trends>90d</trends>
                    <status>0</status>
                    <value_type>3</value_type>
                    <allowed_hosts/>
                    <units>B</units>
                    <snmpv3_contextname/>
                    <snmpv3_securityname/>
                    <snmpv3_securitylevel>0</snmpv3_securitylevel>
                    <snmpv3_authprotocol>0</snmpv3_authprotocol>
                    <snmpv3_authpassphrase/>
                    <snmpv3_privprotocol>0</snmpv3_privprotocol>
                    <snmpv3_privpassphrase/>
                    <params/>
                    <ipmi_sensor/>
                    <authtype>0</authtype>
                    <username/>
                    <password/>
                    <publickey/>
                    <privatekey/>
                    <port/>
                    <description>Размер физической памяти</description>
                    <inventory_link>0</inventory_link>
                    <applications>
                        <application>
                            <name>Память</name>
                        </application>
                    </applications>
                    <valuemap/>
                    <logtimefmt/>
                    <preprocessing/>
                    <jmx_endpoint/>
                    <timeout>3s</timeout>
                    <url/>
                    <query_fields/>
                    <posts/>
                    <status_codes>200</status_codes>
                    <follow_redirects>1</follow_redirects>
                    <post_type>0</post_type>
                    <http_proxy/>
                    <headers/>
                    <retrieve_mode>0</retrieve_mode>
                    <request_method>0</request_method>
                    <output_format>0</output_format>
                    <allow_traps>0</allow_traps>
                    <ssl_cert_file/>
                    <ssl_key_file/>
                    <ssl_key_password/>
                    <verify_peer>0</verify_peer>
                    <verify_host>0</verify_host>
                    <master_item/>
                </item>
            </items>
            <discovery_rules>
                <discovery_rule>
                    <name>discovery Interface</name>
                    <type>0</type>
                    <snmp_community/>
                    <snmp_oid/>
                    <key>net.if.discovery</key>
                    <delay>24h</delay>
                    <status>0</status>
                    <allowed_hosts/>
                    <snmpv3_contextname/>
                    <snmpv3_securityname/>
                    <snmpv3_securitylevel>0</snmpv3_securitylevel>
                    <snmpv3_authprotocol>0</snmpv3_authprotocol>
                    <snmpv3_authpassphrase/>
                    <snmpv3_privprotocol>0</snmpv3_privprotocol>
                    <snmpv3_privpassphrase/>
                    <params/>
                    <ipmi_sensor/>
                    <authtype>0</authtype>
                    <username/>
                    <password/>
                    <publickey/>
                    <privatekey/>
                    <port/>
                    <filter>
                        <evaltype>1</evaltype>
                        <formula/>
                        <conditions>
                            <condition>
                                <macro>{#IFNAME}</macro>
                                <value>@Network interfaces for discovery</value>
                                <operator>8</operator>
                                <formulaid>A</formulaid>
                            </condition>
                            <condition>
                                <macro>{#IFNAME}</macro>
                                <value>@Microsoft Network Adapter</value>
                                <operator>8</operator>
                                <formulaid>B</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <lifetime>7d</lifetime>
                    <description>Обнаружение сетевых интрефейсов</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>Interface:{#IFNAME}, Sent Bytes/sec</name>
                            <type>0</type>
                            <snmp_community/>
                            <snmp_oid/>
                            <key>perf_counter[&quot;\510({#IFNAME})\506&quot;,60]</key>
                            <delay>1m</delay>
                            <history>30d</history>
                            <trends>30d</trends>
                            <status>0</status>
                            <value_type>0</value_type>
                            <allowed_hosts/>
                            <units>bps</units>
                            <snmpv3_contextname/>
                            <snmpv3_securityname/>
                            <snmpv3_securitylevel>0</snmpv3_securitylevel>
                            <snmpv3_authprotocol>0</snmpv3_authprotocol>
                            <snmpv3_authpassphrase/>
                            <snmpv3_privprotocol>0</snmpv3_privprotocol>
                            <snmpv3_privpassphrase/>
                            <params/>
                            <ipmi_sensor/>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port/>
                            <description/>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>Сеть</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                            <preprocessing/>
                            <jmx_endpoint/>
                            <timeout>3s</timeout>
                            <url/>
                            <query_fields/>
                            <posts/>
                            <status_codes>200</status_codes>
                            <follow_redirects>1</follow_redirects>
                            <post_type>0</post_type>
                            <http_proxy/>
                            <headers/>
                            <retrieve_mode>0</retrieve_mode>
                            <request_method>0</request_method>
                            <output_format>0</output_format>
                            <allow_traps>0</allow_traps>
                            <ssl_cert_file/>
                            <ssl_key_file/>
                            <ssl_key_password/>
                            <verify_peer>0</verify_peer>
                            <verify_host>0</verify_host>
                            <application_prototypes/>
                            <master_item/>
                        </item_prototype>
                        <item_prototype>
                            <name>Interface:{#IFNAME}, Current Bandwidth</name>
                            <type>0</type>
                            <snmp_community/>
                            <snmp_oid/>
                            <key>perf_counter[&quot;\510({#IFNAME})\520&quot;,]</key>
                            <delay>24h</delay>
                            <history>1d</history>
                            <trends>7d</trends>
                            <status>0</status>
                            <value_type>3</value_type>
                            <allowed_hosts/>
                            <units>bps</units>
                            <snmpv3_contextname/>
                            <snmpv3_securityname/>
                            <snmpv3_securitylevel>0</snmpv3_securitylevel>
                            <snmpv3_authprotocol>0</snmpv3_authprotocol>
                            <snmpv3_authpassphrase/>
                            <snmpv3_privprotocol>0</snmpv3_privprotocol>
                            <snmpv3_privpassphrase/>
                            <params/>
                            <ipmi_sensor/>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port/>
                            <description/>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>Сеть</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                            <preprocessing/>
                            <jmx_endpoint/>
                            <timeout>3s</timeout>
                            <url/>
                            <query_fields/>
                            <posts/>
                            <status_codes>200</status_codes>
                            <follow_redirects>1</follow_redirects>
                            <post_type>0</post_type>
                            <http_proxy/>
                            <headers/>
                            <retrieve_mode>0</retrieve_mode>
                            <request_method>0</request_method>
                            <output_format>0</output_format>
                            <allow_traps>0</allow_traps>
                            <ssl_cert_file/>
                            <ssl_key_file/>
                            <ssl_key_password/>
                            <verify_peer>0</verify_peer>
                            <verify_host>0</verify_host>
                            <application_prototypes/>
                            <master_item/>
                        </item_prototype>
                        <item_prototype>
                            <name>Interface:{#IFNAME}, Output Queue Length</name>
                            <type>0</type>
                            <snmp_community/>
                            <snmp_oid/>
                            <key>perf_counter[&quot;\510({#IFNAME})\544&quot;,300]</key>
                            <delay>5m</delay>
                            <history>7d</history>
                            <trends>30d</trends>
                            <status>0</status>
                            <value_type>3</value_type>
                            <allowed_hosts/>
                            <units/>
                            <snmpv3_contextname/>
                            <snmpv3_securityname/>
                            <snmpv3_securitylevel>0</snmpv3_securitylevel>
                            <snmpv3_authprotocol>0</snmpv3_authprotocol>
                            <snmpv3_authpassphrase/>
                            <snmpv3_privprotocol>0</snmpv3_privprotocol>
                            <snmpv3_privpassphrase/>
                            <params/>
                            <ipmi_sensor/>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port/>
                            <description>Счетчик фиксирует длину очереди исходящих пакетов адаптера. Приемлемыми считаются значения 1 и 2. Но если этот показатель часто достигает уровня 3, 4 или более высоких отметок, это значит, что сетевой адаптер ввода/вывода не справляется с запросами сервера на передачу данных в сеть.</description>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>Сеть</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                            <preprocessing/>
                            <jmx_endpoint/>
                            <timeout>3s</timeout>
                            <url/>
                            <query_fields/>
                            <posts/>
                            <status_codes>200</status_codes>
                            <follow_redirects>1</follow_redirects>
                            <post_type>0</post_type>
                            <http_proxy/>
                            <headers/>
                            <retrieve_mode>0</retrieve_mode>
                            <request_method>0</request_method>
                            <output_format>0</output_format>
                            <allow_traps>0</allow_traps>
                            <ssl_cert_file/>
                            <ssl_key_file/>
                            <ssl_key_password/>
                            <verify_peer>0</verify_peer>
                            <verify_host>0</verify_host>
                            <application_prototypes/>
                            <master_item/>
                        </item_prototype>
                        <item_prototype>
                            <name>Interface:{#IFNAME}, Received Bytes/sec</name>
                            <type>0</type>
                            <snmp_community/>
                            <snmp_oid/>
                            <key>perf_counter[&quot;\510({#IFNAME})\898&quot;,60]</key>
                            <delay>1m</delay>
                            <history>30d</history>
                            <trends>30d</trends>
                            <status>0</status>
                            <value_type>0</value_type>
                            <allowed_hosts/>
                            <units>bps</units>
                            <snmpv3_contextname/>
                            <snmpv3_securityname/>
                            <snmpv3_securitylevel>0</snmpv3_securitylevel>
                            <snmpv3_authprotocol>0</snmpv3_authprotocol>
                            <snmpv3_authpassphrase/>
                            <snmpv3_privprotocol>0</snmpv3_privprotocol>
                            <snmpv3_privpassphrase/>
                            <params/>
                            <ipmi_sensor/>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port/>
                            <description/>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>Сеть</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                            <preprocessing/>
                            <jmx_endpoint/>
                            <timeout>3s</timeout>
                            <url/>
                            <query_fields/>
                            <posts/>
                            <status_codes>200</status_codes>
                            <follow_redirects>1</follow_redirects>
                            <post_type>0</post_type>
                            <http_proxy/>
                            <headers/>
                            <retrieve_mode>0</retrieve_mode>
                            <request_method>0</request_method>
                            <output_format>0</output_format>
                            <allow_traps>0</allow_traps>
                            <ssl_cert_file/>
                            <ssl_key_file/>
                            <ssl_key_password/>
                            <verify_peer>0</verify_peer>
                            <verify_host>0</verify_host>
                            <application_prototypes/>
                            <master_item/>
                        </item_prototype>
                        <item_prototype>
                            <name>Interface:{#IFNAME}, Utilization Received</name>
                            <type>15</type>
                            <snmp_community/>
                            <snmp_oid/>
                            <key>UtilizationReceived.[{#IFNAME}]</key>
                            <delay>1m</delay>
                            <history>1d</history>
                            <trends>365d</trends>
                            <status>0</status>
                            <value_type>0</value_type>
                            <allowed_hosts/>
                            <units>%</units>
                            <snmpv3_contextname/>
                            <snmpv3_securityname/>
                            <snmpv3_securitylevel>0</snmpv3_securitylevel>
                            <snmpv3_authprotocol>0</snmpv3_authprotocol>
                            <snmpv3_authpassphrase/>
                            <snmpv3_privprotocol>0</snmpv3_privprotocol>
                            <snmpv3_privpassphrase/>
                            <params>100*last(&quot;perf_counter[\&quot;\510({#IFNAME})\898\&quot;,60]&quot;)/last(&quot;perf_counter[\&quot;\510({#IFNAME})\520\&quot;,]&quot;)</params>
                            <ipmi_sensor/>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port/>
                            <description/>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>Сеть</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                            <preprocessing/>
                            <jmx_endpoint/>
                            <timeout>3s</timeout>
                            <url/>
                            <query_fields/>
                            <posts/>
                            <status_codes>200</status_codes>
                            <follow_redirects>1</follow_redirects>
                            <post_type>0</post_type>
                            <http_proxy/>
                            <headers/>
                            <retrieve_mode>0</retrieve_mode>
                            <request_method>0</request_method>
                            <output_format>0</output_format>
                            <allow_traps>0</allow_traps>
                            <ssl_cert_file/>
                            <ssl_key_file/>
                            <ssl_key_password/>
                            <verify_peer>0</verify_peer>
                            <verify_host>0</verify_host>
                            <application_prototypes/>
                            <master_item/>
                        </item_prototype>
                        <item_prototype>
                            <name>Interface:{#IFNAME}, Utilization Sent</name>
                            <type>15</type>
                            <snmp_community/>
                            <snmp_oid/>
                            <key>UtilizationSent.[{#IFNAME}]</key>
                            <delay>1m</delay>
                            <history>1d</history>
                            <trends>365d</trends>
                            <status>0</status>
                            <value_type>0</value_type>
                            <allowed_hosts/>
                            <units>%</units>
                            <snmpv3_contextname/>
                            <snmpv3_securityname/>
                            <snmpv3_securitylevel>0</snmpv3_securitylevel>
                            <snmpv3_authprotocol>0</snmpv3_authprotocol>
                            <snmpv3_authpassphrase/>
                            <snmpv3_privprotocol>0</snmpv3_privprotocol>
                            <snmpv3_privpassphrase/>
                            <params>100*last(&quot;perf_counter[\&quot;\510({#IFNAME})\898\&quot;,60]&quot;)/last(&quot;perf_counter[\&quot;\510({#IFNAME})\520\&quot;,]&quot;)</params>
                            <ipmi_sensor/>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port/>
                            <description/>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>Сеть</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                            <preprocessing/>
                            <jmx_endpoint/>
                            <timeout>3s</timeout>
                            <url/>
                            <query_fields/>
                            <posts/>
                            <status_codes>200</status_codes>
                            <follow_redirects>1</follow_redirects>
                            <post_type>0</post_type>
                            <http_proxy/>
                            <headers/>
                            <retrieve_mode>0</retrieve_mode>
                            <request_method>0</request_method>
                            <output_format>0</output_format>
                            <allow_traps>0</allow_traps>
                            <ssl_cert_file/>
                            <ssl_key_file/>
                            <ssl_key_password/>
                            <verify_peer>0</verify_peer>
                            <verify_host>0</verify_host>
                            <application_prototypes/>
                            <master_item/>
                        </item_prototype>
                    </item_prototypes>
                    <trigger_prototypes>
                        <trigger_prototype>
                            <expression>{Template OS Windows Server 2012-2016:perf_counter[&quot;\510({#IFNAME})\544&quot;,300].last()}&gt;3</expression>
                            <recovery_mode>0</recovery_mode>
                            <recovery_expression/>
                            <name>Interface:{#IFNAME}, Output Queue Length &gt; 3</name>
                            <correlation_mode>0</correlation_mode>
                            <correlation_tag/>
                            <url/>
                            <status>0</status>
                            <priority>2</priority>
                            <description>Счетчик фиксирует длину очереди исходящих пакетов адаптера. Приемлемыми считаются значения 1 и 2. Но если этот показатель часто достигает уровня 3, 4 или более высоких отметок, это значит, что сетевой адаптер ввода/вывода не справляется с запросами сервера на передачу данных в сеть.</description>
                            <type>0</type>
                            <manual_close>0</manual_close>
                            <dependencies/>
                            <tags>
                                <tag>
                                    <tag>Производительность</tag>
                                    <value/>
                                </tag>
                            </tags>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>{Template OS Windows Server 2012-2016:UtilizationReceived.[{#IFNAME}].last()}&gt;50</expression>
                            <recovery_mode>0</recovery_mode>
                            <recovery_expression/>
                            <name>Interface:{#IFNAME}, Utilization Received &gt; 50%</name>
                            <correlation_mode>0</correlation_mode>
                            <correlation_tag/>
                            <url/>
                            <status>0</status>
                            <priority>1</priority>
                            <description>Utilization Received = {ITEM.LASTVALUE}</description>
                            <type>0</type>
                            <manual_close>0</manual_close>
                            <dependencies>
                                <dependency>
                                    <name>Interface:{#IFNAME}, Utilization Received &gt; 90%</name>
                                    <expression>{Template OS Windows Server 2012-2016:UtilizationReceived.[{#IFNAME}].last()}&gt;90</expression>
                                    <recovery_expression/>
                                </dependency>
                            </dependencies>
                            <tags>
                                <tag>
                                    <tag>Производительность</tag>
                                    <value/>
                                </tag>
                            </tags>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>{Template OS Windows Server 2012-2016:UtilizationReceived.[{#IFNAME}].last()}&gt;90</expression>
                            <recovery_mode>0</recovery_mode>
                            <recovery_expression/>
                            <name>Interface:{#IFNAME}, Utilization Received &gt; 90%</name>
                            <correlation_mode>0</correlation_mode>
                            <correlation_tag/>
                            <url/>
                            <status>0</status>
                            <priority>4</priority>
                            <description>Utilization Received = {ITEM.LASTVALUE}</description>
                            <type>0</type>
                            <manual_close>0</manual_close>
                            <dependencies/>
                            <tags>
                                <tag>
                                    <tag>Производительность</tag>
                                    <value/>
                                </tag>
                            </tags>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>{Template OS Windows Server 2012-2016:UtilizationSent.[{#IFNAME}].last()}&gt;50</expression>
                            <recovery_mode>0</recovery_mode>
                            <recovery_expression/>
                            <name>Interface:{#IFNAME}, Utilization Sent &gt; 50%</name>
                            <correlation_mode>0</correlation_mode>
                            <correlation_tag/>
                            <url/>
                            <status>0</status>
                            <priority>1</priority>
                            <description>Utilization Sent = {ITEM.LASTVALUE}</description>
                            <type>0</type>
                            <manual_close>0</manual_close>
                            <dependencies>
                                <dependency>
                                    <name>Interface:{#IFNAME}, Utilization Sent &gt; 90%</name>
                                    <expression>{Template OS Windows Server 2012-2016:UtilizationSent.[{#IFNAME}].last()}&gt;90</expression>
                                    <recovery_expression/>
                                </dependency>
                            </dependencies>
                            <tags>
                                <tag>
                                    <tag>Производительность</tag>
                                    <value/>
                                </tag>
                            </tags>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>{Template OS Windows Server 2012-2016:UtilizationSent.[{#IFNAME}].last()}&gt;90</expression>
                            <recovery_mode>0</recovery_mode>
                            <recovery_expression/>
                            <name>Interface:{#IFNAME}, Utilization Sent &gt; 90%</name>
                            <correlation_mode>0</correlation_mode>
                            <correlation_tag/>
                            <url/>
                            <status>0</status>
                            <priority>4</priority>
                            <description>Utilization Sent = {ITEM.LASTVALUE}</description>
                            <type>0</type>
                            <manual_close>0</manual_close>
                            <dependencies/>
                            <tags>
                                <tag>
                                    <tag>Производительность</tag>
                                    <value/>
                                </tag>
                            </tags>
                        </trigger_prototype>
                    </trigger_prototypes>
                    <graph_prototypes>
                        <graph_prototype>
                            <name>Interface:{#IFNAME}, Utilization</name>
                            <width>1400</width>
                            <height>500</height>
                            <yaxismin>0.0000</yaxismin>
                            <yaxismax>100.0000</yaxismax>
                            <show_work_period>1</show_work_period>
                            <show_triggers>1</show_triggers>
                            <type>0</type>
                            <show_legend>1</show_legend>
                            <show_3d>0</show_3d>
                            <percent_left>0.0000</percent_left>
                            <percent_right>0.0000</percent_right>
                            <ymin_type_1>1</ymin_type_1>
                            <ymax_type_1>1</ymax_type_1>
                            <ymin_item_1>0</ymin_item_1>
                            <ymax_item_1>0</ymax_item_1>
                            <graph_items>
                                <graph_item>
                                    <sortorder>0</sortorder>
                                    <drawtype>0</drawtype>
                                    <color>1A7C11</color>
                                    <yaxisside>0</yaxisside>
                                    <calc_fnc>2</calc_fnc>
                                    <type>0</type>
                                    <item>
                                        <host>Template OS Windows Server 2012-2016</host>
                                        <key>UtilizationReceived.[{#IFNAME}]</key>
                                    </item>
                                </graph_item>
                                <graph_item>
                                    <sortorder>1</sortorder>
                                    <drawtype>0</drawtype>
                                    <color>F63100</color>
                                    <yaxisside>0</yaxisside>
                                    <calc_fnc>2</calc_fnc>
                                    <type>0</type>
                                    <item>
                                        <host>Template OS Windows Server 2012-2016</host>
                                        <key>UtilizationSent.[{#IFNAME}]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                    </graph_prototypes>
                    <host_prototypes/>
                    <jmx_endpoint/>
                    <timeout>3s</timeout>
                    <url/>
                    <query_fields/>
                    <posts/>
                    <status_codes>200</status_codes>
                    <follow_redirects>1</follow_redirects>
                    <post_type>0</post_type>
                    <http_proxy/>
                    <headers/>
                    <retrieve_mode>0</retrieve_mode>
                    <request_method>0</request_method>
                    <allow_traps>0</allow_traps>
                    <ssl_cert_file/>
                    <ssl_key_file/>
                    <ssl_key_password/>
                    <verify_peer>0</verify_peer>
                    <verify_host>0</verify_host>
                </discovery_rule>
                <discovery_rule>
                    <name>discovery service</name>
                    <type>0</type>
                    <snmp_community/>
                    <snmp_oid/>
                    <key>service.discovery</key>
                    <delay>24h</delay>
                    <status>0</status>
                    <allowed_hosts/>
                    <snmpv3_contextname/>
                    <snmpv3_securityname/>
                    <snmpv3_securitylevel>0</snmpv3_securitylevel>
                    <snmpv3_authprotocol>0</snmpv3_authprotocol>
                    <snmpv3_authpassphrase/>
                    <snmpv3_privprotocol>0</snmpv3_privprotocol>
                    <snmpv3_privpassphrase/>
                    <params/>
                    <ipmi_sensor/>
                    <authtype>0</authtype>
                    <username/>
                    <password/>
                    <publickey/>
                    <privatekey/>
                    <port/>
                    <filter>
                        <evaltype>2</evaltype>
                        <formula/>
                        <conditions>
                            <condition>
                                <macro>{#SERVICE.NAME}</macro>
                                <value>W32Time</value>
                                <operator>8</operator>
                                <formulaid>A</formulaid>
                            </condition>
                            <condition>
                                <macro>{#SERVICE.NAME}</macro>
                                <value>MpsSvc</value>
                                <operator>8</operator>
                                <formulaid>B</formulaid>
                            </condition>
                            <condition>
                                <macro>{#SERVICE.NAME}</macro>
                                <value>Dnscache</value>
                                <operator>8</operator>
                                <formulaid>C</formulaid>
                            </condition>
                            <condition>
                                <macro>{#SERVICE.NAME}</macro>
                                <value>gpsvc</value>
                                <operator>8</operator>
                                <formulaid>D</formulaid>
                            </condition>
                            <condition>
                                <macro>{#SERVICE.NAME}</macro>
                                <value>EventLog</value>
                                <operator>8</operator>
                                <formulaid>E</formulaid>
                            </condition>
                            <condition>
                                <macro>{#SERVICE.NAME}</macro>
                                <value>Schedule</value>
                                <operator>8</operator>
                                <formulaid>F</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <lifetime>7d</lifetime>
                    <description>Обнаружение служб Windows</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>Состояние службы {#SERVICE.DISPLAYNAME}</name>
                            <type>0</type>
                            <snmp_community/>
                            <snmp_oid/>
                            <key>service.info[{#SERVICE.NAME}]</key>
                            <delay>3m</delay>
                            <history>7d</history>
                            <trends>30d</trends>
                            <status>0</status>
                            <value_type>3</value_type>
                            <allowed_hosts/>
                            <units/>
                            <snmpv3_contextname/>
                            <snmpv3_securityname/>
                            <snmpv3_securitylevel>0</snmpv3_securitylevel>
                            <snmpv3_authprotocol>0</snmpv3_authprotocol>
                            <snmpv3_authpassphrase/>
                            <snmpv3_privprotocol>0</snmpv3_privprotocol>
                            <snmpv3_privpassphrase/>
                            <params/>
                            <ipmi_sensor/>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port/>
                            <description>Описание:&#13;
{#SERVICE.DESCRIPTION}</description>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>Службы</name>
                                </application>
                            </applications>
                            <valuemap>
                                <name>Состояние службы</name>
                            </valuemap>
                            <logtimefmt/>
                            <preprocessing/>
                            <jmx_endpoint/>
                            <timeout>3s</timeout>
                            <url/>
                            <query_fields/>
                            <posts/>
                            <status_codes>200</status_codes>
                            <follow_redirects>1</follow_redirects>
                            <post_type>0</post_type>
                            <http_proxy/>
                            <headers/>
                            <retrieve_mode>0</retrieve_mode>
                            <request_method>0</request_method>
                            <output_format>0</output_format>
                            <allow_traps>0</allow_traps>
                            <ssl_cert_file/>
                            <ssl_key_file/>
                            <ssl_key_password/>
                            <verify_peer>0</verify_peer>
                            <verify_host>0</verify_host>
                            <application_prototypes/>
                            <master_item/>
                        </item_prototype>
                    </item_prototypes>
                    <trigger_prototypes>
                        <trigger_prototype>
                            <expression>{Template OS Windows Server 2012-2016:service.info[{#SERVICE.NAME}].last()}&lt;&gt;0</expression>
                            <recovery_mode>0</recovery_mode>
                            <recovery_expression/>
                            <name>Состояние службы {#SERVICE.DISPLAYNAME} = {ITEM.LASTVALUE}</name>
                            <correlation_mode>0</correlation_mode>
                            <correlation_tag/>
                            <url/>
                            <status>0</status>
                            <priority>4</priority>
                            <description>Состояние службы {#SERVICE.DISPLAYNAME} = {ITEM.LASTVALUE}&#13;
&#13;
Если отслеживать состояние службы не нужно, просто отключите триггер</description>
                            <type>0</type>
                            <manual_close>0</manual_close>
                            <dependencies/>
                            <tags>
                                <tag>
                                    <tag>Доступность</tag>
                                    <value/>
                                </tag>
                            </tags>
                        </trigger_prototype>
                    </trigger_prototypes>
                    <graph_prototypes/>
                    <host_prototypes/>
                    <jmx_endpoint/>
                    <timeout>3s</timeout>
                    <url/>
                    <query_fields/>
                    <posts/>
                    <status_codes>200</status_codes>
                    <follow_redirects>1</follow_redirects>
                    <post_type>0</post_type>
                    <http_proxy/>
                    <headers/>
                    <retrieve_mode>0</retrieve_mode>
                    <request_method>0</request_method>
                    <allow_traps>0</allow_traps>
                    <ssl_cert_file/>
                    <ssl_key_file/>
                    <ssl_key_password/>
                    <verify_peer>0</verify_peer>
                    <verify_host>0</verify_host>
                </discovery_rule>
                <discovery_rule>
                    <name>discovery local disk</name>
                    <type>0</type>
                    <snmp_community/>
                    <snmp_oid/>
                    <key>vfs.fs.discovery</key>
                    <delay>24h</delay>
                    <status>0</status>
                    <allowed_hosts/>
                    <snmpv3_contextname/>
                    <snmpv3_securityname/>
                    <snmpv3_securitylevel>0</snmpv3_securitylevel>
                    <snmpv3_authprotocol>0</snmpv3_authprotocol>
                    <snmpv3_authpassphrase/>
                    <snmpv3_privprotocol>0</snmpv3_privprotocol>
                    <snmpv3_privpassphrase/>
                    <params/>
                    <ipmi_sensor/>
                    <authtype>0</authtype>
                    <username/>
                    <password/>
                    <publickey/>
                    <privatekey/>
                    <port/>
                    <filter>
                        <evaltype>1</evaltype>
                        <formula/>
                        <conditions>
                            <condition>
                                <macro>{#FSTYPE}</macro>
                                <value>@File systems for discovery</value>
                                <operator>8</operator>
                                <formulaid>A</formulaid>
                            </condition>
                            <condition>
                                <macro>{#FSTYPE}</macro>
                                <value>^NTFS|^ReFS</value>
                                <operator>8</operator>
                                <formulaid>B</formulaid>
                            </condition>
                        </conditions>
                    </filter>
                    <lifetime>7d</lifetime>
                    <description>Обнаружение дисков</description>
                    <item_prototypes>
                        <item_prototype>
                            <name>LogicalDisk {#FSNAME} Disk Time %</name>
                            <type>0</type>
                            <snmp_community/>
                            <snmp_oid/>
                            <key>perf_counter[&quot;\236({#FSNAME})\200&quot;,300]</key>
                            <delay>5m</delay>
                            <history>7d</history>
                            <trends>90d</trends>
                            <status>0</status>
                            <value_type>0</value_type>
                            <allowed_hosts/>
                            <units/>
                            <snmpv3_contextname/>
                            <snmpv3_securityname/>
                            <snmpv3_securitylevel>0</snmpv3_securitylevel>
                            <snmpv3_authprotocol>0</snmpv3_authprotocol>
                            <snmpv3_authpassphrase/>
                            <snmpv3_privprotocol>0</snmpv3_privprotocol>
                            <snmpv3_privpassphrase/>
                            <params/>
                            <ipmi_sensor/>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port/>
                            <description>Тип файловой системы:{#FSTYPE}&#13;
Тип диска:{#FSDRIVETYPE}&#13;
&#13;
Счетчик отображает, какую часть времени диск расходует на обслуживание запросов на чтение и запись. Если его значения стабильно сохраняются на уровне вблизи отметки 100%, система работает с диском весьма интенсивно. Если же идет постоянный активный обмен данными и при этом создаются большие очереди, возможно, что дисковая подсистема не справляется с нагрузкой. В типичных условиях эксплуатации значение этого счетчика не должно превышать 50.</description>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>Диск</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                            <preprocessing/>
                            <jmx_endpoint/>
                            <timeout>3s</timeout>
                            <url/>
                            <query_fields/>
                            <posts/>
                            <status_codes>200</status_codes>
                            <follow_redirects>1</follow_redirects>
                            <post_type>0</post_type>
                            <http_proxy/>
                            <headers/>
                            <retrieve_mode>0</retrieve_mode>
                            <request_method>0</request_method>
                            <output_format>0</output_format>
                            <allow_traps>0</allow_traps>
                            <ssl_cert_file/>
                            <ssl_key_file/>
                            <ssl_key_password/>
                            <verify_peer>0</verify_peer>
                            <verify_host>0</verify_host>
                            <application_prototypes/>
                            <master_item/>
                        </item_prototype>
                        <item_prototype>
                            <name>LogicalDisk {#FSNAME} Free Space</name>
                            <type>0</type>
                            <snmp_community/>
                            <snmp_oid/>
                            <key>perf_counter[&quot;\236({#FSNAME})\408&quot;,300]</key>
                            <delay>5m</delay>
                            <history>30d</history>
                            <trends>365d</trends>
                            <status>0</status>
                            <value_type>0</value_type>
                            <allowed_hosts/>
                            <units>%</units>
                            <snmpv3_contextname/>
                            <snmpv3_securityname/>
                            <snmpv3_securitylevel>0</snmpv3_securitylevel>
                            <snmpv3_authprotocol>0</snmpv3_authprotocol>
                            <snmpv3_authpassphrase/>
                            <snmpv3_privprotocol>0</snmpv3_privprotocol>
                            <snmpv3_privpassphrase/>
                            <params/>
                            <ipmi_sensor/>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port/>
                            <description>Тип файловой системы:{#FSTYPE}&#13;
Тип диска:{#FSDRIVETYPE}</description>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>Диск</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                            <preprocessing/>
                            <jmx_endpoint/>
                            <timeout>3s</timeout>
                            <url/>
                            <query_fields/>
                            <posts/>
                            <status_codes>200</status_codes>
                            <follow_redirects>1</follow_redirects>
                            <post_type>0</post_type>
                            <http_proxy/>
                            <headers/>
                            <retrieve_mode>0</retrieve_mode>
                            <request_method>0</request_method>
                            <output_format>0</output_format>
                            <allow_traps>0</allow_traps>
                            <ssl_cert_file/>
                            <ssl_key_file/>
                            <ssl_key_password/>
                            <verify_peer>0</verify_peer>
                            <verify_host>0</verify_host>
                            <application_prototypes/>
                            <master_item/>
                        </item_prototype>
                        <item_prototype>
                            <name>LogicalDisk {#FSNAME} Avg. Disk Queue Length</name>
                            <type>0</type>
                            <snmp_community/>
                            <snmp_oid/>
                            <key>perf_counter[&quot;\236({#FSNAME})\1400&quot;,60]</key>
                            <delay>1m</delay>
                            <history>7d</history>
                            <trends>90d</trends>
                            <status>0</status>
                            <value_type>0</value_type>
                            <allowed_hosts/>
                            <units/>
                            <snmpv3_contextname/>
                            <snmpv3_securityname/>
                            <snmpv3_securitylevel>0</snmpv3_securitylevel>
                            <snmpv3_authprotocol>0</snmpv3_authprotocol>
                            <snmpv3_authpassphrase/>
                            <snmpv3_privprotocol>0</snmpv3_privprotocol>
                            <snmpv3_privpassphrase/>
                            <params/>
                            <ipmi_sensor/>
                            <authtype>0</authtype>
                            <username/>
                            <password/>
                            <publickey/>
                            <privatekey/>
                            <port/>
                            <description>Тип файловой системы:{#FSTYPE}&#13;
Тип диска:{#FSDRIVETYPE}&#13;
&#13;
Показатель этого счетчика отражает среднее число ожидающих обработки запросов к диску на ввод и вывод данных. Если он стабильно выше 2, значит, в диске образовался «затор».</description>
                            <inventory_link>0</inventory_link>
                            <applications>
                                <application>
                                    <name>Диск</name>
                                </application>
                            </applications>
                            <valuemap/>
                            <logtimefmt/>
                            <preprocessing/>
                            <jmx_endpoint/>
                            <timeout>3s</timeout>
                            <url/>
                            <query_fields/>
                            <posts/>
                            <status_codes>200</status_codes>
                            <follow_redirects>1</follow_redirects>
                            <post_type>0</post_type>
                            <http_proxy/>
                            <headers/>
                            <retrieve_mode>0</retrieve_mode>
                            <request_method>0</request_method>
                            <output_format>0</output_format>
                            <allow_traps>0</allow_traps>
                            <ssl_cert_file/>
                            <ssl_key_file/>
                            <ssl_key_password/>
                            <verify_peer>0</verify_peer>
                            <verify_host>0</verify_host>
                            <application_prototypes/>
                            <master_item/>
                        </item_prototype>
                    </item_prototypes>
                    <trigger_prototypes>
                        <trigger_prototype>
                            <expression>{Template OS Windows Server 2012-2016:perf_counter[&quot;\236({#FSNAME})\1400&quot;,60].avg(15m)}&gt;2</expression>
                            <recovery_mode>0</recovery_mode>
                            <recovery_expression/>
                            <name>LogicalDisk {#FSNAME} Avg. Disk Queue Length &gt; 2 (15 min)</name>
                            <correlation_mode>0</correlation_mode>
                            <correlation_tag/>
                            <url/>
                            <status>0</status>
                            <priority>2</priority>
                            <description>Среднее значение за 15 минут &gt; 2&#13;
&#13;
Показатель этого счетчика отражает среднее число ожидающих обработки запросов к диску на ввод и вывод данных. Если он стабильно выше 2, значит, в диске образовался «затор».</description>
                            <type>0</type>
                            <manual_close>0</manual_close>
                            <dependencies>
                                <dependency>
                                    <name>LogicalDisk {#FSNAME} Avg. Disk Queue Length &gt; 10 (3 min)</name>
                                    <expression>{Template OS Windows Server 2012-2016:perf_counter[&quot;\236({#FSNAME})\1400&quot;,60].avg(3m)}&gt;10</expression>
                                    <recovery_expression/>
                                </dependency>
                            </dependencies>
                            <tags>
                                <tag>
                                    <tag>Производительность</tag>
                                    <value/>
                                </tag>
                            </tags>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>{Template OS Windows Server 2012-2016:perf_counter[&quot;\236({#FSNAME})\1400&quot;,60].avg(3m)}&gt;10</expression>
                            <recovery_mode>0</recovery_mode>
                            <recovery_expression/>
                            <name>LogicalDisk {#FSNAME} Avg. Disk Queue Length &gt; 10 (3 min)</name>
                            <correlation_mode>0</correlation_mode>
                            <correlation_tag/>
                            <url/>
                            <status>0</status>
                            <priority>4</priority>
                            <description>Среднее значение за 3 минут &gt; 10&#13;
&#13;
Показатель этого счетчика отражает среднее число ожидающих обработки запросов к диску на ввод и вывод данных. Если он стабильно выше 10, значит, у системы серьезные проблема с производительностью диска.</description>
                            <type>0</type>
                            <manual_close>0</manual_close>
                            <dependencies/>
                            <tags>
                                <tag>
                                    <tag>Производительность</tag>
                                    <value/>
                                </tag>
                            </tags>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>{Template OS Windows Server 2012-2016:perf_counter[&quot;\236({#FSNAME})\408&quot;,300].last()}&lt;4</expression>
                            <recovery_mode>0</recovery_mode>
                            <recovery_expression/>
                            <name>LogicalDisk {#FSNAME} Free Space &lt; 4%</name>
                            <correlation_mode>0</correlation_mode>
                            <correlation_tag/>
                            <url/>
                            <status>0</status>
                            <priority>4</priority>
                            <description/>
                            <type>0</type>
                            <manual_close>0</manual_close>
                            <dependencies/>
                            <tags>
                                <tag>
                                    <tag>Доступность</tag>
                                    <value/>
                                </tag>
                            </tags>
                        </trigger_prototype>
                        <trigger_prototype>
                            <expression>{Template OS Windows Server 2012-2016:perf_counter[&quot;\236({#FSNAME})\408&quot;,300].last()}&lt;8</expression>
                            <recovery_mode>0</recovery_mode>
                            <recovery_expression/>
                            <name>LogicalDisk {#FSNAME} Free Space &lt; 8%</name>
                            <correlation_mode>0</correlation_mode>
                            <correlation_tag/>
                            <url/>
                            <status>0</status>
                            <priority>3</priority>
                            <description/>
                            <type>0</type>
                            <manual_close>0</manual_close>
                            <dependencies>
                                <dependency>
                                    <name>LogicalDisk {#FSNAME} Free Space &lt; 4%</name>
                                    <expression>{Template OS Windows Server 2012-2016:perf_counter[&quot;\236({#FSNAME})\408&quot;,300].last()}&lt;4</expression>
                                    <recovery_expression/>
                                </dependency>
                            </dependencies>
                            <tags>
                                <tag>
                                    <tag>Доступность</tag>
                                    <value/>
                                </tag>
                            </tags>
                        </trigger_prototype>
                    </trigger_prototypes>
                    <graph_prototypes/>
                    <host_prototypes/>
                    <jmx_endpoint/>
                    <timeout>3s</timeout>
                    <url/>
                    <query_fields/>
                    <posts/>
                    <status_codes>200</status_codes>
                    <follow_redirects>1</follow_redirects>
                    <post_type>0</post_type>
                    <http_proxy/>
                    <headers/>
                    <retrieve_mode>0</retrieve_mode>
                    <request_method>0</request_method>
                    <allow_traps>0</allow_traps>
                    <ssl_cert_file/>
                    <ssl_key_file/>
                    <ssl_key_password/>
                    <verify_peer>0</verify_peer>
                    <verify_host>0</verify_host>
                </discovery_rule>
            </discovery_rules>
            <httptests/>
            <macros/>
            <templates/>
            <screens/>
        </template>
    </templates>
    <triggers>
        <trigger>
            <expression>{Template OS Windows Server 2012-2016:perf_counter[&quot;\4\1406&quot;,300].last()}&gt;85</expression>
            <recovery_mode>0</recovery_mode>
            <recovery_expression/>
            <name>Committed Bytes In Use &gt; 85%</name>
            <correlation_mode>0</correlation_mode>
            <correlation_tag/>
            <url/>
            <status>0</status>
            <priority>3</priority>
            <description>Предел выделенной памяти будет расти, если общий объем выделенной памяти приблизится к 90% от предельного значения — если же значение достигнет 95%, то предел вероятно перестанет расти, и появится вероятность возникновения ошибки OutOfMemory. Как только объем выделенной памяти достигнет предела, то система больше не сможет выделять память для процессов. Большинство процессов не справится с данным поведением системы и прекратят свое выполнение. Поэтому очень важно следить за этим счетчиком.</description>
            <type>0</type>
            <manual_close>0</manual_close>
            <dependencies/>
            <tags>
                <tag>
                    <tag>Производительность</tag>
                    <value/>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <expression>{Template OS Windows Server 2012-2016:system.localtime[utc].fuzzytime(1)}=0</expression>
            <recovery_mode>0</recovery_mode>
            <recovery_expression/>
            <name>Fuzzytime &gt; 1s</name>
            <correlation_mode>0</correlation_mode>
            <correlation_tag/>
            <url/>
            <status>0</status>
            <priority>4</priority>
            <description>Разница в системном времени между хостом и сервером Zabbix больше 1 сек&#13;
&#13;
Проверьте состояние службы времени в ОС&#13;
&#13;
Полезные команды:&#13;
w32tm /resync - выполнение синхронизации времени&#13;
w32tm /resync /rediscover - Принудительная синхронизация от источника&#13;
w32tm /query /peers - Отображение текущих источников синхронизации и их статуса&#13;
w32tm /config /update - Применение внесенных в конфигурацию изменений &#13;
w32tm /monitor - Отображение состояния синхронизации контроллеров домена в домене&#13;
&#13;
net stop w32time - остановка службы&#13;
net start w32time - запуск службы</description>
            <type>0</type>
            <manual_close>0</manual_close>
            <dependencies>
                <dependency>
                    <name>Fuzzytime &gt; 5s</name>
                    <expression>{Template OS Windows Server 2012-2016:system.localtime[utc].fuzzytime(5)}=0</expression>
                    <recovery_expression/>
                </dependency>
            </dependencies>
            <tags>
                <tag>
                    <tag>Доступность</tag>
                    <value/>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <expression>{Template OS Windows Server 2012-2016:system.localtime[utc].fuzzytime(5)}=0</expression>
            <recovery_mode>0</recovery_mode>
            <recovery_expression/>
            <name>Fuzzytime &gt; 5s</name>
            <correlation_mode>0</correlation_mode>
            <correlation_tag/>
            <url/>
            <status>0</status>
            <priority>5</priority>
            <description>Разница в системном времени между хостом и сервером Zabbix больше 5 сек&#13;
&#13;
Проверьте состояние службы времени в ОС&#13;
&#13;
Полезные команды:&#13;
w32tm /resync - выполнение синхронизации времени&#13;
w32tm /resync /rediscover - Принудительная синхронизация от источника&#13;
w32tm /query /peers - Отображение текущих источников синхронизации и их статуса&#13;
w32tm /config /update - Применение внесенных в конфигурацию изменений &#13;
w32tm /monitor - Отображение состояния синхронизации контроллеров домена в домене&#13;
&#13;
net stop w32time - остановка службы&#13;
net start w32time - запуск службы</description>
            <type>0</type>
            <manual_close>0</manual_close>
            <dependencies/>
            <tags>
                <tag>
                    <tag>Доступность</tag>
                    <value/>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <expression>{Template OS Windows Server 2012-2016:MemoryAvailablePhysicalProc.avg(5m)}&lt;8</expression>
            <recovery_mode>0</recovery_mode>
            <recovery_expression/>
            <name>Memory Available (Physical) &gt; 92% (5 min)</name>
            <correlation_mode>0</correlation_mode>
            <correlation_tag/>
            <url/>
            <status>0</status>
            <priority>2</priority>
            <description>ОС использует &gt; 92% от физической памяти более 5 минут</description>
            <type>0</type>
            <manual_close>0</manual_close>
            <dependencies>
                <dependency>
                    <name>Memory Available (Physical) &gt; 96% (5 min)</name>
                    <expression>{Template OS Windows Server 2012-2016:MemoryAvailablePhysicalProc.avg(5m)}&lt;4</expression>
                    <recovery_expression/>
                </dependency>
            </dependencies>
            <tags>
                <tag>
                    <tag>Производительность</tag>
                    <value/>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <expression>{Template OS Windows Server 2012-2016:MemoryAvailablePhysicalProc.avg(5m)}&lt;4</expression>
            <recovery_mode>0</recovery_mode>
            <recovery_expression/>
            <name>Memory Available (Physical) &gt; 96% (5 min)</name>
            <correlation_mode>0</correlation_mode>
            <correlation_tag/>
            <url/>
            <status>0</status>
            <priority>4</priority>
            <description>ОС использует &gt; 96% от физической памяти более 5 минут&#13;
&#13;
Если объем доступной памяти слишком мал, есть вероятность, что система начнет использовать для активных процессов файл подкачки. Если системе не хватает физической памяти, то результатом этого могут быть значительные задержки и/или полное зависание системы</description>
            <type>0</type>
            <manual_close>0</manual_close>
            <dependencies/>
            <tags>
                <tag>
                    <tag>Производительность</tag>
                    <value/>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <expression>{Template OS Windows Server 2012-2016:perf_counter[&quot;\2\44&quot;,60].avg(5m)}&gt;4</expression>
            <recovery_mode>0</recovery_mode>
            <recovery_expression/>
            <name>Processor Queue Length &gt; 4 (5 min)</name>
            <correlation_mode>0</correlation_mode>
            <correlation_tag/>
            <url/>
            <status>0</status>
            <priority>3</priority>
            <description>Обратите внимание на Processor Queue Length &gt; 4 в течение 5 минут. &#13;
&#13;
Этот счетчик показывает, сколько запросов стоит в очереди на обработку центральным процессором. Значение этого счетчика не должно в течение продолжительного времени превышать количество процессоров в системе, умноженное на 2 (например, если на сервере 4 процессора, то это значение не должно быть больше 8);&#13;
&#13;
Получите обратную связь от пользователей приложения. Если приложение работает нормально и пользователи не испытывают проблем при работе с ПО, нужно повысить пороговое значение.&#13;
&#13;
Но стоит подключиться к более глубокому анализу производительности ЦП как слабого места, разобраться в причине или увеличить ресурсы серверу.</description>
            <type>0</type>
            <manual_close>0</manual_close>
            <dependencies>
                <dependency>
                    <name>Processor Queue Length &gt; 10 (3 min)</name>
                    <expression>{Template OS Windows Server 2012-2016:perf_counter[&quot;\2\44&quot;,60].avg(3m)}&gt;10</expression>
                    <recovery_expression/>
                </dependency>
            </dependencies>
            <tags>
                <tag>
                    <tag>Производительность</tag>
                    <value/>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <expression>{Template OS Windows Server 2012-2016:perf_counter[&quot;\2\44&quot;,60].avg(3m)}&gt;10</expression>
            <recovery_mode>0</recovery_mode>
            <recovery_expression/>
            <name>Processor Queue Length &gt; 10 (3 min)</name>
            <correlation_mode>0</correlation_mode>
            <correlation_tag/>
            <url/>
            <status>0</status>
            <priority>4</priority>
            <description>Критическое значение очереди &gt; 10 в течение 3 минут.&#13;
&#13;
Нужно разобраться в причине или увеличить ресурсы серверу.</description>
            <type>0</type>
            <manual_close>0</manual_close>
            <dependencies/>
            <tags>
                <tag>
                    <tag>Производительность</tag>
                    <value/>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <expression>{Template OS Windows Server 2012-2016:perf_counter[&quot;\238(_Total)\6&quot;,60].avg(5m)}&gt;85</expression>
            <recovery_mode>0</recovery_mode>
            <recovery_expression/>
            <name>Processor Time &gt; 85% (5 min)</name>
            <correlation_mode>0</correlation_mode>
            <correlation_tag/>
            <url/>
            <status>0</status>
            <priority>3</priority>
            <description>Нужно выяснить почему загружен процессор, если высокая загрузка связанна не с проблемами в работе приложений необходимо добавить ресурсов серверу.</description>
            <type>0</type>
            <manual_close>0</manual_close>
            <dependencies>
                <dependency>
                    <name>Processor Time &gt; 85% (15 min)</name>
                    <expression>{Template OS Windows Server 2012-2016:perf_counter[&quot;\238(_Total)\6&quot;,60].avg(15m)}&gt;85</expression>
                    <recovery_expression/>
                </dependency>
            </dependencies>
            <tags>
                <tag>
                    <tag>Производительность</tag>
                    <value/>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <expression>{Template OS Windows Server 2012-2016:perf_counter[&quot;\238(_Total)\6&quot;,60].avg(15m)}&gt;85</expression>
            <recovery_mode>0</recovery_mode>
            <recovery_expression/>
            <name>Processor Time &gt; 85% (15 min)</name>
            <correlation_mode>0</correlation_mode>
            <correlation_tag/>
            <url/>
            <status>0</status>
            <priority>4</priority>
            <description>Нужно выяснить почему загружен процессор, если высокая загрузка связанна не с проблемами в работе приложений необходимо добавить ресурсов серверу.</description>
            <type>0</type>
            <manual_close>0</manual_close>
            <dependencies/>
            <tags>
                <tag>
                    <tag>Производительность</tag>
                    <value/>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <expression>{Template OS Windows Server 2012-2016:perf_counter[&quot;\230(_Total)\186&quot;,300].last()}&gt;={Template OS Windows Server 2012-2016:perf_counter[&quot;\4\30&quot;,300].last()}</expression>
            <recovery_mode>0</recovery_mode>
            <recovery_expression/>
            <name>Process Total Private Bytes &gt; Memory Commit Limit</name>
            <correlation_mode>0</correlation_mode>
            <correlation_tag/>
            <url/>
            <status>0</status>
            <priority>4</priority>
            <description>Process\Private Bytes показывает объем выделенной памяти для процесса. Если сумма всех private bytes для всех процессов превысит предел памяти(Memory Commit Limit), это значит, что в системе образовалась нехватка памяти и приложения будут отказывать.</description>
            <type>0</type>
            <manual_close>0</manual_close>
            <dependencies/>
            <tags>
                <tag>
                    <tag>Доступность</tag>
                    <value/>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <expression>{Template OS Windows Server 2012-2016:system.run[&quot;PowerShell.exe Get-Date -Date \&quot;((get-wmiobject -class win32_quickfixengineering).installedon | sort -Descending)[0] -Uformat %s\&quot;&quot;].nodata(8h)}=1</expression>
            <recovery_mode>0</recovery_mode>
            <recovery_expression/>
            <name>Zabbix не смог получить данных о обновления в системе</name>
            <correlation_mode>0</correlation_mode>
            <correlation_tag/>
            <url/>
            <status>0</status>
            <priority>1</priority>
            <description>Проверите работу zabbix agenta</description>
            <type>0</type>
            <manual_close>1</manual_close>
            <dependencies/>
            <tags>
                <tag>
                    <tag>Безопасность</tag>
                    <value/>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <expression>{Template OS Windows Server 2012-2016:system.run[Powershell.exe &quot;&amp; {(Get-ChildItem -Path cert: -Recurse -ExpiringInDays 45 | where {$_.PSPath -notmatch 'Remote Desktop' -and $_.PSPath -notmatch 'Operations Manager'}).subject}&quot;].nodata(8h)}=1</expression>
            <recovery_mode>0</recovery_mode>
            <recovery_expression/>
            <name>Zabbix не смог получить данных о сертификатах</name>
            <correlation_mode>0</correlation_mode>
            <correlation_tag/>
            <url/>
            <status>1</status>
            <priority>1</priority>
            <description>Проверите работу элемента данных.</description>
            <type>0</type>
            <manual_close>0</manual_close>
            <dependencies/>
            <tags>
                <tag>
                    <tag>Безопасность</tag>
                    <value/>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <expression>{Template OS Windows Server 2012-2016:icmpping.last()}=0</expression>
            <recovery_mode>0</recovery_mode>
            <recovery_expression/>
            <name>Интерфейс узла сети не доступен (no ping)</name>
            <correlation_mode>0</correlation_mode>
            <correlation_tag/>
            <url/>
            <status>0</status>
            <priority>4</priority>
            <description>{HOST.IP}</description>
            <type>0</type>
            <manual_close>0</manual_close>
            <dependencies/>
            <tags>
                <tag>
                    <tag>Доступность</tag>
                    <value/>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <expression>({Template OS Windows Server 2012-2016:system.localtime[utc].now()}-{Template OS Windows Server 2012-2016:system.run[&quot;PowerShell.exe Get-Date -Date \&quot;((get-wmiobject -class win32_quickfixengineering).installedon | sort -Descending)[0] -Uformat %s\&quot;&quot;].last()})&gt;7889229</expression>
            <recovery_mode>0</recovery_mode>
            <recovery_expression/>
            <name>Обновления Windows не устанавливались &gt; 3м</name>
            <correlation_mode>0</correlation_mode>
            <correlation_tag/>
            <url/>
            <status>0</status>
            <priority>1</priority>
            <description>Нужно согласовать установку обновлений на сервере. И провести установку обновлений.&#13;
&#13;
Обновления Windows не устанавливались более 3 месяцев</description>
            <type>0</type>
            <manual_close>0</manual_close>
            <dependencies/>
            <tags>
                <tag>
                    <tag>Безопасность</tag>
                    <value/>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <expression>{Template OS Windows Server 2012-2016:CheckFirewall.str(False)}=1</expression>
            <recovery_mode>0</recovery_mode>
            <recovery_expression/>
            <name>Отключен firewall Windows</name>
            <correlation_mode>0</correlation_mode>
            <correlation_tag/>
            <url/>
            <status>0</status>
            <priority>2</priority>
            <description>{ITEM.LASTVALUE}</description>
            <type>0</type>
            <manual_close>1</manual_close>
            <dependencies/>
            <tags>
                <tag>
                    <tag>Безопасность</tag>
                    <value/>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <expression>{Template OS Windows Server 2012-2016:system.run[Powershell.exe &quot;&amp; {(Get-ChildItem -Path cert: -Recurse -ExpiringInDays 45 | where {$_.PSPath -notmatch 'Remote Desktop' -and $_.PSPath -notmatch 'Operations Manager'}).subject}&quot;].strlen()}&gt;1</expression>
            <recovery_mode>0</recovery_mode>
            <recovery_expression/>
            <name>Проблема с сертификатом</name>
            <correlation_mode>0</correlation_mode>
            <correlation_tag/>
            <url/>
            <status>1</status>
            <priority>2</priority>
            <description>В системе есть сертификат срок действия которого истекает через 45 дней&#13;
&#13;
{ITEM.LASTVALUE}&#13;
&#13;
Проверьте сертификаты в системе. Имя сертификата можно узнать в меню Мониторинг &gt; Последние данные.</description>
            <type>0</type>
            <manual_close>1</manual_close>
            <dependencies/>
            <tags>
                <tag>
                    <tag>Безопасность</tag>
                    <value/>
                </tag>
            </tags>
        </trigger>
    </triggers>
    <value_maps>
        <value_map>
            <name>Состояние службы</name>
            <mappings>
                <mapping>
                    <value>0</value>
                    <newvalue>запущена</newvalue>
                </mapping>
                <mapping>
                    <value>1</value>
                    <newvalue>пауза</newvalue>
                </mapping>
                <mapping>
                    <value>2</value>
                    <newvalue>ожидание старта</newvalue>
                </mapping>
                <mapping>
                    <value>3</value>
                    <newvalue>ожидание паузы</newvalue>
                </mapping>
                <mapping>
                    <value>4</value>
                    <newvalue>ожидание продолжения</newvalue>
                </mapping>
                <mapping>
                    <value>5</value>
                    <newvalue>ожидание остановки</newvalue>
                </mapping>
                <mapping>
                    <value>6</value>
                    <newvalue>остановлена</newvalue>
                </mapping>
                <mapping>
                    <value>7</value>
                    <newvalue>неизвестно</newvalue>
                </mapping>
                <mapping>
                    <value>255</value>
                    <newvalue>такой службы не существует</newvalue>
                </mapping>
            </mappings>
        </value_map>
    </value_maps>
</zabbix_export>
