<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>5.4</version>
    <date>2021-08-04T09:49:48Z</date>
    <groups>
        <group>
            <uuid>f609ef9a7ec748ae8ceb88ad929b7613</uuid>
            <name>Shelly</name>
        </group>
        <group>
            <uuid>36bff6c29af64692839d077febfc7079</uuid>
            <name>Templates/Network devices</name>
        </group>
    </groups>
    <templates>
        <template>
            <uuid>d51f33db1b344222937b67babcb6e413</uuid>
            <template>Template Shelly 3EM</template>
            <name>Template Shelly 3EM</name>
            <templates>
                <template>
                    <name>Template Module ICMP Ping</name>
                </template>
            </templates>
            <groups>
                <group>
                    <name>Shelly</name>
                </group>
                <group>
                    <name>Templates/Network devices</name>
                </group>
            </groups>
            <items>
                <item>
                    <uuid>de03f0507a144c6da565a56786ab4d6a</uuid>
                    <name>Skipped actions</name>
                    <type>DEPENDENT</type>
                    <key>actions_stats.skipped</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.actions_stats.skipped</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>68f14def577c497bb3bdbb71fb695c38</uuid>
                            <expression>change(/Template Shelly 3EM/actions_stats.skipped)&gt;0</expression>
                            <name>At least one action has been skipped</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>a21f6ddc42904976924d71cdb015cd1a</uuid>
                    <name>System configuration changes</name>
                    <type>DEPENDENT</type>
                    <key>cfg_changed_cnt</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.cfg_changed_cnt</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>27a323790e134f329e739c4e0ba643fe</uuid>
                            <expression>change(/Template Shelly 3EM/cfg_changed_cnt)&gt;0</expression>
                            <name>System configuration has been changed</name>
                            <priority>INFO</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>546908a545d740e1b61f7c55eb48c35d</uuid>
                    <name>Cloud connected</name>
                    <type>DEPENDENT</type>
                    <key>cloud.connected</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.cloud.connected</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Cloud</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>8eeeaf26835f4a45b5cec41272f3b7f7</uuid>
                            <expression>change(/Template Shelly 3EM/cloud.connected)&lt;&gt;0</expression>
                            <name>Cloud connection state has changed</name>
                            <priority>AVERAGE</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Cloud</value>
                                </tag>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>067400d321f642faae01689eb526b492</uuid>
                    <name>Cloud enabled</name>
                    <type>DEPENDENT</type>
                    <key>cloud.enabled</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.cloud.enabled</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Cloud</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>0a9e33bf4a9e44d3adc52dcb93c0520f</uuid>
                            <expression>change(/Template Shelly 3EM/cloud.enabled)&lt;&gt;0</expression>
                            <name>Cloud configuration has changed</name>
                            <priority>INFO</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Cloud</value>
                                </tag>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>f31be186fee947e2a83309d5c41ecc7d</uuid>
                    <name>Electric company electrometer estimate</name>
                    <type>DEPENDENT</type>
                    <key>ec_em_estimate</key>
                    <delay>0</delay>
                    <history>1825d</history>
                    <status>DISABLED</status>
                    <value_type>FLOAT</value_type>
                    <units>Wh</units>
                    <description>Estimated value of electric company electrometer. This value may differ from real value due to device restarts or incorrect measurements. This estimate is only useful when your Shelly 3EM is measuring power consumption on the main breaker.

For this value to show correct estimate, you have to take a note of how many Wh were on electric company electrometer when you reset Shelly 3EM data and put this value into macro {$EC_EM_CONSUMPTION}.</description>
                    <preprocessing>
                        <step>
                            <type>JAVASCRIPT</type>
                            <parameters>
                                <parameter>var json_data = JSON.parse(value);

var ec_emeter_offset  = 0;

var emeter_a_consumed = 0;
var emeter_b_consumed = 0;
var emeter_c_consumed = 0;
var emeter_n_consumed = 0;

var emeter_a_returned = 0;
var emeter_b_returned = 0;
var emeter_c_returned = 0;
var emeter_n_returned = 0;

var ec_em_consumed= '{$EC_EM_CONSUMPTION}';

if (ec_em_consumed == '' || ec_em_consumed == null || ec_em_consumed === undefined) {
  ec_em_consumed = 0;
} else {
  try {
    ec_em_consumed = parseInt(ec_em_consumed);
  } catch (e) {
    ec_em_consumed = 0;
  }
}

ec_emeter_offset = ec_em_consumed;

if (json_data.emeters[0]) {
  emeter_a_consumed = json_data.emeters[0].total;
}
if (json_data.emeters[1]) {
  emeter_b_consumed = json_data.emeters[1].total;
}
if (json_data.emeters[2]) {
  emeter_c_consumed = json_data.emeters[2].total;
}
if (json_data.emeters[3]) {
  emeter_n_consumed = json_data.emeters[3].total;
}

if (json_data.emeters[0]) {
  emeter_a_returned = json_data.emeters[0].total_returned;
}
if (json_data.emeters[1]) {
  emeter_b_returned = json_data.emeters[1].total_returned;
}
if (json_data.emeters[2]) {
  emeter_c_returned = json_data.emeters[2].total_returned;
}
if (json_data.emeters[3]) {
  emeter_n_returned = json_data.emeters[3].total_returned;
}

return ec_emeter_offset + ((emeter_a_consumed + emeter_b_consumed + emeter_c_consumed + emeter_n_consumed) - (emeter_a_returned + emeter_b_returned + emeter_c_returned + emeter_n_returned));</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer summary</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>93aeda6f098b4641b570ff9bb6d5d208</uuid>
                    <name>Electrometer A current</name>
                    <type>DEPENDENT</type>
                    <key>emeters-0.current</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>A</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[0].current</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer A</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>2f63a07439bd43aa8a3ba601247aa393</uuid>
                    <name>Electrometer A self-check</name>
                    <type>DEPENDENT</type>
                    <key>emeters-0.is_valid</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <valuemap>
                        <name>Self-check</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[0].is_valid</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>BOOL_TO_DECIMAL</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer A</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Self-check</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>338f4f9f3bf34906a501958ad4638719</uuid>
                    <name>Electrometer A power factor</name>
                    <type>DEPENDENT</type>
                    <key>emeters-0.pf</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[0].pf</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer A</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>930f124b03eb402da67471eab0b903a0</uuid>
                    <name>Electrometer A power</name>
                    <type>DEPENDENT</type>
                    <key>emeters-0.power</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>W</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[0].power</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer A</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>4da9e08cdaa446e7871d710c99f0587a</uuid>
                    <name>Electrometer A total consumed</name>
                    <type>DEPENDENT</type>
                    <key>emeters-0.total</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>Wh</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[0].total</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer A</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>0ca029344f99473dbec61b4775427098</uuid>
                    <name>Electrometer A total returned</name>
                    <type>DEPENDENT</type>
                    <key>emeters-0.total_returned</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>Wh</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[0].total_returned</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer A</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>e45f922cf4314a26bcead1dbf0aec6be</uuid>
                    <name>Electrometer A voltage</name>
                    <type>DEPENDENT</type>
                    <key>emeters-0.voltage</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>V</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[0].voltage</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer A</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>f8886e4ca43f45e5b9d724fcde6be0b0</uuid>
                    <name>Electrometer B current</name>
                    <type>DEPENDENT</type>
                    <key>emeters-1.current</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>A</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[1].current</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer B</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>5fcee5d8db084acc90d668c4182dc5a7</uuid>
                    <name>Electrometer B self-check</name>
                    <type>DEPENDENT</type>
                    <key>emeters-1.is_valid</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[1].is_valid</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>BOOL_TO_DECIMAL</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer B</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Self-check</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>95771bc1b4c046c7b1b8ac5124b95831</uuid>
                    <name>Electrometer B power factor</name>
                    <type>DEPENDENT</type>
                    <key>emeters-1.pf</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[1].pf</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer B</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>ff08c1312f8246ae91944f09660651ed</uuid>
                    <name>Electrometer B power</name>
                    <type>DEPENDENT</type>
                    <key>emeters-1.power</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>W</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[1].power</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer B</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>3781242b1f194fa087bc68bb5da65216</uuid>
                    <name>Electrometer B total consumed</name>
                    <type>DEPENDENT</type>
                    <key>emeters-1.total</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>Wh</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[1].total</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer B</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>a3818f93484d491095218e9258acdc0b</uuid>
                    <name>Electrometer B total returned</name>
                    <type>DEPENDENT</type>
                    <key>emeters-1.total_returned</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>Wh</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[1].total_returned</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer B</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>731fe4075bfd4a84bc73a4976a4fbaf8</uuid>
                    <name>Electrometer B voltage</name>
                    <type>DEPENDENT</type>
                    <key>emeters-1.voltage</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>V</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[1].voltage</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer B</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>792044981174459dbf4dbb379da75116</uuid>
                    <name>Electrometer C current</name>
                    <type>DEPENDENT</type>
                    <key>emeters-2.current</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>A</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[2].current</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer C</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>3f96377570304784bb87826838c0a930</uuid>
                    <name>Electrometer C self-check</name>
                    <type>DEPENDENT</type>
                    <key>emeters-2.is_valid</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[2].is_valid</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>BOOL_TO_DECIMAL</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer C</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Self-check</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>0d5edf970edc424baf495409356feb10</uuid>
                    <name>Electrometer C power factor</name>
                    <type>DEPENDENT</type>
                    <key>emeters-2.pf</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[2].pf</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer C</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>c6d4a2a3ea1542bb94c51f3872733de4</uuid>
                    <name>Electrometer C power</name>
                    <type>DEPENDENT</type>
                    <key>emeters-2.power</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>W</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[2].power</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer C</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>3e0d929ef58148b9a4007f2440553c98</uuid>
                    <name>Electrometer C total consumed</name>
                    <type>DEPENDENT</type>
                    <key>emeters-2.total</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>Wh</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[2].total</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer C</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>c3b5763ba8994105a514b04097cc0baa</uuid>
                    <name>Electrometer C total returned</name>
                    <type>DEPENDENT</type>
                    <key>emeters-2.total_returned</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>Wh</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[2].total_returned</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer C</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>419c8d58349d487b9da670945c608944</uuid>
                    <name>Electrometer C voltage</name>
                    <type>DEPENDENT</type>
                    <key>emeters-2.voltage</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>V</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[2].voltage</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer C</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>84c0ab76969a4465966f77648615d560</uuid>
                    <name>Electrometer N current</name>
                    <type>DEPENDENT</type>
                    <key>emeters-3.current</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <status>DISABLED</status>
                    <value_type>FLOAT</value_type>
                    <units>A</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[3].current</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer N</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>cdeeb06649064afa8238af003acff3da</uuid>
                    <name>Electrometer N self-check</name>
                    <type>DEPENDENT</type>
                    <key>emeters-3.is_valid</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <status>DISABLED</status>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[3].is_valid</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>BOOL_TO_DECIMAL</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer N</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Self-check</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>2eb2c8442c1b4c8f812edc0a8e509298</uuid>
                    <name>Electrometer N power factor</name>
                    <type>DEPENDENT</type>
                    <key>emeters-3.pf</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <status>DISABLED</status>
                    <value_type>FLOAT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[3].pf</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer N</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>7f408becd77e4b6f817a4f93546aa583</uuid>
                    <name>Electrometer N power</name>
                    <type>DEPENDENT</type>
                    <key>emeters-3.power</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <status>DISABLED</status>
                    <value_type>FLOAT</value_type>
                    <units>W</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[3].power</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer N</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>788ba14c094b4b0bb3d281a68d501aee</uuid>
                    <name>Electrometer N total consumed</name>
                    <type>DEPENDENT</type>
                    <key>emeters-3.total</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <status>DISABLED</status>
                    <value_type>FLOAT</value_type>
                    <units>Wh</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[3].total</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer N</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>00a81e0ebf7d420fb6b385018d0fa1c2</uuid>
                    <name>Electrometer N total returned</name>
                    <type>DEPENDENT</type>
                    <key>emeters-3.total_returned</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <status>DISABLED</status>
                    <value_type>FLOAT</value_type>
                    <units>Wh</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[3].total_returned</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer N</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>8ef3032f89c441cfacdf07ba817447bb</uuid>
                    <name>Electrometer N voltage</name>
                    <type>DEPENDENT</type>
                    <key>emeters-3.voltage</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <status>DISABLED</status>
                    <value_type>FLOAT</value_type>
                    <units>V</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[3].voltage</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer N</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>4404c3bc5eff49189654f19c11ca72b5</uuid>
                    <name>File system free size</name>
                    <type>DEPENDENT</type>
                    <key>fs_free</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.fs_free</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>7562c85165484dbbbcf5e6edbbf8c88f</uuid>
                    <name>Sysflash is mounted</name>
                    <type>DEPENDENT</type>
                    <key>fs_mounted</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.fs_mounted</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>5288f28eedd449abbc569756d4ce28e6</uuid>
                    <name>File system total size</name>
                    <type>DEPENDENT</type>
                    <key>fs_size</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.fs_size</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>d521187129a5411f8e9bc02f13f84c38</uuid>
                    <name>MQTT connected</name>
                    <type>DEPENDENT</type>
                    <key>mqtt.connected</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.mqtt.connected</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>MQTT</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>685912c5b9a54f75b633d5420869332c</uuid>
                            <expression>change(/Template Shelly 3EM/mqtt.connected)&lt;&gt;0</expression>
                            <name>MQTT connection state has changed</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>30cf2ff764614e4e9601ad71b6253f35</uuid>
                    <name>RAM free</name>
                    <type>DEPENDENT</type>
                    <key>ram_free</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.ram_free</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>fe47ce26f64447faaf33fb3ebb08de25</uuid>
                    <name>RAM total</name>
                    <type>DEPENDENT</type>
                    <key>ram_total</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.ram_total</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>ce873be92ef841a0addf0afc2247ecaf</uuid>
                    <name>Relay has timer</name>
                    <type>DEPENDENT</type>
                    <key>relays-0.has_timer</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.relays[0].has_timer</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Relay</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>4c095f7d9a744099bb651a256ecdeb23</uuid>
                    <name>Relay turned on</name>
                    <type>DEPENDENT</type>
                    <key>relays-0.ison</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.relays[0].ison</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Relay</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>d082a453be7f460e84a94345246fb092</uuid>
                            <expression>change(/Template Shelly 3EM/relays-0.ison)&lt;&gt;0</expression>
                            <name>Relay state has changed</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Relay</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>20d8327462524510809a6499c92220f1</uuid>
                    <name>Relay sensor self-check</name>
                    <type>DEPENDENT</type>
                    <key>relays-0.is_valid</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <valuemap>
                        <name>Self-check</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.relays[0].is_valid</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>BOOL_TO_DECIMAL</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Relay</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Sefl-check</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>06ea44d476f84a57af7ef4085643fb4d</uuid>
                    <name>Relay overpower occurred</name>
                    <type>DEPENDENT</type>
                    <key>relays-0.overpower</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.relays[0].overpower</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Relay</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>88c69464d8674e43a4bc999cc28ae637</uuid>
                            <expression>last(/Template Shelly 3EM/relays-0.overpower)=&quot;true&quot;</expression>
                            <name>Overpower event has been detected</name>
                            <priority>DISASTER</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Relay</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>24f315d570834754bf45d7efb4cae709</uuid>
                    <name>Relays last command source</name>
                    <type>DEPENDENT</type>
                    <key>relays-0.source</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.relays[0].source</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Relay</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>c9af4f1c9de140628fb643a0df32952a</uuid>
                    <name>Relay timer duration</name>
                    <type>DEPENDENT</type>
                    <key>relays-0.timer_duration</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <units>s</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.relays[0].timer_duration</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Relay</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>b5dce777b94a4455a0e8af1bb22eb046</uuid>
                    <name>Relay timer remaining</name>
                    <type>DEPENDENT</type>
                    <key>relays-0.timer_remaining</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <units>s</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.relays[0].timer_remaining</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Relay</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>2ec1759dc1514bb2bd717f7aec6a9eb8</uuid>
                    <name>Relay timer started</name>
                    <type>DEPENDENT</type>
                    <key>relays-0.timer_started</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <units>unixtime</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.relays[0].timer_started</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Relay</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>8c75d74cad834425a8da022e8d4b3557</uuid>
                    <name>Status data</name>
                    <type>HTTP_AGENT</type>
                    <key>status</key>
                    <delay>30</delay>
                    <history>1h</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <authtype>BASIC</authtype>
                    <username>{$SHELLY_USER}</username>
                    <password>{$SHELLY_PASS}</password>
                    <description>Collect data from Shelly device status API.</description>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.body</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <url>http://{HOST.IP}/status</url>
                    <follow_redirects>NO</follow_redirects>
                    <output_format>JSON</output_format>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Data collection</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>4d77de91491f41ddbc33c38009f874cb</uuid>
                            <expression>nodata(/Template Shelly 3EM/status,120s)=1</expression>
                            <name>No data received</name>
                            <priority>HIGH</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Data collection</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>2ddd6bb4d43f4f8da1ae786c051e1324</uuid>
                    <name>Total consumption from last reset</name>
                    <type>DEPENDENT</type>
                    <key>total_consuption</key>
                    <delay>0</delay>
                    <history>1825d</history>
                    <value_type>FLOAT</value_type>
                    <units>Wh</units>
                    <preprocessing>
                        <step>
                            <type>JAVASCRIPT</type>
                            <parameters>
                                <parameter>var json_data = JSON.parse(value);

var emeter_a = 0;
var emeter_b = 0;
var emeter_c = 0;
var emeter_n = 0;

if (json_data.emeters[0]) {
  emeter_a = json_data.emeters[0].total;
}
if (json_data.emeters[1]) {
  emeter_b = json_data.emeters[1].total;
}
if (json_data.emeters[2]) {
  emeter_c = json_data.emeters[2].total;
}
if (json_data.emeters[3]) {
  emeter_n = json_data.emeters[3].total;
}

return (emeter_a + emeter_b + emeter_c + emeter_n);</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer summary</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>59326fc54a664511bb2a9fa8bf66f277</uuid>
                    <name>Total power consumption</name>
                    <type>DEPENDENT</type>
                    <key>total_power</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>W</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.total_power</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer summary</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>ca8c3df5619a45d6b39d9ec6dd54572b</uuid>
                    <name>Total return from last reset</name>
                    <type>DEPENDENT</type>
                    <key>total_returned</key>
                    <delay>0</delay>
                    <history>1825d</history>
                    <value_type>FLOAT</value_type>
                    <units>Wh</units>
                    <preprocessing>
                        <step>
                            <type>JAVASCRIPT</type>
                            <parameters>
                                <parameter>var json_data = JSON.parse(value);

var emeter_a = 0;
var emeter_b = 0;
var emeter_c = 0;
var emeter_n = 0;

if (json_data.emeters[0]) {
  emeter_a = json_data.emeters[0].total_returned;
}
if (json_data.emeters[1]) {
  emeter_b = json_data.emeters[1].total_returned;
}
if (json_data.emeters[2]) {
  emeter_c = json_data.emeters[2].total_returned;
}
if (json_data.emeters[3]) {
  emeter_n = json_data.emeters[3].total_returned;
}

return (emeter_a + emeter_b + emeter_c + emeter_n);</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer summary</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>3d2c95d37a31473dabad2f5c032e9646</uuid>
                    <name>Device time</name>
                    <type>DEPENDENT</type>
                    <key>unixtime</key>
                    <delay>0</delay>
                    <units>unixtime</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.unixtime</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>1e044004af7641d1b0667e6673a7a254</uuid>
                            <expression>fuzzytime(/Template Shelly 3EM/unixtime,60s)=0</expression>
                            <name>Time is out of sync</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>9acda239f1674008a4b8e1893c16d272</uuid>
                    <name>Update available</name>
                    <type>DEPENDENT</type>
                    <key>update.has_update</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.update.has_update</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>e93b9500a8264661bb2310ff79cbf549</uuid>
                            <expression>last(/Template Shelly 3EM/update.has_update)=&quot;true&quot;</expression>
                            <name>Update available</name>
                            <priority>INFO</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>3d26a038683146e9b231972baa8db695</uuid>
                    <name>Firmware new version</name>
                    <type>DEPENDENT</type>
                    <key>update.new_version</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.update.new_version</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>9ac45f72d12e4d24975d88adb762654e</uuid>
                    <name>Firmware old version</name>
                    <type>DEPENDENT</type>
                    <key>update.old_version</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.update.old_version</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>06d0ca8b4d114a14bb5ee89a08746684</uuid>
                            <expression>change(/Template Shelly 3EM/update.old_version)&lt;&gt;0</expression>
                            <name>Version has changed</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>2ef19e5b21c8478a9c1ea4f4ce4ff251</uuid>
                    <name>Uptime</name>
                    <type>DEPENDENT</type>
                    <key>uptime</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <units>uptime</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.uptime</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>edabab5ffff1468eb059e1eb115a047b</uuid>
                            <expression>change(/Template Shelly 3EM/uptime)&lt;0</expression>
                            <name>Device has been restarted</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>32436f883f22495ebd0e4ed4d6f1109d</uuid>
                    <name>WiFi connected</name>
                    <type>DEPENDENT</type>
                    <key>wifi_sta.connected</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.wifi_sta.connected</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>WiFi</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>34be1fb7cb374e2f88710ced1f39f6e9</uuid>
                    <name>WiFi IP</name>
                    <type>DEPENDENT</type>
                    <key>wifi_sta.ip</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.wifi_sta.ip</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>WiFi</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>b5f34de0544e476c95773265b16ea494</uuid>
                    <name>WiFi RSSI</name>
                    <type>DEPENDENT</type>
                    <key>wifi_sta.rssi</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <value_type>FLOAT</value_type>
                    <units>dBm</units>
                    <valuemap>
                        <name>Received Signal Strength Indicator</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.wifi_sta.rssi</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>WiFi</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>5d55d8ae37a84e1c939d798d0f43c543</uuid>
                    <name>WiFi SSID</name>
                    <type>DEPENDENT</type>
                    <key>wifi_sta.ssid</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.wifi_sta.ssid</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>WiFi</value>
                        </tag>
                    </tags>
                </item>
            </items>
            <macros>
                <macro>
                    <macro>{$EC_EM_CONSUMPTION}</macro>
                    <value>0</value>
                    <description>Total value on your electric company electrometer in Wh at the moment you reset Shelly 3EM data.</description>
                </macro>
                <macro>
                    <macro>{$SHELLY_PASS}</macro>
                    <type>SECRET_TEXT</type>
                    <description>Device password, if configured</description>
                </macro>
                <macro>
                    <macro>{$SHELLY_USER}</macro>
                    <value>admin</value>
                    <description>Device user, if configured</description>
                </macro>
            </macros>
            <valuemaps>
                <valuemap>
                    <uuid>3744628ae85645edbfe818519ce35827</uuid>
                    <name>Received Signal Strength Indicator</name>
                    <mappings>
                        <mapping>
                            <type>GREATER_OR_EQUAL</type>
                            <value>-30</value>
                            <newvalue>Amazing</newvalue>
                        </mapping>
                        <mapping>
                            <type>GREATER_OR_EQUAL</type>
                            <value>-67</value>
                            <newvalue>Very Good</newvalue>
                        </mapping>
                        <mapping>
                            <type>GREATER_OR_EQUAL</type>
                            <value>-70</value>
                            <newvalue>Good</newvalue>
                        </mapping>
                        <mapping>
                            <type>GREATER_OR_EQUAL</type>
                            <value>-80</value>
                            <newvalue>Not Good</newvalue>
                        </mapping>
                        <mapping>
                            <type>LESS_OR_EQUAL</type>
                            <value>-81</value>
                            <newvalue>Unusable</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
                <valuemap>
                    <uuid>ffffe09da8bf44efae7cc9a7fecadfd9</uuid>
                    <name>Self-check</name>
                    <mappings>
                        <mapping>
                            <value>1</value>
                            <newvalue>Working</newvalue>
                        </mapping>
                        <mapping>
                            <value>0</value>
                            <newvalue>Not working</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
            </valuemaps>
        </template>
        <template>
            <uuid>d9d1a00713ca44e383634ba852e8bb12</uuid>
            <template>Template Shelly 3EM - MQTT</template>
            <name>Template Shelly 3EM - MQTT</name>
            <groups>
                <group>
                    <name>Shelly</name>
                </group>
                <group>
                    <name>Templates/Network devices</name>
                </group>
            </groups>
            <items>
                <item>
                    <uuid>c712d922fec749f9a19e19fc6353851c</uuid>
                    <name>Skipped actions</name>
                    <type>DEPENDENT</type>
                    <key>actions_stats.skipped</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.actions_stats.skipped</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>c12233fc35c64a18bb523103652626c7</uuid>
                            <expression>change(/Template Shelly 3EM - MQTT/actions_stats.skipped)&gt;0</expression>
                            <name>At least one action has been skipped</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>4e53ae5fd4c14132aa186713cb3eac1a</uuid>
                    <name>System configuration changes</name>
                    <type>DEPENDENT</type>
                    <key>cfg_changed_cnt</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.cfg_changed_cnt</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>dd3b8e51d5094e569d916d787cd01924</uuid>
                            <expression>change(/Template Shelly 3EM - MQTT/cfg_changed_cnt)&gt;0</expression>
                            <name>System configuration has been changed</name>
                            <priority>INFO</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>fa011634183840a5a82050ae36fe071f</uuid>
                    <name>Cloud connected</name>
                    <type>DEPENDENT</type>
                    <key>cloud.connected</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.cloud.connected</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Cloud</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>2aa23bc6bc234fdb949247677c0bab96</uuid>
                            <expression>change(/Template Shelly 3EM - MQTT/cloud.connected)&lt;&gt;0</expression>
                            <name>Cloud connection state has changed</name>
                            <priority>AVERAGE</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Cloud</value>
                                </tag>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>817610344daa494e8348a502b3b7c9e8</uuid>
                    <name>Cloud enabled</name>
                    <type>DEPENDENT</type>
                    <key>cloud.enabled</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.cloud.enabled</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Cloud</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>004bb4b18a104b2283a9ffe1373c749b</uuid>
                            <expression>change(/Template Shelly 3EM - MQTT/cloud.enabled)&lt;&gt;0</expression>
                            <name>Cloud configuration has changed</name>
                            <priority>INFO</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Cloud</value>
                                </tag>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>8ee4492271f7496696ba3b2b6cfaed05</uuid>
                    <name>Electric company electrometer estimate</name>
                    <type>DEPENDENT</type>
                    <key>ec_em_estimate</key>
                    <delay>0</delay>
                    <history>1825d</history>
                    <status>DISABLED</status>
                    <value_type>FLOAT</value_type>
                    <units>Wh</units>
                    <description>Estimated value of electric company electrometer. This value may differ from real value due to device restarts or incorrect measurements. This estimate is only useful when your Shelly 3EM is measuring power consumption on the main breaker.

For this value to show correct estimate, you have to take a note of how many Wh were on electric company electrometer when you reset Shelly 3EM data and put this value into macro {$EC_EM_CONSUMPTION}.</description>
                    <preprocessing>
                        <step>
                            <type>JAVASCRIPT</type>
                            <parameters>
                                <parameter>var json_data = JSON.parse(value);

var ec_emeter_offset  = 0;

var emeter_a_consumed = 0;
var emeter_b_consumed = 0;
var emeter_c_consumed = 0;
var emeter_n_consumed = 0;

var emeter_a_returned = 0;
var emeter_b_returned = 0;
var emeter_c_returned = 0;
var emeter_n_returned = 0;

var ec_em_consumed= '{$EC_EM_CONSUMPTION}';

if (ec_em_consumed == '' || ec_em_consumed == null || ec_em_consumed === undefined) {
  ec_em_consumed = 0;
} else {
  try {
    ec_em_consumed = parseInt(ec_em_consumed);
  } catch (e) {
    ec_em_consumed = 0;
  }
}

ec_emeter_offset = ec_em_consumed;

if (json_data.emeters[0]) {
  emeter_a_consumed = json_data.emeters[0].total;
}
if (json_data.emeters[1]) {
  emeter_b_consumed = json_data.emeters[1].total;
}
if (json_data.emeters[2]) {
  emeter_c_consumed = json_data.emeters[2].total;
}
if (json_data.emeters[3]) {
  emeter_n_consumed = json_data.emeters[3].total;
}

if (json_data.emeters[0]) {
  emeter_a_returned = json_data.emeters[0].total_returned;
}
if (json_data.emeters[1]) {
  emeter_b_returned = json_data.emeters[1].total_returned;
}
if (json_data.emeters[2]) {
  emeter_c_returned = json_data.emeters[2].total_returned;
}
if (json_data.emeters[3]) {
  emeter_n_returned = json_data.emeters[3].total_returned;
}

return ec_emeter_offset + ((emeter_a_consumed + emeter_b_consumed + emeter_c_consumed + emeter_n_consumed) - (emeter_a_returned + emeter_b_returned + emeter_c_returned + emeter_n_returned));</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer summary</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>b3d5337b8013479481132651c01cba02</uuid>
                    <name>Electrometer A current</name>
                    <type>DEPENDENT</type>
                    <key>emeters-0.current</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>A</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[0].current</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer A</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>b0d421be1e6c457ba5bb4056939aed4b</uuid>
                    <name>Electrometer A self-check</name>
                    <type>DEPENDENT</type>
                    <key>emeters-0.is_valid</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <valuemap>
                        <name>Self-check</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[0].is_valid</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>BOOL_TO_DECIMAL</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer A</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Self-check</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>53e0bcee831849168cde673a8f85c142</uuid>
                    <name>Electrometer A power factor</name>
                    <type>DEPENDENT</type>
                    <key>emeters-0.pf</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[0].pf</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer A</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>e9af68c5ffc74098b1ebb49b2eaf1745</uuid>
                    <name>Electrometer A power</name>
                    <type>DEPENDENT</type>
                    <key>emeters-0.power</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>W</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[0].power</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer A</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>b28d35a52948419bbd83ed0fe27d232e</uuid>
                    <name>Electrometer A total consumed</name>
                    <type>DEPENDENT</type>
                    <key>emeters-0.total</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>Wh</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[0].total</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer A</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>8db7e24e57084e829d965a584a1ef8b2</uuid>
                    <name>Electrometer A total returned</name>
                    <type>DEPENDENT</type>
                    <key>emeters-0.total_returned</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>Wh</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[0].total_returned</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer A</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>f428d123409042b292b860b48bf2ccca</uuid>
                    <name>Electrometer A voltage</name>
                    <type>DEPENDENT</type>
                    <key>emeters-0.voltage</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>V</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[0].voltage</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer A</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>970995c832d24071b626e51133645d43</uuid>
                    <name>Electrometer B current</name>
                    <type>DEPENDENT</type>
                    <key>emeters-1.current</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>A</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[1].current</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer B</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>efdb1799b410411881a330b68987bcd8</uuid>
                    <name>Electrometer B self-check</name>
                    <type>DEPENDENT</type>
                    <key>emeters-1.is_valid</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[1].is_valid</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>BOOL_TO_DECIMAL</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer B</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Self-check</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>10f2f6f3fac3440d9e0d78a122b416ee</uuid>
                    <name>Electrometer B power factor</name>
                    <type>DEPENDENT</type>
                    <key>emeters-1.pf</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[1].pf</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer B</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>a059ffd03de144efae2e2c259409855a</uuid>
                    <name>Electrometer B power</name>
                    <type>DEPENDENT</type>
                    <key>emeters-1.power</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>W</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[1].power</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer B</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>84c8a7fab8ef417cb443c3284baec177</uuid>
                    <name>Electrometer B total consumed</name>
                    <type>DEPENDENT</type>
                    <key>emeters-1.total</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>Wh</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[1].total</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer B</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>17ae92df20734080af40ec093dc03e3f</uuid>
                    <name>Electrometer B total returned</name>
                    <type>DEPENDENT</type>
                    <key>emeters-1.total_returned</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>Wh</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[1].total_returned</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer B</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>823362bbd28e4bccbe755b2bd21775b9</uuid>
                    <name>Electrometer B voltage</name>
                    <type>DEPENDENT</type>
                    <key>emeters-1.voltage</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>V</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[1].voltage</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer B</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>c58712c52b954c9cb9925c94c3e3e4f4</uuid>
                    <name>Electrometer C current</name>
                    <type>DEPENDENT</type>
                    <key>emeters-2.current</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>A</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[2].current</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer C</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>e5b6b6d1a6ad487ba8bbc6e3e8d56ded</uuid>
                    <name>Electrometer C self-check</name>
                    <type>DEPENDENT</type>
                    <key>emeters-2.is_valid</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[2].is_valid</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>BOOL_TO_DECIMAL</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer C</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Self-check</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>348191a4d7364428af574e9d72bfb756</uuid>
                    <name>Electrometer C power factor</name>
                    <type>DEPENDENT</type>
                    <key>emeters-2.pf</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[2].pf</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer C</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>0690eb009379491c910d7933aaab2fd9</uuid>
                    <name>Electrometer C power</name>
                    <type>DEPENDENT</type>
                    <key>emeters-2.power</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>W</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[2].power</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer C</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>478bba63e48646659d8952aea18af60e</uuid>
                    <name>Electrometer C total consumed</name>
                    <type>DEPENDENT</type>
                    <key>emeters-2.total</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>Wh</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[2].total</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer C</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>0ec7f205a8e94f338306aa811b51fb5b</uuid>
                    <name>Electrometer C total returned</name>
                    <type>DEPENDENT</type>
                    <key>emeters-2.total_returned</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>Wh</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[2].total_returned</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer C</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>d29db3ef9a2842e0bd36f46a30609bad</uuid>
                    <name>Electrometer C voltage</name>
                    <type>DEPENDENT</type>
                    <key>emeters-2.voltage</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>V</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[2].voltage</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer C</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>5c934e3b1d004748b01959284c224b40</uuid>
                    <name>Electrometer N current</name>
                    <type>DEPENDENT</type>
                    <key>emeters-3.current</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <status>DISABLED</status>
                    <value_type>FLOAT</value_type>
                    <units>A</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[3].current</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer N</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>65b725295c07407086c1a4bb06c10efb</uuid>
                    <name>Electrometer N self-check</name>
                    <type>DEPENDENT</type>
                    <key>emeters-3.is_valid</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <status>DISABLED</status>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[3].is_valid</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>BOOL_TO_DECIMAL</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer N</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Self-check</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>a0c31755b79a4f4081995be95eafef89</uuid>
                    <name>Electrometer N power factor</name>
                    <type>DEPENDENT</type>
                    <key>emeters-3.pf</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <status>DISABLED</status>
                    <value_type>FLOAT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[3].pf</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer N</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>5831b9d2a7c64b71a552c1a70bc444d4</uuid>
                    <name>Electrometer N power</name>
                    <type>DEPENDENT</type>
                    <key>emeters-3.power</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <status>DISABLED</status>
                    <value_type>FLOAT</value_type>
                    <units>W</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[3].power</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer N</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>f62d9ca874034fe598fea1d6a1b86a6a</uuid>
                    <name>Electrometer N total consumed</name>
                    <type>DEPENDENT</type>
                    <key>emeters-3.total</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <status>DISABLED</status>
                    <value_type>FLOAT</value_type>
                    <units>Wh</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[3].total</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer N</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>ea2c2642fc934109b41ff6c3373fc310</uuid>
                    <name>Electrometer N total returned</name>
                    <type>DEPENDENT</type>
                    <key>emeters-3.total_returned</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <status>DISABLED</status>
                    <value_type>FLOAT</value_type>
                    <units>Wh</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[3].total_returned</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer N</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>d6f94109b48341a6bd7dbd9c217dcf81</uuid>
                    <name>Electrometer N voltage</name>
                    <type>DEPENDENT</type>
                    <key>emeters-3.voltage</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <status>DISABLED</status>
                    <value_type>FLOAT</value_type>
                    <units>V</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.emeters[3].voltage</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer N</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometers</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>86f64ae2044f407c94c3c0b13823c146</uuid>
                    <name>File system free size</name>
                    <type>DEPENDENT</type>
                    <key>fs_free</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.fs_free</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>c4478ca261624ba9a5ed10b0d1d19055</uuid>
                    <name>Sysflash is mounted</name>
                    <type>DEPENDENT</type>
                    <key>fs_mounted</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.fs_mounted</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>aa87ae09c8b84cdc80bd642a1017803c</uuid>
                    <name>File system total size</name>
                    <type>DEPENDENT</type>
                    <key>fs_size</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.fs_size</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>efa92edb83d84f3787021727198e2523</uuid>
                    <name>MQTT connected</name>
                    <type>DEPENDENT</type>
                    <key>mqtt.connected</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.mqtt.connected</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>MQTT</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>be91b0e32bf04abda3db6dfb6480273d</uuid>
                            <expression>change(/Template Shelly 3EM - MQTT/mqtt.connected)&lt;&gt;0</expression>
                            <name>MQTT connection state has changed</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>ee239b5171bb4588994e4b69f3cf7240</uuid>
                    <name>Status data</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    <delay>0</delay>
                    <history>1h</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <description>Collect data from Shelly device status topic.</description>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Data collection</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>c8cefea8573b42ecaa41b35cc0aee0be</uuid>
                            <expression>nodata(/Template Shelly 3EM - MQTT/mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}],120s)=1</expression>
                            <name>No data received</name>
                            <priority>HIGH</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Data collection</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>87f7e30ca0fb47b6ac5eb452dcc01565</uuid>
                    <name>RAM free</name>
                    <type>DEPENDENT</type>
                    <key>ram_free</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.ram_free</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>878225154d73432f811ec02c411d015a</uuid>
                    <name>RAM total</name>
                    <type>DEPENDENT</type>
                    <key>ram_total</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.ram_total</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>98237acaad8a41008dc2e127e48b4da3</uuid>
                    <name>Relay has timer</name>
                    <type>DEPENDENT</type>
                    <key>relays-0.has_timer</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.relays[0].has_timer</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Relay</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>4a771db1d8c7404180a26d1c6fb5dce2</uuid>
                    <name>Relay turned on</name>
                    <type>DEPENDENT</type>
                    <key>relays-0.ison</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.relays[0].ison</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Relay</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>f64e33573be544298eb766e2628e73ef</uuid>
                            <expression>change(/Template Shelly 3EM - MQTT/relays-0.ison)&lt;&gt;0</expression>
                            <name>Relay state has changed</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Relay</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>1d1a325f57704acc85bb892bb6a7ee6f</uuid>
                    <name>Relay sensor self-check</name>
                    <type>DEPENDENT</type>
                    <key>relays-0.is_valid</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <valuemap>
                        <name>Self-check</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.relays[0].is_valid</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>BOOL_TO_DECIMAL</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Relay</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Sefl-check</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>4232bfff69824155b6ab5832bb86f55c</uuid>
                    <name>Relay overpower occurred</name>
                    <type>DEPENDENT</type>
                    <key>relays-0.overpower</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.relays[0].overpower</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Relay</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>197e0b8b8c67463c81ab38b1d0c9e422</uuid>
                            <expression>last(/Template Shelly 3EM - MQTT/relays-0.overpower)=&quot;true&quot;</expression>
                            <name>Overpower event has been detected</name>
                            <priority>DISASTER</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Relay</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>391e51ecf7d54161aa528db2874a0322</uuid>
                    <name>Relays last command source</name>
                    <type>DEPENDENT</type>
                    <key>relays-0.source</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.relays[0].source</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Relay</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>ebfb3ba82ca449dabc7459249cc7e4ee</uuid>
                    <name>Relay timer duration</name>
                    <type>DEPENDENT</type>
                    <key>relays-0.timer_duration</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <units>s</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.relays[0].timer_duration</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Relay</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>c50e5a0ef8ad4f839d50834b6b5816da</uuid>
                    <name>Relay timer remaining</name>
                    <type>DEPENDENT</type>
                    <key>relays-0.timer_remaining</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <units>s</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.relays[0].timer_remaining</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Relay</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>9c822f91ebb345fbb4c5a5f8cb33b058</uuid>
                    <name>Relay timer started</name>
                    <type>DEPENDENT</type>
                    <key>relays-0.timer_started</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <units>unixtime</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.relays[0].timer_started</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Relay</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>13724f729d8e49feb962b9750ce6645a</uuid>
                    <name>Total consumption from last reset</name>
                    <type>DEPENDENT</type>
                    <key>total_consuption</key>
                    <delay>0</delay>
                    <history>1825d</history>
                    <value_type>FLOAT</value_type>
                    <units>Wh</units>
                    <preprocessing>
                        <step>
                            <type>JAVASCRIPT</type>
                            <parameters>
                                <parameter>var json_data = JSON.parse(value);

var emeter_a = 0;
var emeter_b = 0;
var emeter_c = 0;
var emeter_n = 0;

if (json_data.emeters[0]) {
  emeter_a = json_data.emeters[0].total;
}
if (json_data.emeters[1]) {
  emeter_b = json_data.emeters[1].total;
}
if (json_data.emeters[2]) {
  emeter_c = json_data.emeters[2].total;
}
if (json_data.emeters[3]) {
  emeter_n = json_data.emeters[3].total;
}

return (emeter_a + emeter_b + emeter_c + emeter_n);</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer summary</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>5e7034a24c524cb29e3fc685db07b201</uuid>
                    <name>Total power consumption</name>
                    <type>DEPENDENT</type>
                    <key>total_power</key>
                    <delay>0</delay>
                    <history>365d</history>
                    <value_type>FLOAT</value_type>
                    <units>W</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.total_power</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer summary</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>ea6fb531623f43e48b5ce1ec7c199be8</uuid>
                    <name>Total return from last reset</name>
                    <type>DEPENDENT</type>
                    <key>total_returned</key>
                    <delay>0</delay>
                    <history>1825d</history>
                    <value_type>FLOAT</value_type>
                    <units>Wh</units>
                    <preprocessing>
                        <step>
                            <type>JAVASCRIPT</type>
                            <parameters>
                                <parameter>var json_data = JSON.parse(value);

var emeter_a = 0;
var emeter_b = 0;
var emeter_c = 0;
var emeter_n = 0;

if (json_data.emeters[0]) {
  emeter_a = json_data.emeters[0].total_returned;
}
if (json_data.emeters[1]) {
  emeter_b = json_data.emeters[1].total_returned;
}
if (json_data.emeters[2]) {
  emeter_c = json_data.emeters[2].total_returned;
}
if (json_data.emeters[3]) {
  emeter_n = json_data.emeters[3].total_returned;
}

return (emeter_a + emeter_b + emeter_c + emeter_n);</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer summary</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>84024b1385a1459fae0b58ade7fc40c4</uuid>
                    <name>Device time</name>
                    <type>DEPENDENT</type>
                    <key>unixtime</key>
                    <delay>0</delay>
                    <units>unixtime</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.unixtime</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>5cd28e3e494b4eae94cd79f24b6de1d7</uuid>
                            <expression>fuzzytime(/Template Shelly 3EM - MQTT/unixtime,60s)=0</expression>
                            <name>Time is out of sync</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>809071ce141d47878f30f18a512b075e</uuid>
                    <name>Update available</name>
                    <type>DEPENDENT</type>
                    <key>update.has_update</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.update.has_update</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>b01b82ec56a4416d8e5c217ea1a3e66d</uuid>
                            <expression>last(/Template Shelly 3EM - MQTT/update.has_update)=&quot;true&quot;</expression>
                            <name>Update available</name>
                            <priority>INFO</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>1399278b5aab40b19dcb2121e3c7a039</uuid>
                    <name>Firmware new version</name>
                    <type>DEPENDENT</type>
                    <key>update.new_version</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.update.new_version</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>ba73ab9097904c48b5baddf4926ca63d</uuid>
                    <name>Firmware old version</name>
                    <type>DEPENDENT</type>
                    <key>update.old_version</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.update.old_version</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>8930d82089124ecea8559533950a24bc</uuid>
                            <expression>change(/Template Shelly 3EM - MQTT/update.old_version)&lt;&gt;0</expression>
                            <name>Version has changed</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>c9499513c23645aa9a382c12e5da7c00</uuid>
                    <name>Uptime</name>
                    <type>DEPENDENT</type>
                    <key>uptime</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <units>uptime</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.uptime</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>b6f835f5cbd846bd8f88e18f8d0faf4c</uuid>
                            <expression>change(/Template Shelly 3EM - MQTT/uptime)&lt;0</expression>
                            <name>Device has been restarted</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>c70c6805d5c742c292aafbd65bee4d15</uuid>
                    <name>WiFi connected</name>
                    <type>DEPENDENT</type>
                    <key>wifi_sta.connected</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.wifi_sta.connected</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>WiFi</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>6bae78b3eff24b1885fde577092b21aa</uuid>
                    <name>WiFi IP</name>
                    <type>DEPENDENT</type>
                    <key>wifi_sta.ip</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.wifi_sta.ip</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>WiFi</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>03dc55e375bd49f38060cd87768573e3</uuid>
                    <name>WiFi RSSI</name>
                    <type>DEPENDENT</type>
                    <key>wifi_sta.rssi</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <value_type>FLOAT</value_type>
                    <units>dBm</units>
                    <valuemap>
                        <name>Received Signal Strength Indicator</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.wifi_sta.rssi</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>WiFi</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>b8c27a05a8f44c558e34ac176a303967</uuid>
                    <name>WiFi SSID</name>
                    <type>DEPENDENT</type>
                    <key>wifi_sta.ssid</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.wifi_sta.ssid</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>WiFi</value>
                        </tag>
                    </tags>
                </item>
            </items>
            <macros>
                <macro>
                    <macro>{$EC_EM_CONSUMPTION}</macro>
                    <value>0</value>
                    <description>Total value on your electric company electrometer in Wh at the moment you reset Shelly 3EM data.</description>
                </macro>
                <macro>
                    <macro>{$MQTT_BROKER_HOST}</macro>
                    <value>tcp://localhost:1883</value>
                    <description>MQTT broker host</description>
                </macro>
                <macro>
                    <macro>{$MQTT_BROKER_PASS}</macro>
                    <type>SECRET_TEXT</type>
                    <description>MQTT broker password, if configured</description>
                </macro>
                <macro>
                    <macro>{$MQTT_BROKER_USER}</macro>
                    <description>MQTT broker user, if configured</description>
                </macro>
                <macro>
                    <macro>{$MQTT_DEVICE_ID}</macro>
                    <description>Shelly device MQTT ID</description>
                </macro>
            </macros>
            <valuemaps>
                <valuemap>
                    <uuid>b393a380aae84bbab962b68e42c8f4dd</uuid>
                    <name>Received Signal Strength Indicator</name>
                    <mappings>
                        <mapping>
                            <type>GREATER_OR_EQUAL</type>
                            <value>-30</value>
                            <newvalue>Amazing</newvalue>
                        </mapping>
                        <mapping>
                            <type>GREATER_OR_EQUAL</type>
                            <value>-67</value>
                            <newvalue>Very Good</newvalue>
                        </mapping>
                        <mapping>
                            <type>GREATER_OR_EQUAL</type>
                            <value>-70</value>
                            <newvalue>Good</newvalue>
                        </mapping>
                        <mapping>
                            <type>GREATER_OR_EQUAL</type>
                            <value>-80</value>
                            <newvalue>Not Good</newvalue>
                        </mapping>
                        <mapping>
                            <type>LESS_OR_EQUAL</type>
                            <value>-81</value>
                            <newvalue>Unusable</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
                <valuemap>
                    <uuid>62c7e1ddb29048fbb2169387cda7928f</uuid>
                    <name>Self-check</name>
                    <mappings>
                        <mapping>
                            <value>1</value>
                            <newvalue>Working</newvalue>
                        </mapping>
                        <mapping>
                            <value>0</value>
                            <newvalue>Not working</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
            </valuemaps>
        </template>
        <template>
            <uuid>e5e4158ec3584ce6ade9e13c6b09bc56</uuid>
            <template>Template Shelly Motion</template>
            <name>Template Shelly Motion</name>
            <templates>
                <template>
                    <name>Template Module ICMP Ping</name>
                </template>
            </templates>
            <groups>
                <group>
                    <name>Shelly</name>
                </group>
                <group>
                    <name>Templates/Network devices</name>
                </group>
            </groups>
            <items>
                <item>
                    <uuid>b182a3f49dfa4a868d2aa11f2cbab8ee</uuid>
                    <name>Skipped actions</name>
                    <type>DEPENDENT</type>
                    <key>actions_stats.skipped</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.actions_stats.skipped</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>8787a6f12e494a369b126d06fa4b6a9e</uuid>
                            <expression>change(/Template Shelly Motion/actions_stats.skipped)&gt;0</expression>
                            <name>At least one action has been skipped</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>6371b845439a4c66a6a6a6f3627b252c</uuid>
                    <name>Battery percentage</name>
                    <type>DEPENDENT</type>
                    <key>bat.value</key>
                    <delay>0</delay>
                    <units>%</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.bat.value</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Battery</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>c6fdad66212e4e2d82c6574b8c0617fd</uuid>
                            <expression>last(/Template Shelly Motion/bat.value)&lt;=10</expression>
                            <name>Sensor battery is low</name>
                            <priority>HIGH</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                        <trigger>
                            <uuid>876689f576c34b2499754656e4e5b6ad</uuid>
                            <expression>last(/Template Shelly Motion/bat.value)&gt;10 and last(/Template Shelly Motion/bat.value)&lt;=20</expression>
                            <name>Sensor battery is low</name>
                            <priority>AVERAGE</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>87918a13ce8f4e43b9f09b58905a16a1</uuid>
                    <name>Battery voltage</name>
                    <type>DEPENDENT</type>
                    <key>bat.voltage</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>V</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.bat.voltage</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Battery</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>16e24d3bea4643909289f2729dbbd078</uuid>
                    <name>System configuration changes</name>
                    <type>DEPENDENT</type>
                    <key>cfg_changed_cnt</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.cfg_changed_cnt</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>4060facac10547d59fd25f57a1ac0761</uuid>
                            <expression>change(/Template Shelly Motion/cfg_changed_cnt)&gt;0</expression>
                            <name>System configuration has been changed</name>
                            <priority>INFO</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>1796b216f22540a498bbcdd2f289b3b5</uuid>
                    <name>Charger connected</name>
                    <type>DEPENDENT</type>
                    <key>charger</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.charger</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>c14500236c4848f3ae829ccdbd93483c</uuid>
                    <name>Cloud connected</name>
                    <type>DEPENDENT</type>
                    <key>cloud.connected</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.cloud.connected</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Cloud</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>da45482d40b44e5b8e761053bce07c48</uuid>
                            <expression>change(/Template Shelly Motion/cloud.connected)&lt;&gt;0</expression>
                            <name>Cloud connection state has changed</name>
                            <priority>AVERAGE</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Cloud</value>
                                </tag>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>b2b35071152b48d5b1ea2e41fc26ab6d</uuid>
                    <name>Cloud enabled</name>
                    <type>DEPENDENT</type>
                    <key>cloud.enabled</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.cloud.enabled</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Cloud</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>9dfb447d1211449c939be9258d8e8e0c</uuid>
                            <expression>change(/Template Shelly Motion/cloud.enabled)&lt;&gt;0</expression>
                            <name>Cloud configuration has changed</name>
                            <priority>INFO</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Cloud</value>
                                </tag>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>33d5ca368f844f23a0f6c1c3b6357cb9</uuid>
                    <name>File system free size</name>
                    <type>DEPENDENT</type>
                    <key>fs_free</key>
                    <delay>0</delay>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.fs_free</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>abce78709c4e4287adef784f8ce6bc28</uuid>
                    <name>File system total size</name>
                    <type>DEPENDENT</type>
                    <key>fs_size</key>
                    <delay>0</delay>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.fs_size</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>bf34b11182194363b1eb807f82db2dd6</uuid>
                    <name>Lux illumination</name>
                    <type>DEPENDENT</type>
                    <key>lux.illumination</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.lux.illumination</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Lux sensor</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>17e40ac5118a4077b0fcf833809d8ede</uuid>
                    <name>Lux sensor self-check</name>
                    <type>DEPENDENT</type>
                    <key>lux.is_valid</key>
                    <delay>0</delay>
                    <valuemap>
                        <name>Self-check</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.lux.is_valid</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>BOOL_TO_DECIMAL</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Lux sensor</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Sefl-check</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>315b506e11dc43f683c9ed9892d68b79</uuid>
                    <name>Lux value</name>
                    <type>DEPENDENT</type>
                    <key>lux.value</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.lux.value</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Lux sensor</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>fcc21fff6f7048f89d364c671e3b115a</uuid>
                    <name>MQTT connected</name>
                    <type>DEPENDENT</type>
                    <key>mqtt.connected</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.mqtt.connected</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>MQTT</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>3fbd3df9794a4a69a706512332ffd59e</uuid>
                            <expression>change(/Template Shelly Motion/mqtt.connected)&lt;&gt;0</expression>
                            <name>MQTT connection state has changed</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>b673f5d7502240248b7b6bd3b3a68aa7</uuid>
                    <name>RAM free</name>
                    <type>DEPENDENT</type>
                    <key>ram_free</key>
                    <delay>0</delay>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.ram_free</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>eb3a1f3530274fe98d9ffab706586030</uuid>
                    <name>RAM total</name>
                    <type>DEPENDENT</type>
                    <key>ram_total</key>
                    <delay>0</delay>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.ram_total</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>25974414e1cc4701b7f7eaa871dfee63</uuid>
                    <name>Motion sensor active</name>
                    <type>DEPENDENT</type>
                    <key>sensor.active</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.sensor.active</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Motion sensor</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>46e649c53c6c437cac6948f1bd4c2cc3</uuid>
                            <expression>last(/Template Shelly Motion/sensor.active)=&quot;true&quot;</expression>
                            <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                            <recovery_expression>last(/Template Shelly Motion/sensor.active)=&quot;false&quot;</recovery_expression>
                            <name>Motion sensor active</name>
                            <priority>INFO</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Motion sensor</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>1467e5abcc38479fa71bbba68f1e6ab5</uuid>
                    <name>Motion sensor self-check</name>
                    <type>DEPENDENT</type>
                    <key>sensor.is_valid</key>
                    <delay>0</delay>
                    <valuemap>
                        <name>Self-check</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.sensor.is_valid</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>BOOL_TO_DECIMAL</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Motion sensor</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Sefl-check</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>430cd77e6ea444c28924b3021892febd</uuid>
                    <name>Motion detection</name>
                    <type>DEPENDENT</type>
                    <key>sensor.motion</key>
                    <delay>0</delay>
                    <valuemap>
                        <name>Motion</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.sensor.motion</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>BOOL_TO_DECIMAL</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Motion sensor</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>60d5d6b7d1db4ba693bbabdbe51e4630</uuid>
                    <name>Tamper detection</name>
                    <type>DEPENDENT</type>
                    <key>sensor.vibration</key>
                    <delay>0</delay>
                    <valuemap>
                        <name>Tampering</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.sensor.vibration</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>BOOL_TO_DECIMAL</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Motion sensor</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>629c64f8242c445ab53b002f7e7b3164</uuid>
                    <name>Status data</name>
                    <type>HTTP_AGENT</type>
                    <key>status</key>
                    <delay>30</delay>
                    <history>1h</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <authtype>BASIC</authtype>
                    <username>{$SHELLY_USER}</username>
                    <password>{$SHELLY_PASS}</password>
                    <description>Collect data from Shelly device status API.</description>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.body</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <timeout>25s</timeout>
                    <url>http://{HOST.IP}/status</url>
                    <follow_redirects>NO</follow_redirects>
                    <output_format>JSON</output_format>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Data collection</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>38117ec9b9114443a56f727b60eb3367</uuid>
                            <expression>nodata(/Template Shelly Motion/status,180s)=1</expression>
                            <name>No data received</name>
                            <priority>HIGH</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Data collection</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>a2b80942c39a487a8a057cd53f3cd758</uuid>
                    <name>Device time</name>
                    <type>DEPENDENT</type>
                    <key>unixtime</key>
                    <delay>0</delay>
                    <units>unixtime</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.unixtime</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>875e7f149e6347aeb139445aa2489a5f</uuid>
                            <expression>fuzzytime(/Template Shelly Motion/unixtime,60s)=0</expression>
                            <name>Time is out of sync</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>d873de862fce4312ae0d51e3cea6b171</uuid>
                    <name>Update available</name>
                    <type>DEPENDENT</type>
                    <key>update.has_update</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.update.has_update</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>d405b2003e7d4ce78ee4c3cefce81eb9</uuid>
                            <expression>last(/Template Shelly Motion/update.has_update)=&quot;true&quot;</expression>
                            <name>Update available</name>
                            <priority>INFO</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>51a1c1999ddc416bae5b16c59c69f114</uuid>
                    <name>Firmware new version</name>
                    <type>DEPENDENT</type>
                    <key>update.new_version</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.update.new_version</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>9f2f7fb1bb81424a845229f71e60e1ee</uuid>
                    <name>Firmware old version</name>
                    <type>DEPENDENT</type>
                    <key>update.old_version</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.update.old_version</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>9050639bec0d442d9a6face8c5f3df67</uuid>
                            <expression>change(/Template Shelly Motion/update.old_version)&lt;&gt;0</expression>
                            <name>Version has changed</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>142a08d145df4da4a30af028f381bb32</uuid>
                    <name>Uptime</name>
                    <type>DEPENDENT</type>
                    <key>uptime</key>
                    <delay>0</delay>
                    <units>uptime</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.uptime</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>0bd330b80ba14509980f52c531e797b2</uuid>
                            <expression>change(/Template Shelly Motion/uptime)&lt;0</expression>
                            <name>Device has been restarted</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>ad4d358c47874fb5962081a73aac42fd</uuid>
                    <name>WiFi connected</name>
                    <type>DEPENDENT</type>
                    <key>wifi_sta.connected</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.wifi_sta.connected</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>WiFi</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>a503e8f140ed4c729c3fe4c8556404fc</uuid>
                    <name>WiFi IP</name>
                    <type>DEPENDENT</type>
                    <key>wifi_sta.ip</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.wifi_sta.ip</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>WiFi</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>c53b5e9a29bd448c9848ec96a6a26b32</uuid>
                    <name>WiFi RSSI</name>
                    <type>DEPENDENT</type>
                    <key>wifi_sta.rssi</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>dBm</units>
                    <valuemap>
                        <name>Received Signal Strength Indicator</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.wifi_sta.rssi</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>WiFi</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>40ba849a48614489b0778687e5215991</uuid>
                    <name>WiFi SSID</name>
                    <type>DEPENDENT</type>
                    <key>wifi_sta.ssid</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.wifi_sta.ssid</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>WiFi</value>
                        </tag>
                    </tags>
                </item>
            </items>
            <macros>
                <macro>
                    <macro>{$SHELLY_PASS}</macro>
                    <type>SECRET_TEXT</type>
                    <description>Device password, if configured</description>
                </macro>
                <macro>
                    <macro>{$SHELLY_USER}</macro>
                    <value>admin</value>
                    <description>Device user, if configured</description>
                </macro>
            </macros>
            <valuemaps>
                <valuemap>
                    <uuid>319fdcbc35404cb9ad5f014459403036</uuid>
                    <name>Motion</name>
                    <mappings>
                        <mapping>
                            <value>1</value>
                            <newvalue>Motion</newvalue>
                        </mapping>
                        <mapping>
                            <value>0</value>
                            <newvalue>No motion</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
                <valuemap>
                    <uuid>b034c6ad33e24658896cf0768693774c</uuid>
                    <name>Received Signal Strength Indicator</name>
                    <mappings>
                        <mapping>
                            <type>GREATER_OR_EQUAL</type>
                            <value>-30</value>
                            <newvalue>Amazing</newvalue>
                        </mapping>
                        <mapping>
                            <type>GREATER_OR_EQUAL</type>
                            <value>-67</value>
                            <newvalue>Very Good</newvalue>
                        </mapping>
                        <mapping>
                            <type>GREATER_OR_EQUAL</type>
                            <value>-70</value>
                            <newvalue>Good</newvalue>
                        </mapping>
                        <mapping>
                            <type>GREATER_OR_EQUAL</type>
                            <value>-80</value>
                            <newvalue>Not Good</newvalue>
                        </mapping>
                        <mapping>
                            <type>LESS_OR_EQUAL</type>
                            <value>-81</value>
                            <newvalue>Unusable</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
                <valuemap>
                    <uuid>9369a5ce4f394f2f8a2c2a21d030920c</uuid>
                    <name>Self-check</name>
                    <mappings>
                        <mapping>
                            <value>1</value>
                            <newvalue>Working</newvalue>
                        </mapping>
                        <mapping>
                            <value>0</value>
                            <newvalue>Not working</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
                <valuemap>
                    <uuid>5f43c56d6fde454dbdaf9f8672d1ded8</uuid>
                    <name>Tampering</name>
                    <mappings>
                        <mapping>
                            <value>1</value>
                            <newvalue>Tamper</newvalue>
                        </mapping>
                        <mapping>
                            <value>0</value>
                            <newvalue>No tamper</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
            </valuemaps>
        </template>
        <template>
            <uuid>161c4bb799a54116bd8c019a9680a6a7</uuid>
            <template>Template Shelly Motion - MQTT</template>
            <name>Template Shelly Motion - MQTT</name>
            <groups>
                <group>
                    <name>Shelly</name>
                </group>
                <group>
                    <name>Templates/Network devices</name>
                </group>
            </groups>
            <items>
                <item>
                    <uuid>0c3b9ccf8b844726b10e2ebbd9387a2d</uuid>
                    <name>Skipped actions</name>
                    <type>DEPENDENT</type>
                    <key>actions_stats.skipped</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.actions_stats.skipped</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>bfd4d51b60f342b2a5c79c84703ba9fd</uuid>
                            <expression>change(/Template Shelly Motion - MQTT/actions_stats.skipped)&gt;0</expression>
                            <name>At least one action has been skipped</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>99c7bd9589814bc0b4f1e91613846c33</uuid>
                    <name>Battery percentage</name>
                    <type>DEPENDENT</type>
                    <key>bat.value</key>
                    <delay>0</delay>
                    <units>%</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.bat.value</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Battery</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>32c4c593558946128bede0a90ef14ec2</uuid>
                            <expression>last(/Template Shelly Motion - MQTT/bat.value)&lt;=10</expression>
                            <name>Sensor battery is low</name>
                            <priority>HIGH</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                        <trigger>
                            <uuid>1bb40a6a17754bcaad3b7c95b63c15b2</uuid>
                            <expression>last(/Template Shelly Motion - MQTT/bat.value)&gt;10 and last(/Template Shelly Motion - MQTT/bat.value)&lt;=20</expression>
                            <name>Sensor battery is low</name>
                            <priority>AVERAGE</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>549efb1bb1504d728adb1debf0762895</uuid>
                    <name>Battery voltage</name>
                    <type>DEPENDENT</type>
                    <key>bat.voltage</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>V</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.bat.voltage</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Battery</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>41f01089f3714e83a29cecdfc6b9a872</uuid>
                    <name>System configuration changes</name>
                    <type>DEPENDENT</type>
                    <key>cfg_changed_cnt</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.cfg_changed_cnt</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>95138ed580b14e3d837e57e4f728ccaf</uuid>
                            <expression>change(/Template Shelly Motion - MQTT/cfg_changed_cnt)&gt;0</expression>
                            <name>System configuration has been changed</name>
                            <priority>INFO</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>37825dc185e34e518fc9a4ca6e076c97</uuid>
                    <name>Charger connected</name>
                    <type>DEPENDENT</type>
                    <key>charger</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.charger</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>9819ec9a9ff840c9b842d1184f0dc32e</uuid>
                    <name>Cloud connected</name>
                    <type>DEPENDENT</type>
                    <key>cloud.connected</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.cloud.connected</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Cloud</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>33c5849f7d4144dc90c0eac6b622a6c8</uuid>
                            <expression>change(/Template Shelly Motion - MQTT/cloud.connected)&lt;&gt;0</expression>
                            <name>Cloud connection state has changed</name>
                            <priority>AVERAGE</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Cloud</value>
                                </tag>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>4dfa7550909842c7a06dc7fd0448e4b5</uuid>
                    <name>Cloud enabled</name>
                    <type>DEPENDENT</type>
                    <key>cloud.enabled</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.cloud.enabled</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Cloud</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>67534c87a78c4074b26d74422f070682</uuid>
                            <expression>change(/Template Shelly Motion - MQTT/cloud.enabled)&lt;&gt;0</expression>
                            <name>Cloud configuration has changed</name>
                            <priority>INFO</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Cloud</value>
                                </tag>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>d3e4b23003c7415f8bd256f4b0a28ab8</uuid>
                    <name>File system free size</name>
                    <type>DEPENDENT</type>
                    <key>fs_free</key>
                    <delay>0</delay>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.fs_free</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>33946e25c42b4fc0a393355905174b65</uuid>
                    <name>File system total size</name>
                    <type>DEPENDENT</type>
                    <key>fs_size</key>
                    <delay>0</delay>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.fs_size</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>a7b7e0b77dcb49abbcc86f879c290db3</uuid>
                    <name>Lux illumination</name>
                    <type>DEPENDENT</type>
                    <key>lux.illumination</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.lux.illumination</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Lux sensor</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>f6a207578c99445b861d8cad731dcb87</uuid>
                    <name>Lux sensor self-check</name>
                    <type>DEPENDENT</type>
                    <key>lux.is_valid</key>
                    <delay>0</delay>
                    <valuemap>
                        <name>Self-check</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.lux.is_valid</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>BOOL_TO_DECIMAL</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Lux sensor</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Sefl-check</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>eff2eb7166784deb87c1b5fc24f75d7a</uuid>
                    <name>Lux value</name>
                    <type>DEPENDENT</type>
                    <key>lux.value</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.lux.value</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Lux sensor</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>111ed2d90d7949bd867b0242d36cf4b5</uuid>
                    <name>MQTT connected</name>
                    <type>DEPENDENT</type>
                    <key>mqtt.connected</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.mqtt.connected</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>MQTT</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>8332e83752ed443ab0aba8ab48c97b9b</uuid>
                            <expression>change(/Template Shelly Motion - MQTT/mqtt.connected)&lt;&gt;0</expression>
                            <name>MQTT connection state has changed</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>9d85d0033e60475fa89ce4a5613644c9</uuid>
                    <name>Status data</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    <delay>0</delay>
                    <history>1h</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <description>Collect data from Shelly device status topic.</description>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Data collection</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>9d2c328904564824b2083baca2875f6f</uuid>
                            <expression>nodata(/Template Shelly Motion - MQTT/mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}],180s)=1</expression>
                            <name>No data received</name>
                            <priority>HIGH</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Data collection</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>d01729798c1e4571b70f5501ea047171</uuid>
                    <name>RAM free</name>
                    <type>DEPENDENT</type>
                    <key>ram_free</key>
                    <delay>0</delay>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.ram_free</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>a7cca86a44854a44a2168d5fe337c38a</uuid>
                    <name>RAM total</name>
                    <type>DEPENDENT</type>
                    <key>ram_total</key>
                    <delay>0</delay>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.ram_total</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>3bc28629a25f4691bcacdc9e38ed0fa4</uuid>
                    <name>Motion sensor active</name>
                    <type>DEPENDENT</type>
                    <key>sensor.active</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.sensor.active</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Motion sensor</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>25978a3ce04947b197fa5e6210da29b8</uuid>
                            <expression>last(/Template Shelly Motion - MQTT/sensor.active)=&quot;true&quot;</expression>
                            <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                            <recovery_expression>last(/Template Shelly Motion - MQTT/sensor.active)=&quot;false&quot;</recovery_expression>
                            <name>Motion sensor active</name>
                            <priority>INFO</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Motion sensor</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>a5a7a9a20f1d40c18ee3b51fee767515</uuid>
                    <name>Motion sensor self-check</name>
                    <type>DEPENDENT</type>
                    <key>sensor.is_valid</key>
                    <delay>0</delay>
                    <valuemap>
                        <name>Self-check</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.sensor.is_valid</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>BOOL_TO_DECIMAL</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Motion sensor</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Sefl-check</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>799855a06c754124b62129c04e51db33</uuid>
                    <name>Motion detection</name>
                    <type>DEPENDENT</type>
                    <key>sensor.motion</key>
                    <delay>0</delay>
                    <valuemap>
                        <name>Motion</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.sensor.motion</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>BOOL_TO_DECIMAL</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Motion sensor</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>8053e3caae934b18b1c9312f06bccbb0</uuid>
                    <name>Tamper detection</name>
                    <type>DEPENDENT</type>
                    <key>sensor.vibration</key>
                    <delay>0</delay>
                    <valuemap>
                        <name>Tampering</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.sensor.vibration</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>BOOL_TO_DECIMAL</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Motion sensor</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>8979e32eb18646ce87bad3a5f745409c</uuid>
                    <name>Device time</name>
                    <type>DEPENDENT</type>
                    <key>unixtime</key>
                    <delay>0</delay>
                    <units>unixtime</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.unixtime</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>a3c075d1519d453a93eeffe4dd6f85c1</uuid>
                            <expression>fuzzytime(/Template Shelly Motion - MQTT/unixtime,60s)=0</expression>
                            <name>Time is out of sync</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>035c00e4aedc4a53995f8a77066ce7bd</uuid>
                    <name>Update available</name>
                    <type>DEPENDENT</type>
                    <key>update.has_update</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.update.has_update</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>9b1a6c669de6411ebfed8ee793b9beed</uuid>
                            <expression>last(/Template Shelly Motion - MQTT/update.has_update)=&quot;true&quot;</expression>
                            <name>Update available</name>
                            <priority>INFO</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>a48603a3536643d1bf38298690c410f8</uuid>
                    <name>Firmware new version</name>
                    <type>DEPENDENT</type>
                    <key>update.new_version</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.update.new_version</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>167f8e60be5744b0a85f9609dd34631b</uuid>
                    <name>Firmware old version</name>
                    <type>DEPENDENT</type>
                    <key>update.old_version</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.update.old_version</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>893c7fe674c444ad80011d18541dc654</uuid>
                            <expression>change(/Template Shelly Motion - MQTT/update.old_version)&lt;&gt;0</expression>
                            <name>Version has changed</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>59e42489916f4185849f8bfa58d22500</uuid>
                    <name>Uptime</name>
                    <type>DEPENDENT</type>
                    <key>uptime</key>
                    <delay>0</delay>
                    <units>uptime</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.uptime</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>de2b7f66d229441480fdc2f39359af33</uuid>
                            <expression>change(/Template Shelly Motion - MQTT/uptime)&lt;0</expression>
                            <name>Device has been restarted</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>7287d9c1a7c94a5ab364aa2e3140829d</uuid>
                    <name>WiFi connected</name>
                    <type>DEPENDENT</type>
                    <key>wifi_sta.connected</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.wifi_sta.connected</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>WiFi</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>7557163db8ce4bb292f0e7e262d7ea55</uuid>
                    <name>WiFi IP</name>
                    <type>DEPENDENT</type>
                    <key>wifi_sta.ip</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.wifi_sta.ip</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>WiFi</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>b2a774d369c54c1c9388ad79aa6b0e48</uuid>
                    <name>WiFi RSSI</name>
                    <type>DEPENDENT</type>
                    <key>wifi_sta.rssi</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>dBm</units>
                    <valuemap>
                        <name>Received Signal Strength Indicator</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.wifi_sta.rssi</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>WiFi</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>7c9cbf36eada4b6a91bc2d7ded63841c</uuid>
                    <name>WiFi SSID</name>
                    <type>DEPENDENT</type>
                    <key>wifi_sta.ssid</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.wifi_sta.ssid</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>WiFi</value>
                        </tag>
                    </tags>
                </item>
            </items>
            <macros>
                <macro>
                    <macro>{$MQTT_BROKER_HOST}</macro>
                    <value>tcp://localhost:1883</value>
                    <description>MQTT broker host</description>
                </macro>
                <macro>
                    <macro>{$MQTT_BROKER_PASS}</macro>
                    <type>SECRET_TEXT</type>
                    <description>MQTT broker password, if configured</description>
                </macro>
                <macro>
                    <macro>{$MQTT_BROKER_USER}</macro>
                    <description>MQTT broker user, if configured</description>
                </macro>
                <macro>
                    <macro>{$MQTT_DEVICE_ID}</macro>
                    <description>Shelly device MQTT ID</description>
                </macro>
            </macros>
            <valuemaps>
                <valuemap>
                    <uuid>72537e98ecb741e7805afd7f3d494dfb</uuid>
                    <name>Motion</name>
                    <mappings>
                        <mapping>
                            <value>1</value>
                            <newvalue>Motion</newvalue>
                        </mapping>
                        <mapping>
                            <value>0</value>
                            <newvalue>No motion</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
                <valuemap>
                    <uuid>1e4e762895464e00a3311572e4dfc65f</uuid>
                    <name>Received Signal Strength Indicator</name>
                    <mappings>
                        <mapping>
                            <type>GREATER_OR_EQUAL</type>
                            <value>-30</value>
                            <newvalue>Amazing</newvalue>
                        </mapping>
                        <mapping>
                            <type>GREATER_OR_EQUAL</type>
                            <value>-67</value>
                            <newvalue>Very Good</newvalue>
                        </mapping>
                        <mapping>
                            <type>GREATER_OR_EQUAL</type>
                            <value>-70</value>
                            <newvalue>Good</newvalue>
                        </mapping>
                        <mapping>
                            <type>GREATER_OR_EQUAL</type>
                            <value>-80</value>
                            <newvalue>Not Good</newvalue>
                        </mapping>
                        <mapping>
                            <type>LESS_OR_EQUAL</type>
                            <value>-81</value>
                            <newvalue>Unusable</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
                <valuemap>
                    <uuid>f09b01e65abe40f3a27976d80ebfec84</uuid>
                    <name>Self-check</name>
                    <mappings>
                        <mapping>
                            <value>1</value>
                            <newvalue>Working</newvalue>
                        </mapping>
                        <mapping>
                            <value>0</value>
                            <newvalue>Not working</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
                <valuemap>
                    <uuid>e03b534f829447d395603c7ee1f94527</uuid>
                    <name>Tampering</name>
                    <mappings>
                        <mapping>
                            <value>1</value>
                            <newvalue>Tamper</newvalue>
                        </mapping>
                        <mapping>
                            <value>0</value>
                            <newvalue>No tamper</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
            </valuemaps>
        </template>
        <template>
            <uuid>42740ba2769246749725e554c85c1ce4</uuid>
            <template>Template Shelly Plug and Plug-S</template>
            <name>Template Shelly Plug and Plug-S</name>
            <templates>
                <template>
                    <name>Template Module ICMP Ping</name>
                </template>
            </templates>
            <groups>
                <group>
                    <name>Shelly</name>
                </group>
                <group>
                    <name>Templates/Network devices</name>
                </group>
            </groups>
            <items>
                <item>
                    <uuid>91a3a9b4d6e042d9974f3f6da8533111</uuid>
                    <name>Skipped actions</name>
                    <type>DEPENDENT</type>
                    <key>actions_stats.skipped</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.actions_stats.skipped</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>ef2ec6de85e04718a580de0137ccde0a</uuid>
                            <expression>change(/Template Shelly Plug and Plug-S/actions_stats.skipped)&gt;0</expression>
                            <name>At least one action has been skipped</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>86798a7581e94a3da5de969dfe714c91</uuid>
                    <name>System configuration changes</name>
                    <type>DEPENDENT</type>
                    <key>cfg_changed_cnt</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.cfg_changed_cnt</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>1dea1922d7f34cc891bac891702500ab</uuid>
                            <expression>change(/Template Shelly Plug and Plug-S/cfg_changed_cnt)&gt;0</expression>
                            <name>System configuration has been changed</name>
                            <priority>INFO</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>d7d700f5cc23428aa78cba0fb4d5de63</uuid>
                    <name>Cloud connected</name>
                    <type>DEPENDENT</type>
                    <key>cloud.connected</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.cloud.connected</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Cloud</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>08df627ef0e14dc281a06099f561f9b8</uuid>
                            <expression>change(/Template Shelly Plug and Plug-S/cloud.connected)&lt;&gt;0</expression>
                            <name>Cloud connection state has changed</name>
                            <priority>AVERAGE</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Cloud</value>
                                </tag>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>85163193a7484dfb90b6ff8b1cc0a038</uuid>
                    <name>Cloud enabled</name>
                    <type>DEPENDENT</type>
                    <key>cloud.enabled</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.cloud.enabled</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Cloud</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>91ae9e1dceeb432e825d458b1ff23625</uuid>
                            <expression>change(/Template Shelly Plug and Plug-S/cloud.enabled)&lt;&gt;0</expression>
                            <name>Cloud configuration has changed</name>
                            <priority>INFO</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Cloud</value>
                                </tag>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>70255db192b7468784ef943006118bca</uuid>
                    <name>File system free size</name>
                    <type>DEPENDENT</type>
                    <key>fs_free</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.fs_free</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>70b2b8f077ba4d22884f12f6a481ab59</uuid>
                    <name>File system total size</name>
                    <type>DEPENDENT</type>
                    <key>fs_size</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.fs_size</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>5b8afd21a3684254a62a9b12bf412986</uuid>
                    <name>Electrometer self-check</name>
                    <type>DEPENDENT</type>
                    <key>meters-0.is_valid</key>
                    <delay>0</delay>
                    <valuemap>
                        <name>Self-check</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.meters[0].is_valid</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>BOOL_TO_DECIMAL</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Self-check</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>48b0d608a6304457900ad74be46115c6</uuid>
                    <name>Electrometer overpower occurred</name>
                    <type>DEPENDENT</type>
                    <key>meters-0.overpower</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.meters[0].overpower</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>8bcfea1aa8ee409e992159eb460111bc</uuid>
                            <expression>last(/Template Shelly Plug and Plug-S/meters-0.overpower)=&quot;true&quot;</expression>
                            <name>Overpower event has been detected</name>
                            <priority>DISASTER</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Relay</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>8a6f5a3389bb4a34a64852dcaea9bc4c</uuid>
                    <name>Electrometer power</name>
                    <type>DEPENDENT</type>
                    <key>meters-0.power</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>W</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.meters[0].power</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>927bd642a38a4aca92f013539befec6d</uuid>
                    <name>Electrometer total consumed</name>
                    <type>DEPENDENT</type>
                    <key>meters-0.total</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>Wh</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.meters[0].total</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>1fd6f125271642acb5dd4aa4cc938f47</uuid>
                    <name>MQTT connected</name>
                    <type>DEPENDENT</type>
                    <key>mqtt.connected</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.mqtt.connected</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>MQTT</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>bde85e437d734a91ad6066451590d451</uuid>
                            <expression>change(/Template Shelly Plug and Plug-S/mqtt.connected)&lt;&gt;0</expression>
                            <name>MQTT connection state has changed</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>cd8d3212af3840c7913fa1a3b6ce1d0d</uuid>
                    <name>Device overtemperature occurred</name>
                    <type>DEPENDENT</type>
                    <key>overtemperature</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.overtemperature</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Temperature</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>5fbc7758a5244056af7c583eb646f4e4</uuid>
                            <expression>last(/Template Shelly Plug and Plug-S/overtemperature)=&quot;true&quot;</expression>
                            <name>Overtemperature event has been detected</name>
                            <priority>DISASTER</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Temperature</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>c9e1f361ece24579b7104d8279813bdc</uuid>
                    <name>RAM free</name>
                    <type>DEPENDENT</type>
                    <key>ram_free</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.ram_free</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>fe87dfe1292749278da40e85afe49354</uuid>
                    <name>RAM total</name>
                    <type>DEPENDENT</type>
                    <key>ram_total</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.ram_total</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>648a71b874f948c28391fad1b9b64416</uuid>
                    <name>Relay has timer</name>
                    <type>DEPENDENT</type>
                    <key>relays-0.has_timer</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.relays[0].has_timer</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Relay</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>786f236af2b84d0f943121b407586854</uuid>
                    <name>Relay turned on</name>
                    <type>DEPENDENT</type>
                    <key>relays-0.ison</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.relays[0].ison</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Relay</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>346502b7bec243288ed9c88c04879cbc</uuid>
                            <expression>change(/Template Shelly Plug and Plug-S/relays-0.ison)&lt;&gt;0</expression>
                            <name>Relay state has changed</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Relay</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>ee5a0c03b9aa4679befaa0540d9b9bc9</uuid>
                    <name>Relay overpower occurred</name>
                    <type>DEPENDENT</type>
                    <key>relays-0.overpower</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.relays[0].overpower</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Relay</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>d35da485f66644a3bf8edfacaa45c76b</uuid>
                            <expression>last(/Template Shelly Plug and Plug-S/relays-0.overpower)=&quot;true&quot;</expression>
                            <name>Overpower event has been detected</name>
                            <priority>DISASTER</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Relay</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>76c73cc4c4db43dd902804bdb4ca1a8e</uuid>
                    <name>Relays last command source</name>
                    <type>DEPENDENT</type>
                    <key>relays-0.source</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.relays[0].source</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Relay</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>b2d9605591e545fdb129785e2514a381</uuid>
                    <name>Relay timer duration</name>
                    <type>DEPENDENT</type>
                    <key>relays-0.timer_duration</key>
                    <delay>0</delay>
                    <units>s</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.relays[0].timer_duration</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Relay</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>11363348cce14f26b3df57f983f89fa3</uuid>
                    <name>Relay timer remaining</name>
                    <type>DEPENDENT</type>
                    <key>relays-0.timer_remaining</key>
                    <delay>0</delay>
                    <units>s</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.relays[0].timer_remaining</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Relay</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>988dc400cb2b449cbff9b5df6c29f80d</uuid>
                    <name>Relay timer started</name>
                    <type>DEPENDENT</type>
                    <key>relays-0.timer_started</key>
                    <delay>0</delay>
                    <units>unixtime</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.relays[0].timer_started</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Relay</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>bee23426b54245b1a19ad658b67d8b6c</uuid>
                    <name>Status data</name>
                    <type>HTTP_AGENT</type>
                    <key>status</key>
                    <delay>30</delay>
                    <history>1h</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <authtype>BASIC</authtype>
                    <username>{$SHELLY_USER}</username>
                    <password>{$SHELLY_PASS}</password>
                    <description>Collect data from Shelly device status API.</description>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.body</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <url>http://{HOST.IP}/status</url>
                    <follow_redirects>NO</follow_redirects>
                    <output_format>JSON</output_format>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Data collection</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>0f12dac3e7ab450d93a2162a3d4dcbad</uuid>
                            <expression>nodata(/Template Shelly Plug and Plug-S/status,120s)=1</expression>
                            <name>No data received</name>
                            <priority>HIGH</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Data collection</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>6e62338a33f44024a19caaf980332d06</uuid>
                    <name>Temperature self-check</name>
                    <type>DEPENDENT</type>
                    <key>tmp.is_valid</key>
                    <delay>0</delay>
                    <valuemap>
                        <name>Self-check</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.tmp.is_valid</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>BOOL_TO_DECIMAL</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Self-check</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Temperature</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>51bf83593a26418d95ae113d80b6352d</uuid>
                    <name>Temperature in Celsius</name>
                    <type>DEPENDENT</type>
                    <key>tmp.tC</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>°C</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.tmp.tC</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Temperature</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>f5c54d9efa124b90b8a669d7f4e74cd9</uuid>
                    <name>Temperature in Fahrenheit</name>
                    <type>DEPENDENT</type>
                    <key>tmp.tF</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>°F</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.tmp.tF</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Temperature</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>f384c05104a04255b1c45eae4d4ccefd</uuid>
                    <name>Device time</name>
                    <type>DEPENDENT</type>
                    <key>unixtime</key>
                    <delay>0</delay>
                    <units>unixtime</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.unixtime</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>3d82b0ea7ca94ab9bc315499b6664cae</uuid>
                            <expression>fuzzytime(/Template Shelly Plug and Plug-S/unixtime,60s)=0</expression>
                            <name>Time is out of sync</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>49596ea9fdf14dd0995948b53cf22066</uuid>
                    <name>Update available</name>
                    <type>DEPENDENT</type>
                    <key>update.has_update</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.update.has_update</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>d538eeb87492428cb6347c4d5fa3482f</uuid>
                            <expression>last(/Template Shelly Plug and Plug-S/update.has_update)=&quot;true&quot;</expression>
                            <name>Update available</name>
                            <priority>INFO</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>5e8b1885642c45ba9a03d1f8a23efb32</uuid>
                    <name>Firmware new version</name>
                    <type>DEPENDENT</type>
                    <key>update.new_version</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.update.new_version</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>9764737b1140495c96042c8d4b5a5a7f</uuid>
                    <name>Firmware old version</name>
                    <type>DEPENDENT</type>
                    <key>update.old_version</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.update.old_version</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>7ddaa3818c234968a25381497fc8e71c</uuid>
                            <expression>change(/Template Shelly Plug and Plug-S/update.old_version)&lt;&gt;0</expression>
                            <name>Version has changed</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>22423744cd0d40f694acfde3fe9c98c2</uuid>
                    <name>Uptime</name>
                    <type>DEPENDENT</type>
                    <key>uptime</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <units>uptime</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.uptime</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>38438df02abe47ca8ca10675624b615a</uuid>
                            <expression>change(/Template Shelly Plug and Plug-S/uptime)&lt;0</expression>
                            <name>Device has been restarted</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>7fec7a57b4a54af3a4f87c53fe5bee06</uuid>
                    <name>WiFi connected</name>
                    <type>DEPENDENT</type>
                    <key>wifi_sta.connected</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.wifi_sta.connected</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>WiFi</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>06850685459e43a899c163c7b6dcb553</uuid>
                    <name>WiFi IP</name>
                    <type>DEPENDENT</type>
                    <key>wifi_sta.ip</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.wifi_sta.ip</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>WiFi</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>8ae762bd211a444fb8c12ed786bf6ae6</uuid>
                    <name>WiFi RSSI</name>
                    <type>DEPENDENT</type>
                    <key>wifi_sta.rssi</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <value_type>FLOAT</value_type>
                    <units>dBm</units>
                    <valuemap>
                        <name>Received Signal Strength Indicator</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.wifi_sta.rssi</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>WiFi</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>8103f845df5d40479c0dd3f933fa61cf</uuid>
                    <name>WiFi SSID</name>
                    <type>DEPENDENT</type>
                    <key>wifi_sta.ssid</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.wifi_sta.ssid</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>WiFi</value>
                        </tag>
                    </tags>
                </item>
            </items>
            <macros>
                <macro>
                    <macro>{$SHELLY_PASS}</macro>
                    <type>SECRET_TEXT</type>
                    <description>Device password, if configured</description>
                </macro>
                <macro>
                    <macro>{$SHELLY_USER}</macro>
                    <value>admin</value>
                    <description>Device user, if configured</description>
                </macro>
            </macros>
            <valuemaps>
                <valuemap>
                    <uuid>89a0bf3bd4ad4ff097c9ccd100e361d2</uuid>
                    <name>Received Signal Strength Indicator</name>
                    <mappings>
                        <mapping>
                            <type>GREATER_OR_EQUAL</type>
                            <value>-30</value>
                            <newvalue>Amazing</newvalue>
                        </mapping>
                        <mapping>
                            <type>GREATER_OR_EQUAL</type>
                            <value>-67</value>
                            <newvalue>Very Good</newvalue>
                        </mapping>
                        <mapping>
                            <type>GREATER_OR_EQUAL</type>
                            <value>-70</value>
                            <newvalue>Good</newvalue>
                        </mapping>
                        <mapping>
                            <type>GREATER_OR_EQUAL</type>
                            <value>-80</value>
                            <newvalue>Not Good</newvalue>
                        </mapping>
                        <mapping>
                            <type>LESS_OR_EQUAL</type>
                            <value>-81</value>
                            <newvalue>Unusable</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
                <valuemap>
                    <uuid>c5c4dc08a6114690af2e1f7e30a2114a</uuid>
                    <name>Self-check</name>
                    <mappings>
                        <mapping>
                            <value>1</value>
                            <newvalue>Working</newvalue>
                        </mapping>
                        <mapping>
                            <value>0</value>
                            <newvalue>Not working</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
            </valuemaps>
        </template>
        <template>
            <uuid>225341e8812846f684a475d8bf8c0e11</uuid>
            <template>Template Shelly Plug and Plug-S - MQTT</template>
            <name>Template Shelly Plug and Plug-S - MQTT</name>
            <groups>
                <group>
                    <name>Shelly</name>
                </group>
                <group>
                    <name>Templates/Network devices</name>
                </group>
            </groups>
            <items>
                <item>
                    <uuid>330d1809adb14dca931a33e91e17715d</uuid>
                    <name>Skipped actions</name>
                    <type>DEPENDENT</type>
                    <key>actions_stats.skipped</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.actions_stats.skipped</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>255fb503e873486d995a5a8f35b1fe42</uuid>
                            <expression>change(/Template Shelly Plug and Plug-S - MQTT/actions_stats.skipped)&gt;0</expression>
                            <name>At least one action has been skipped</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>56415c86b7e546b2802edd7b84c60ec9</uuid>
                    <name>System configuration changes</name>
                    <type>DEPENDENT</type>
                    <key>cfg_changed_cnt</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.cfg_changed_cnt</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>79f27555e7744f439b8b6b17e4456165</uuid>
                            <expression>change(/Template Shelly Plug and Plug-S - MQTT/cfg_changed_cnt)&gt;0</expression>
                            <name>System configuration has been changed</name>
                            <priority>INFO</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>e5d9bd923b8c4ae99717b3ee3bcf7cf5</uuid>
                    <name>Cloud connected</name>
                    <type>DEPENDENT</type>
                    <key>cloud.connected</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.cloud.connected</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Cloud</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>066c3e4e07ff43dbb60a7f3d3606af2c</uuid>
                            <expression>change(/Template Shelly Plug and Plug-S - MQTT/cloud.connected)&lt;&gt;0</expression>
                            <name>Cloud connection state has changed</name>
                            <priority>AVERAGE</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Cloud</value>
                                </tag>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>1813d96eeac34855946ac4ded881267c</uuid>
                    <name>Cloud enabled</name>
                    <type>DEPENDENT</type>
                    <key>cloud.enabled</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.cloud.enabled</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Cloud</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>69b1dfe576ba41d584c9ff972d0670bf</uuid>
                            <expression>change(/Template Shelly Plug and Plug-S - MQTT/cloud.enabled)&lt;&gt;0</expression>
                            <name>Cloud configuration has changed</name>
                            <priority>INFO</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Cloud</value>
                                </tag>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>48d85cf2c56e4ed1905fd33557d23397</uuid>
                    <name>File system free size</name>
                    <type>DEPENDENT</type>
                    <key>fs_free</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.fs_free</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>3d5fa9dc2f3d4be5870f0b77ffb57bd4</uuid>
                    <name>File system total size</name>
                    <type>DEPENDENT</type>
                    <key>fs_size</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.fs_size</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>08c1ad0483cb4d5db0e99caafb365822</uuid>
                    <name>Electrometer self-check</name>
                    <type>DEPENDENT</type>
                    <key>meters-0.is_valid</key>
                    <delay>0</delay>
                    <valuemap>
                        <name>Self-check</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.meters[0].is_valid</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>BOOL_TO_DECIMAL</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Self-check</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>a11e22358b864304871a946147073859</uuid>
                    <name>Electrometer overpower occurred</name>
                    <type>DEPENDENT</type>
                    <key>meters-0.overpower</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.meters[0].overpower</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>a42d14f3658448fbbf1fd25fac2d356a</uuid>
                            <expression>last(/Template Shelly Plug and Plug-S - MQTT/meters-0.overpower)=&quot;true&quot;</expression>
                            <name>Overpower event has been detected</name>
                            <priority>DISASTER</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Relay</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>aadf8d0b23374d9fbdf0f3fab21dfcb8</uuid>
                    <name>Electrometer power</name>
                    <type>DEPENDENT</type>
                    <key>meters-0.power</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>W</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.meters[0].power</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>4662338f6cba40a88f35cee6a0ed5379</uuid>
                    <name>Electrometer total consumed</name>
                    <type>DEPENDENT</type>
                    <key>meters-0.total</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>Wh</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.meters[0].total</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Electrometer</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>5349d53df71c4d9b96927926e4e7680c</uuid>
                    <name>MQTT connected</name>
                    <type>DEPENDENT</type>
                    <key>mqtt.connected</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.mqtt.connected</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>MQTT</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>6e22c44186c34eb9bab66152c29f1eca</uuid>
                            <expression>change(/Template Shelly Plug and Plug-S - MQTT/mqtt.connected)&lt;&gt;0</expression>
                            <name>MQTT connection state has changed</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>80d059ecd4234b2eace45e651455b26d</uuid>
                    <name>Status data</name>
                    <type>ZABBIX_ACTIVE</type>
                    <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    <delay>0</delay>
                    <history>1h</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <description>Collect data from Shelly device status topic.</description>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Data collection</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>75de9ddcb1af4cd4b72a3341b14decae</uuid>
                            <expression>nodata(/Template Shelly Plug and Plug-S - MQTT/mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}],120s)=1</expression>
                            <name>No data received</name>
                            <priority>HIGH</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Data collection</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>2f4bb70085f6489ca8012e3809a3b68c</uuid>
                    <name>Device overtemperature occurred</name>
                    <type>DEPENDENT</type>
                    <key>overtemperature</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.overtemperature</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Temperature</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>7e4902e68934486b91158e294b41452d</uuid>
                            <expression>last(/Template Shelly Plug and Plug-S - MQTT/overtemperature)=&quot;true&quot;</expression>
                            <name>Overtemperature event has been detected</name>
                            <priority>DISASTER</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Temperature</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>f9fdfb57ea404f7f8ec4651931f4845d</uuid>
                    <name>RAM free</name>
                    <type>DEPENDENT</type>
                    <key>ram_free</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.ram_free</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>dccd1f2d8a644a9fa995e26f4622224b</uuid>
                    <name>RAM total</name>
                    <type>DEPENDENT</type>
                    <key>ram_total</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <units>B</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.ram_total</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>9567db9ca7c04e58aa55ae438c88e2a6</uuid>
                    <name>Relay has timer</name>
                    <type>DEPENDENT</type>
                    <key>relays-0.has_timer</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.relays[0].has_timer</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Relay</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>a212f8c7dd1d4ebd87e426ec0e9d9e0d</uuid>
                    <name>Relay turned on</name>
                    <type>DEPENDENT</type>
                    <key>relays-0.ison</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.relays[0].ison</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Relay</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>934856a143e247e9abfb46ee6da84d6d</uuid>
                            <expression>change(/Template Shelly Plug and Plug-S - MQTT/relays-0.ison)&lt;&gt;0</expression>
                            <name>Relay state has changed</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Relay</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>9f836949df92403fa95b743411cd6e61</uuid>
                    <name>Relay overpower occurred</name>
                    <type>DEPENDENT</type>
                    <key>relays-0.overpower</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.relays[0].overpower</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Relay</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>fe24da85a7fa4eea8091a8a408ac4ddf</uuid>
                            <expression>last(/Template Shelly Plug and Plug-S - MQTT/relays-0.overpower)=&quot;true&quot;</expression>
                            <name>Overpower event has been detected</name>
                            <priority>DISASTER</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>Relay</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>9001301e669444deac2b66b5ff8d0e96</uuid>
                    <name>Relays last command source</name>
                    <type>DEPENDENT</type>
                    <key>relays-0.source</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.relays[0].source</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Relay</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>b7e871ecaee249f9a63cb1f90c93501b</uuid>
                    <name>Relay timer duration</name>
                    <type>DEPENDENT</type>
                    <key>relays-0.timer_duration</key>
                    <delay>0</delay>
                    <units>s</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.relays[0].timer_duration</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Relay</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>df1463c584a443bfbc11e4560fd8f8e0</uuid>
                    <name>Relay timer remaining</name>
                    <type>DEPENDENT</type>
                    <key>relays-0.timer_remaining</key>
                    <delay>0</delay>
                    <units>s</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.relays[0].timer_remaining</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Relay</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>1a96f51bbcdc43f987a32a3d965ec33e</uuid>
                    <name>Relay timer started</name>
                    <type>DEPENDENT</type>
                    <key>relays-0.timer_started</key>
                    <delay>0</delay>
                    <units>unixtime</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.relays[0].timer_started</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Relay</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>28ddcd40a68447a1b5ff8d2a665c96c2</uuid>
                    <name>Temperature self-check</name>
                    <type>DEPENDENT</type>
                    <key>tmp.is_valid</key>
                    <delay>0</delay>
                    <valuemap>
                        <name>Self-check</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.tmp.is_valid</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>BOOL_TO_DECIMAL</type>
                            <parameters>
                                <parameter/>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Self-check</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>Temperature</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>05f1aa3437f542efba1859197ab4fa9c</uuid>
                    <name>Temperature in Celsius</name>
                    <type>DEPENDENT</type>
                    <key>tmp.tC</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>°C</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.tmp.tC</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Temperature</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>eaa1657c3f1147768378107065288e8e</uuid>
                    <name>Temperature in Fahrenheit</name>
                    <type>DEPENDENT</type>
                    <key>tmp.tF</key>
                    <delay>0</delay>
                    <value_type>FLOAT</value_type>
                    <units>°F</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.tmp.tF</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Temperature</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>39e4e3f9bf0d462cb495311ddb7a0a92</uuid>
                    <name>Device time</name>
                    <type>DEPENDENT</type>
                    <key>unixtime</key>
                    <delay>0</delay>
                    <units>unixtime</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.unixtime</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>12efd2daf76f4e8699ddf911b7ab859f</uuid>
                            <expression>fuzzytime(/Template Shelly Plug and Plug-S - MQTT/unixtime,60s)=0</expression>
                            <name>Time is out of sync</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>a0ca56e615a64e56bb2ac4ae474bd304</uuid>
                    <name>Update available</name>
                    <type>DEPENDENT</type>
                    <key>update.has_update</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.update.has_update</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>7cb08a0449734f81aa4eb3419edc858d</uuid>
                            <expression>last(/Template Shelly Plug and Plug-S - MQTT/update.has_update)=&quot;true&quot;</expression>
                            <name>Update available</name>
                            <priority>INFO</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>133ad50ecd344a40825e252605af744d</uuid>
                    <name>Firmware new version</name>
                    <type>DEPENDENT</type>
                    <key>update.new_version</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.update.new_version</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>2475b41aa3914e79992aa871df0cee0d</uuid>
                    <name>Firmware old version</name>
                    <type>DEPENDENT</type>
                    <key>update.old_version</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.update.old_version</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>70fc06cd03914e9fa02d295db3e0380f</uuid>
                            <expression>change(/Template Shelly Plug and Plug-S - MQTT/update.old_version)&lt;&gt;0</expression>
                            <name>Version has changed</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>0995316d88c64692a39e7e3cf5dc5c6b</uuid>
                    <name>Uptime</name>
                    <type>DEPENDENT</type>
                    <key>uptime</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <units>uptime</units>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.uptime</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                    </tags>
                    <triggers>
                        <trigger>
                            <uuid>02f35b7bfbf34a0ca7d5b2dd6da96430</uuid>
                            <expression>change(/Template Shelly Plug and Plug-S - MQTT/uptime)&lt;0</expression>
                            <name>Device has been restarted</name>
                            <priority>WARNING</priority>
                            <tags>
                                <tag>
                                    <tag>Application</tag>
                                    <value>System</value>
                                </tag>
                            </tags>
                        </trigger>
                    </triggers>
                </item>
                <item>
                    <uuid>851ee3e1108e4cf98e02d2593cb9cc91</uuid>
                    <name>WiFi connected</name>
                    <type>DEPENDENT</type>
                    <key>wifi_sta.connected</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.wifi_sta.connected</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>WiFi</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>5a86cfa8c61a42c9a5837f8e6cfa833e</uuid>
                    <name>WiFi IP</name>
                    <type>DEPENDENT</type>
                    <key>wifi_sta.ip</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.wifi_sta.ip</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>WiFi</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>ef6dde355c4947dc9f69d8515c8b162b</uuid>
                    <name>WiFi RSSI</name>
                    <type>DEPENDENT</type>
                    <key>wifi_sta.rssi</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <value_type>FLOAT</value_type>
                    <units>dBm</units>
                    <valuemap>
                        <name>Received Signal Strength Indicator</name>
                    </valuemap>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.wifi_sta.rssi</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>WiFi</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>de7f088c6c5e42c6b77b30525a88ce72</uuid>
                    <name>WiFi SSID</name>
                    <type>DEPENDENT</type>
                    <key>wifi_sta.ssid</key>
                    <delay>0</delay>
                    <history>10d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.wifi_sta.ssid</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>mqtt.get[{$MQTT_BROKER_HOST},shellies/{$MQTT_DEVICE_ID}/info,{$MQTT_BROKER_USER},{$MQTT_BROKER_PASS}]</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>System</value>
                        </tag>
                        <tag>
                            <tag>Application</tag>
                            <value>WiFi</value>
                        </tag>
                    </tags>
                </item>
            </items>
            <macros>
                <macro>
                    <macro>{$MQTT_BROKER_HOST}</macro>
                    <value>tcp://localhost:1883</value>
                    <description>MQTT broker host</description>
                </macro>
                <macro>
                    <macro>{$MQTT_BROKER_PASS}</macro>
                    <type>SECRET_TEXT</type>
                    <description>MQTT broker password, if configured</description>
                </macro>
                <macro>
                    <macro>{$MQTT_BROKER_USER}</macro>
                    <description>MQTT broker user, if configured</description>
                </macro>
                <macro>
                    <macro>{$MQTT_DEVICE_ID}</macro>
                    <description>Shelly device MQTT ID</description>
                </macro>
            </macros>
            <valuemaps>
                <valuemap>
                    <uuid>66528c50ab8545a594ad0a057ddbb4a0</uuid>
                    <name>Received Signal Strength Indicator</name>
                    <mappings>
                        <mapping>
                            <type>GREATER_OR_EQUAL</type>
                            <value>-30</value>
                            <newvalue>Amazing</newvalue>
                        </mapping>
                        <mapping>
                            <type>GREATER_OR_EQUAL</type>
                            <value>-67</value>
                            <newvalue>Very Good</newvalue>
                        </mapping>
                        <mapping>
                            <type>GREATER_OR_EQUAL</type>
                            <value>-70</value>
                            <newvalue>Good</newvalue>
                        </mapping>
                        <mapping>
                            <type>GREATER_OR_EQUAL</type>
                            <value>-80</value>
                            <newvalue>Not Good</newvalue>
                        </mapping>
                        <mapping>
                            <type>LESS_OR_EQUAL</type>
                            <value>-81</value>
                            <newvalue>Unusable</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
                <valuemap>
                    <uuid>625274c7a7884238bd32c6289b1483e3</uuid>
                    <name>Self-check</name>
                    <mappings>
                        <mapping>
                            <value>1</value>
                            <newvalue>Working</newvalue>
                        </mapping>
                        <mapping>
                            <value>0</value>
                            <newvalue>Not working</newvalue>
                        </mapping>
                    </mappings>
                </valuemap>
            </valuemaps>
        </template>
    </templates>
    <triggers>
        <trigger>
            <uuid>74d8fe16f2764d31a003c8afed9e360c</uuid>
            <expression>last(/Template Shelly Motion - MQTT/sensor.motion)=1</expression>
            <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
            <recovery_expression>sum(/Template Shelly Motion - MQTT/sensor.motion,10m)=0 or last(/Template Shelly Motion - MQTT/sensor.active)=&quot;false&quot;</recovery_expression>
            <name>Motion detected</name>
            <priority>HIGH</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>Motion sensor</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>71c7888b78754f749eba7cdc6da77e13</uuid>
            <expression>last(/Template Shelly Motion/sensor.motion)=1</expression>
            <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
            <recovery_expression>sum(/Template Shelly Motion/sensor.motion,10m)=0 or last(/Template Shelly Motion/sensor.active)=&quot;false&quot;</recovery_expression>
            <name>Motion detected</name>
            <priority>HIGH</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>Motion sensor</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>3446d37ebd4f4aa4a71f7235b5e58ef5</uuid>
            <expression>last(/Template Shelly 3EM - MQTT/fs_free)&gt;=last(/Template Shelly 3EM - MQTT/fs_size)*0.8 and last(/Template Shelly 3EM - MQTT/fs_free)&lt;last(/Template Shelly 3EM - MQTT/fs_size)*0.9</expression>
            <name>Sensor file system space is low</name>
            <status>DISABLED</status>
            <priority>WARNING</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>System</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>6c731f22b342478ab8e1a3e92503a9c6</uuid>
            <expression>last(/Template Shelly 3EM - MQTT/fs_free)&gt;=last(/Template Shelly 3EM - MQTT/fs_size)*0.9</expression>
            <name>Sensor file system space is low</name>
            <status>DISABLED</status>
            <priority>AVERAGE</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>System</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>0cdc792f96b94ae89a56ba75cdda716c</uuid>
            <expression>last(/Template Shelly 3EM/fs_free)&gt;=last(/Template Shelly 3EM/fs_size)*0.8 and last(/Template Shelly 3EM/fs_free)&lt;last(/Template Shelly 3EM/fs_size)*0.9</expression>
            <name>Sensor file system space is low</name>
            <status>DISABLED</status>
            <priority>WARNING</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>System</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>3e1fe8780db745fc93cc1d25a4b5e504</uuid>
            <expression>last(/Template Shelly 3EM/fs_free)&gt;=last(/Template Shelly 3EM/fs_size)*0.9</expression>
            <name>Sensor file system space is low</name>
            <status>DISABLED</status>
            <priority>AVERAGE</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>System</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>8cf9c39a72d846139565b5577f296da3</uuid>
            <expression>last(/Template Shelly Motion - MQTT/fs_free)&gt;=last(/Template Shelly Motion - MQTT/fs_size)*0.8 and last(/Template Shelly Motion - MQTT/fs_free)&lt;last(/Template Shelly Motion - MQTT/fs_size)*0.9</expression>
            <name>Sensor file system space is low</name>
            <status>DISABLED</status>
            <priority>WARNING</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>System</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>f53b6b1333e346e4b5356fdfb6a4163c</uuid>
            <expression>last(/Template Shelly Motion - MQTT/fs_free)&gt;=last(/Template Shelly Motion - MQTT/fs_size)*0.9</expression>
            <name>Sensor file system space is low</name>
            <status>DISABLED</status>
            <priority>AVERAGE</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>System</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>d2bfc3c5b2ab4b24b81f40142d9ae9e5</uuid>
            <expression>last(/Template Shelly Motion/fs_free)&gt;=last(/Template Shelly Motion/fs_size)*0.8 and last(/Template Shelly Motion/fs_free)&lt;last(/Template Shelly Motion/fs_size)*0.9</expression>
            <name>Sensor file system space is low</name>
            <status>DISABLED</status>
            <priority>WARNING</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>System</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>19efb44f5a574a268205631f8f15ecd0</uuid>
            <expression>last(/Template Shelly Motion/fs_free)&gt;=last(/Template Shelly Motion/fs_size)*0.9</expression>
            <name>Sensor file system space is low</name>
            <status>DISABLED</status>
            <priority>AVERAGE</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>System</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>911a6f09a42449259ea48f524a488532</uuid>
            <expression>last(/Template Shelly Plug and Plug-S - MQTT/fs_free)&gt;=last(/Template Shelly Plug and Plug-S - MQTT/fs_size)*0.8 and last(/Template Shelly Plug and Plug-S - MQTT/fs_free)&lt;last(/Template Shelly Plug and Plug-S - MQTT/fs_size)*0.9</expression>
            <name>Sensor file system space is low</name>
            <status>DISABLED</status>
            <priority>WARNING</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>System</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>0857f26833f34ee18cab5f256cded41a</uuid>
            <expression>last(/Template Shelly Plug and Plug-S - MQTT/fs_free)&gt;=last(/Template Shelly Plug and Plug-S - MQTT/fs_size)*0.9</expression>
            <name>Sensor file system space is low</name>
            <status>DISABLED</status>
            <priority>AVERAGE</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>System</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>05bbe39f9fba4ea48985f2d8940d6353</uuid>
            <expression>last(/Template Shelly Plug and Plug-S/fs_free)&gt;=last(/Template Shelly Plug and Plug-S/fs_size)*0.8 and last(/Template Shelly Plug and Plug-S/fs_free)&lt;last(/Template Shelly Plug and Plug-S/fs_size)*0.9</expression>
            <name>Sensor file system space is low</name>
            <status>DISABLED</status>
            <priority>WARNING</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>System</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>a8f26ba02be4485aaadbd07ab0a8da73</uuid>
            <expression>last(/Template Shelly Plug and Plug-S/fs_free)&gt;=last(/Template Shelly Plug and Plug-S/fs_size)*0.9</expression>
            <name>Sensor file system space is low</name>
            <status>DISABLED</status>
            <priority>AVERAGE</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>System</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>20b7fccb6c524d659532c95535a89417</uuid>
            <expression>last(/Template Shelly 3EM - MQTT/ram_free)&gt;=last(/Template Shelly 3EM - MQTT/ram_total)*0.8 and last(/Template Shelly 3EM - MQTT/ram_free)&lt;last(/Template Shelly 3EM - MQTT/ram_total)*0.9</expression>
            <name>Sensor memory is low</name>
            <status>DISABLED</status>
            <priority>WARNING</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>System</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>161510decc764d2ab5d79930c617df22</uuid>
            <expression>last(/Template Shelly 3EM - MQTT/ram_free)&gt;=last(/Template Shelly 3EM - MQTT/ram_total)*0.9</expression>
            <name>Sensor memory is low</name>
            <status>DISABLED</status>
            <priority>AVERAGE</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>System</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>eadb1851b212499890689498226b474c</uuid>
            <expression>last(/Template Shelly 3EM/ram_free)&gt;=last(/Template Shelly 3EM/ram_total)*0.8 and last(/Template Shelly 3EM/ram_free)&lt;last(/Template Shelly 3EM/ram_total)*0.9</expression>
            <name>Sensor memory is low</name>
            <status>DISABLED</status>
            <priority>WARNING</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>System</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>0b5c883005824f4db490922adc4a0022</uuid>
            <expression>last(/Template Shelly 3EM/ram_free)&gt;=last(/Template Shelly 3EM/ram_total)*0.9</expression>
            <name>Sensor memory is low</name>
            <status>DISABLED</status>
            <priority>AVERAGE</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>System</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>2d56f585ccd7473a821f07adfe4f8c60</uuid>
            <expression>last(/Template Shelly Motion - MQTT/ram_free)&gt;=last(/Template Shelly Motion - MQTT/ram_total)*0.8 and last(/Template Shelly Motion - MQTT/ram_free)&lt;last(/Template Shelly Motion - MQTT/ram_total)*0.9</expression>
            <name>Sensor memory is low</name>
            <status>DISABLED</status>
            <priority>WARNING</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>System</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>5e9ed487d0f242328dbd7f702db79cfb</uuid>
            <expression>last(/Template Shelly Motion - MQTT/ram_free)&gt;=last(/Template Shelly Motion - MQTT/ram_total)*0.9</expression>
            <name>Sensor memory is low</name>
            <status>DISABLED</status>
            <priority>AVERAGE</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>System</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>c8f6a50672b84bdc8246adaf6d6b7cae</uuid>
            <expression>last(/Template Shelly Motion/ram_free)&gt;=last(/Template Shelly Motion/ram_total)*0.8 and last(/Template Shelly Motion/ram_free)&lt;last(/Template Shelly Motion/ram_total)*0.9</expression>
            <name>Sensor memory is low</name>
            <status>DISABLED</status>
            <priority>WARNING</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>System</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>d85269fa1e7840c7adabcf79fef4414f</uuid>
            <expression>last(/Template Shelly Motion/ram_free)&gt;=last(/Template Shelly Motion/ram_total)*0.9</expression>
            <name>Sensor memory is low</name>
            <status>DISABLED</status>
            <priority>AVERAGE</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>System</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>bd73054483994cf19264e2ca6551d4c7</uuid>
            <expression>last(/Template Shelly Plug and Plug-S - MQTT/ram_free)&gt;=last(/Template Shelly Plug and Plug-S - MQTT/ram_total)*0.8 and last(/Template Shelly Plug and Plug-S - MQTT/ram_free)&lt;last(/Template Shelly Plug and Plug-S - MQTT/ram_total)*0.9</expression>
            <name>Sensor memory is low</name>
            <status>DISABLED</status>
            <priority>WARNING</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>System</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>41368409cb474c7cae715a44839dcc4c</uuid>
            <expression>last(/Template Shelly Plug and Plug-S - MQTT/ram_free)&gt;=last(/Template Shelly Plug and Plug-S - MQTT/ram_total)*0.9</expression>
            <name>Sensor memory is low</name>
            <status>DISABLED</status>
            <priority>AVERAGE</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>System</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>6eb55f0c6f6743b48c5525335da16a57</uuid>
            <expression>last(/Template Shelly Plug and Plug-S/ram_free)&gt;=last(/Template Shelly Plug and Plug-S/ram_total)*0.8 and last(/Template Shelly Plug and Plug-S/ram_free)&lt;last(/Template Shelly Plug and Plug-S/ram_total)*0.9</expression>
            <name>Sensor memory is low</name>
            <status>DISABLED</status>
            <priority>WARNING</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>System</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>6ae12da8db5e475db8e8e4b6d6220420</uuid>
            <expression>last(/Template Shelly Plug and Plug-S/ram_free)&gt;=last(/Template Shelly Plug and Plug-S/ram_total)*0.9</expression>
            <name>Sensor memory is low</name>
            <status>DISABLED</status>
            <priority>AVERAGE</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>System</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>93ffcaf61d5e4017b4fb2c83c9bb4670</uuid>
            <expression>last(/Template Shelly Motion - MQTT/sensor.vibration)=1 and last(/Template Shelly Motion - MQTT/sensor.active)=&quot;true&quot;</expression>
            <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
            <recovery_expression>sum(/Template Shelly Motion - MQTT/sensor.vibration,10m)=0 or last(/Template Shelly Motion - MQTT/sensor.active)=&quot;false&quot;</recovery_expression>
            <name>Tampering detected</name>
            <priority>HIGH</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>Motion sensor</value>
                </tag>
            </tags>
        </trigger>
        <trigger>
            <uuid>c3d1e7a6d70f4a35946c8c734af6a1f6</uuid>
            <expression>last(/Template Shelly Motion/sensor.vibration)=1 and last(/Template Shelly Motion/sensor.active)=&quot;true&quot;</expression>
            <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
            <recovery_expression>sum(/Template Shelly Motion/sensor.vibration,10m)=0 or last(/Template Shelly Motion/sensor.active)=&quot;false&quot;</recovery_expression>
            <name>Tampering detected</name>
            <priority>HIGH</priority>
            <tags>
                <tag>
                    <tag>Application</tag>
                    <value>Motion sensor</value>
                </tag>
            </tags>
        </trigger>
    </triggers>
    <graphs>
        <graph>
            <uuid>d37485c728f14dc6afd45ccbf80d0089</uuid>
            <name>Total power consumption</name>
            <graph_items>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>6C59DC</color>
                    <item>
                        <host>Template Shelly 3EM</host>
                        <key>total_power</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>2</sortorder>
                    <color>C7A72D</color>
                    <item>
                        <host>Template Shelly 3EM</host>
                        <key>emeters-0.power</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>3</sortorder>
                    <color>BA2A5D</color>
                    <item>
                        <host>Template Shelly 3EM</host>
                        <key>emeters-1.power</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>4</sortorder>
                    <color>F230E0</color>
                    <item>
                        <host>Template Shelly 3EM</host>
                        <key>emeters-2.power</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>5</sortorder>
                    <color>5CCD18</color>
                    <item>
                        <host>Template Shelly 3EM</host>
                        <key>emeters-3.power</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
        <graph>
            <uuid>694a682d2d5b487c959f65810a9171ea</uuid>
            <name>Total power consumption</name>
            <graph_items>
                <graph_item>
                    <sortorder>1</sortorder>
                    <color>6C59DC</color>
                    <item>
                        <host>Template Shelly 3EM - MQTT</host>
                        <key>total_power</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>2</sortorder>
                    <color>C7A72D</color>
                    <item>
                        <host>Template Shelly 3EM - MQTT</host>
                        <key>emeters-0.power</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>3</sortorder>
                    <color>BA2A5D</color>
                    <item>
                        <host>Template Shelly 3EM - MQTT</host>
                        <key>emeters-1.power</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>4</sortorder>
                    <color>F230E0</color>
                    <item>
                        <host>Template Shelly 3EM - MQTT</host>
                        <key>emeters-2.power</key>
                    </item>
                </graph_item>
                <graph_item>
                    <sortorder>5</sortorder>
                    <color>5CCD18</color>
                    <item>
                        <host>Template Shelly 3EM - MQTT</host>
                        <key>emeters-3.power</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
    </graphs>
</zabbix_export>
