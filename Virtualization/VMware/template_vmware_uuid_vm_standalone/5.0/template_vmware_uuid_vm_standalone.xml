<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>5.0</version><date>2021-11-21T21:33:45Z</date><groups><group><name>Templates/Virtualization</name></group></groups><templates><template><template>VM VMware UUID VM Standalone</template><name>VM VMware UUID VM Standalone</name><description>## Overview

Standalone template modified from Zabbix's &quot;VM VMware Guest&quot; for monitoring selected VMs instead of all VMs as per Zabbix's auto-discovery template. Modified from 3.4.7 and 3.0.15


 


 **Requirements**


* Read-only ESXi user credentials
* ESXi server IP address
* VM (Virtual Machine not host) UUID
* VMware Tools installed in VM


**To obtain** **VM UUID** (&lt;http://www-01.ibm.com/support/docview.wss?uid=swg21682150&gt;)


* Login to vSphere client
* Go to Virtual Machines
* Verify column headers include UUID. If not, right button click on column header and select UUID
* Select desire VM, right button click and &quot;Copy to Clipboard&quot;
* CTRL-V into text editor, select UUID, copy and paste.


UUID value can also be obtained by viewing the VM's .vmx file via SSH shell. Value is defined as **uuid.bios** but must be formatted in the correct form. So if uuid.bios=&quot;42 10 c1 62 e3 1e 70 e6-4a 03 b4 6a bb e1 7b 4f&quot;, UUID is  &quot;4210c162-e31e-70e6-4a03-b46abbe17b4f&quot;


 


**To use** 


* Create new Host
* Go to **Templates**
* Search for, select &quot;VMware UUID VM Standalone&quot; and add
* Go to **Macros**, **Inherited and Host Macros**
* Click Change to modify the values for
	+ {$USERNAME} : ESXi username
	+ {$PASSWORD} : ESXi password
	+ {$URL} : https://{ESXi-IP-Address}/sdk
	+ {$UUID} : UUID in lower case
* Click Add


For those using Grafana, I have uploaded the dashboard to &lt;https://grafana.com/dashboards/4809&gt;


 


**Others**


Edit **zabbix\_server.conf** and update value of **StartVMwareCollectors** to more than 0 and restart zabbix-server.



## Author

Zabbix

</description><groups><group><name>Templates/Virtualization</name></group></groups><applications><application><name>CPU</name></application><application><name>Disks</name></application><application><name>Filesystems</name></application><application><name>General</name></application><application><name>Interfaces</name></application><application><name>Memory</name></application><application><name>Network</name></application><application><name>Storage</name></application><application><name>VM Filesystems</name></application></applications><items><item><name>Cluster name</name><type>SIMPLE</type><key>vmware.vm.cluster.name[{$URL},{$UUID}]</key><delay>1h</delay><trends>0</trends><value_type>CHAR</value_type><username>{$USERNAME}</username><password>{$PASSWORD}</password><description>Cluster name of the guest VM.</description><applications><application><name>General</name></application></applications></item><item><name>Number of virtual CPUs</name><type>SIMPLE</type><key>vmware.vm.cpu.num[{$URL},{$UUID}]</key><username>{$USERNAME}</username><password>{$PASSWORD}</password><description>Number of virtual CPUs assigned to the guest.</description><applications><application><name>CPU</name></application></applications></item><item><name>CPU ready</name><type>SIMPLE</type><key>vmware.vm.cpu.ready[{$URL},{$UUID}]</key><units>ms</units><username>{$USERNAME}</username><password>{$PASSWORD}</password><description>Time that the virtual machine was ready, but could not get scheduled to run on the physical CPU during last measurement interval (VMware vCenter/ESXi Server performance counter sampling interval - 20 seconds)</description><applications><application><name>CPU</name></application></applications></item><item><name>CPU usage</name><type>SIMPLE</type><key>vmware.vm.cpu.usage[{$URL},{$UUID}]</key><units>Hz</units><username>{$USERNAME}</username><password>{$PASSWORD}</password><description>Current upper-bound on CPU usage. The upper-bound is based on the host the virtual machine is current running on, as well as limits configured on the virtual machine itself or any parent resource pool. Valid while the virtual machine is running.</description><applications><application><name>CPU</name></application></applications></item><item><name>Datacenter name</name><type>SIMPLE</type><key>vmware.vm.datacenter.name[{$URL},{$UUID}]</key><trends>0</trends><value_type>CHAR</value_type><username>{$USERNAME}</username><password>{$PASSWORD}</password><description>Datacenter name of the guest VM.</description><applications><application><name>General</name></application></applications></item><item><name>Hypervisor name</name><type>SIMPLE</type><key>vmware.vm.hv.name[{$URL},{$UUID}]</key><delay>1h</delay><trends>0</trends><value_type>CHAR</value_type><username>{$USERNAME}</username><password>{$PASSWORD}</password><description>Hypervisor name of the guest VM.</description><applications><application><name>General</name></application></applications></item><item><name>Ballooned memory</name><type>SIMPLE</type><key>vmware.vm.memory.size.ballooned[{$URL},{$UUID}]</key><units>B</units><username>{$USERNAME}</username><password>{$PASSWORD}</password><description>The amount of guest physical memory that is currently reclaimed through the balloon driver.</description><applications><application><name>Memory</name></application></applications></item><item><name>Compressed memory</name><type>SIMPLE</type><key>vmware.vm.memory.size.compressed[{$URL},{$UUID}]</key><units>B</units><username>{$USERNAME}</username><password>{$PASSWORD}</password><description>The amount of memory currently in the compression cache for this VM.</description><applications><application><name>Memory</name></application></applications></item><item><name>Private memory</name><type>SIMPLE</type><key>vmware.vm.memory.size.private[{$URL},{$UUID}]</key><status>DISABLED</status><units>B</units><username>{$USERNAME}</username><password>{$PASSWORD}</password><description>Amount of memory backed by host memory and not being shared.</description><applications><application><name>Memory</name></application></applications></item><item><name>Shared memory</name><type>SIMPLE</type><key>vmware.vm.memory.size.shared[{$URL},{$UUID}]</key><units>B</units><username>{$USERNAME}</username><password>{$PASSWORD}</password><description>The amount of guest physical memory shared through transparent page sharing.</description><applications><application><name>Memory</name></application></applications></item><item><name>Swapped memory</name><type>SIMPLE</type><key>vmware.vm.memory.size.swapped[{$URL},{$UUID}]</key><units>B</units><username>{$USERNAME}</username><password>{$PASSWORD}</password><description>The amount of guest physical memory swapped out to the VM's swap device by ESX.</description><applications><application><name>Memory</name></application></applications></item><item><name>Guest memory usage</name><type>SIMPLE</type><key>vmware.vm.memory.size.usage.guest[{$URL},{$UUID}]</key><units>B</units><username>{$USERNAME}</username><password>{$PASSWORD}</password><description>The amount of guest physical memory that is being used by the VM.</description><applications><application><name>Memory</name></application></applications></item><item><name>Host memory usage</name><type>SIMPLE</type><key>vmware.vm.memory.size.usage.host[{$URL},{$UUID}]</key><units>B</units><username>{$USERNAME}</username><password>{$PASSWORD}</password><description>The amount of host physical memory allocated to the VM, accounting for saving from memory sharing with other VMs.</description><applications><application><name>Memory</name></application></applications></item><item><name>Memory size</name><type>SIMPLE</type><key>vmware.vm.memory.size[{$URL},{$UUID}]</key><units>B</units><username>{$USERNAME}</username><password>{$PASSWORD}</password><description>Total size of configured memory.</description><applications><application><name>Memory</name></application></applications></item><item><name>Power state</name><type>SIMPLE</type><key>vmware.vm.powerstate[{$URL},{$UUID}]</key><username>{$USERNAME}</username><password>{$PASSWORD}</password><description>The current power state of the virtual machine.</description><applications><application><name>General</name></application></applications><valuemap><name>VMware VirtualMachinePowerState</name></valuemap></item><item><name>Committed storage space</name><type>SIMPLE</type><key>vmware.vm.storage.committed[{$URL},{$UUID}]</key><units>B</units><username>{$USERNAME}</username><password>{$PASSWORD}</password><description>Total storage space, in bytes, committed to this virtual machine across all datastores.</description><applications><application><name>Storage</name></application></applications></item><item><name>Uncommitted storage space</name><type>SIMPLE</type><key>vmware.vm.storage.uncommitted[{$URL},{$UUID}]</key><units>B</units><username>{$USERNAME}</username><password>{$PASSWORD}</password><description>Additional storage space, in bytes, potentially used by this virtual machine on all datastores.</description><applications><application><name>Storage</name></application></applications></item><item><name>Unshared storage space</name><type>SIMPLE</type><key>vmware.vm.storage.unshared[{$URL},{$UUID}]</key><units>B</units><username>{$USERNAME}</username><password>{$PASSWORD}</password><description>Total storage space, in bytes, occupied by the virtual machine across all datastores, that is not shared with any other virtual machine.</description><applications><application><name>Storage</name></application></applications></item><item><name>Uptime</name><type>SIMPLE</type><key>vmware.vm.uptime[{$URL},{$UUID}]</key><units>uptime</units><username>{$USERNAME}</username><password>{$PASSWORD}</password><description>System uptime.</description><applications><application><name>General</name></application></applications></item></items><discovery_rules><discovery_rule><name>Network device discovery</name><type>SIMPLE</type><key>vmware.vm.net.if.discovery[{$URL},{$UUID}]</key><delay>1h</delay><username>{$USERNAME}</username><password>{$PASSWORD}</password><description>Discovery of all network devices.</description><item_prototypes><item_prototype><name>Number of bytes received on interface {#IFDESC}</name><type>SIMPLE</type><key>vmware.vm.net.if.in[{$URL},{$UUID},{#IFNAME},bps]</key><units>Bps</units><username>{$USERNAME}</username><password>{$PASSWORD}</password><applications><application><name>Interfaces</name></application></applications></item_prototype><item_prototype><name>Number of packets received on interface {#IFDESC}</name><type>SIMPLE</type><key>vmware.vm.net.if.in[{$URL},{$UUID},{#IFNAME},pps]</key><username>{$USERNAME}</username><password>{$PASSWORD}</password><applications><application><name>Interfaces</name></application></applications></item_prototype><item_prototype><name>Number of bytes transmitted on interface {#IFDESC}</name><type>SIMPLE</type><key>vmware.vm.net.if.out[{$URL},{$UUID},{#IFNAME},bps]</key><units>Bps</units><username>{$USERNAME}</username><password>{$PASSWORD}</password><applications><application><name>Interfaces</name></application></applications></item_prototype><item_prototype><name>Number of packets transmitted on interface {#IFDESC}</name><type>SIMPLE</type><key>vmware.vm.net.if.out[{$URL},{$UUID},{#IFNAME},pps]</key><username>{$USERNAME}</username><password>{$PASSWORD}</password><applications><application><name>Interfaces</name></application></applications></item_prototype></item_prototypes></discovery_rule><discovery_rule><name>Disk device discovery</name><type>SIMPLE</type><key>vmware.vm.vfs.dev.discovery[{$URL},{$UUID}]</key><delay>1h</delay><username>{$USERNAME}</username><password>{$PASSWORD}</password><description>Discovery of all disk devices.</description><item_prototypes><item_prototype><name>Average number of bytes read from the disk {#DISKDESC}</name><type>SIMPLE</type><key>vmware.vm.vfs.dev.read[{$URL},{$UUID},{#DISKNAME},bps]</key><units>Bps</units><username>{$USERNAME}</username><password>{$PASSWORD}</password><applications><application><name>Disks</name></application></applications></item_prototype><item_prototype><name>Average number of reads from the disk {#DISKDESC}</name><type>SIMPLE</type><key>vmware.vm.vfs.dev.read[{$URL},{$UUID},{#DISKNAME},ops]</key><username>{$USERNAME}</username><password>{$PASSWORD}</password><applications><application><name>Disks</name></application></applications></item_prototype><item_prototype><name>Average number of bytes written to the disk {#DISKDESC}</name><type>SIMPLE</type><key>vmware.vm.vfs.dev.write[{$URL},{$UUID},{#DISKNAME},bps]</key><units>Bps</units><username>{$USERNAME}</username><password>{$PASSWORD}</password><applications><application><name>Disks</name></application></applications></item_prototype><item_prototype><name>Average number of writes to the disk {#DISKDESC}</name><type>SIMPLE</type><key>vmware.vm.vfs.dev.write[{$URL},{$UUID},{#DISKNAME},ops]</key><username>{$USERNAME}</username><password>{$PASSWORD}</password><applications><application><name>Disks</name></application></applications></item_prototype></item_prototypes></discovery_rule><discovery_rule><name>Mounted filesystem discovery</name><type>SIMPLE</type><key>vmware.vm.vfs.fs.discovery[{$URL},{$UUID}]</key><delay>1h</delay><username>{$USERNAME}</username><password>{$PASSWORD}</password><description>Discovery of all guest file systems.</description><item_prototypes><item_prototype><name>Free disk space on {#FSNAME}</name><type>SIMPLE</type><key>vmware.vm.vfs.fs.size[{$URL},{$UUID},{#FSNAME},free]</key><units>B</units><username>{$USERNAME}</username><password>{$PASSWORD}</password><applications><application><name>VM Filesystems</name></application></applications></item_prototype><item_prototype><name>Free disk space on {#FSNAME} (percentage)</name><type>SIMPLE</type><key>vmware.vm.vfs.fs.size[{$URL},{$UUID},{#FSNAME},pfree]</key><value_type>FLOAT</value_type><units>%</units><username>{$USERNAME}</username><password>{$PASSWORD}</password><applications><application><name>VM Filesystems</name></application></applications></item_prototype><item_prototype><name>Total disk space on {#FSNAME}</name><type>SIMPLE</type><key>vmware.vm.vfs.fs.size[{$URL},{$UUID},{#FSNAME},total]</key><delay>1h</delay><units>B</units><username>{$USERNAME}</username><password>{$PASSWORD}</password><applications><application><name>VM Filesystems</name></application></applications></item_prototype><item_prototype><name>Used disk space on {#FSNAME}</name><type>SIMPLE</type><key>vmware.vm.vfs.fs.size[{$URL},{$UUID},{#FSNAME},used]</key><units>B</units><username>{$USERNAME}</username><password>{$PASSWORD}</password><applications><application><name>VM Filesystems</name></application></applications></item_prototype></item_prototypes></discovery_rule></discovery_rules><macros><macro><macro>{$PASSWORD}</macro><value>{Password}</value></macro><macro><macro>{$URL}</macro><value>https://{ESXi}/sdk</value></macro><macro><macro>{$USERNAME}</macro><value>zabbix</value></macro><macro><macro>{$UUID}</macro></macro></macros></template></templates><value_maps><value_map><name>VMware VirtualMachinePowerState</name><mappings><mapping><value>0</value><newvalue>poweredOff</newvalue></mapping><mapping><value>1</value><newvalue>poweredOn</newvalue></mapping><mapping><value>2</value><newvalue>suspended</newvalue></mapping></mappings></value_map></value_maps></zabbix_export>
