zabbix_export:
  version: '5.4'
  date: '2021-11-09T08:48:22Z'
  groups:
    -
      uuid: 278c491bdd8a43618c149c4ac790da34
      name: Template
  templates:
    -
      uuid: 78e3b1d85c4249c49478df40c0b1dd62
      template: 'Storage XSKY XMS by HTTP'
      name: 'Storage XSKY XMS by HTTP'
      description: |
        ## Description
        
        Template for XMS API
        
        ## Overview
        
        The Zabbix Template includes discovery rules, item prototypes, trigger prototypes and graphs, Zabbix will periodically gather resource metrics from HTTP/HTTPS REST API, convert metrics into JSON object, automatically create resource metrics by discovery rules, and send triggers based on the trigger rules.
        
        ## Author
        
        XSKY
        
        
      groups:
        -
          name: Template
      items:
        -
          uuid: aba7e72e7dd541bea479bc2311054ef2
          name: 'XMS Cluster'
          type: HTTP_AGENT
          key: xms.cluster.get
          history: '0'
          trends: '0'
          value_type: TEXT
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.body.cluster
          url: 'http://{$XMS_API_IP}:{$XMS_API_PORT}/v1/cluster/?limit=1000'
          headers:
            -
              name: Xms-Auth-Token
              value: '{$XMS_ACCESS_TOKEN}'
          output_format: JSON
          tags:
            -
              tag: Application
              value: 'Zabbix raw item'
        -
          uuid: f7567cc4552d49cd9de31f0708c2f933
          name: 'XMS Cluster Stats'
          type: HTTP_AGENT
          key: xms.cluster.stats.get
          history: '0'
          trends: '0'
          value_type: TEXT
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.body.cluster_stats
          url: 'http://{$XMS_API_IP}:{$XMS_API_PORT}/v1/cluster/stats?limit=1000'
          headers:
            -
              name: Xms-Auth-Token
              value: '{$XMS_ACCESS_TOKEN}'
          output_format: JSON
          tags:
            -
              tag: Application
              value: 'Zabbix raw item'
        -
          uuid: 52cbbefc68fb465f859fd05e88f80f92
          name: 'XMS Cluster  Os Bucket Num'
          type: DEPENDENT
          key: xms.cluster.stats.os_bucket_num
          delay: '0'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.os_bucket_num
          master_item:
            key: xms.cluster.stats.get
          tags:
            -
              tag: Application
              value: 'XSKY XMS'
        -
          uuid: ff4179e530214067ae88171aa577a6ad
          name: 'XMS Cluster  Version'
          type: DEPENDENT
          key: xms.cluster.version
          delay: '0'
          trends: '0'
          value_type: CHAR
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.version
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - '21600'
          master_item:
            key: xms.cluster.get
          tags:
            -
              tag: Application
              value: 'XSKY XMS'
        -
          uuid: 941835e6773a42b0a21be4aded2451e4
          name: 'XMS Cache Disks'
          type: HTTP_AGENT
          key: xms.hosts.disk_cache.get
          history: '0'
          trends: '0'
          value_type: TEXT
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.body.disks
          url: 'http://{$XMS_API_IP}:{$XMS_API_PORT}/v1/disks/?is_cache=true&is_silent=false&limit=1000'
          headers:
            -
              name: Xms-Auth-Token
              value: '{$XMS_ACCESS_TOKEN}'
          output_format: JSON
          tags:
            -
              tag: Application
              value: 'Zabbix raw item'
        -
          uuid: 6dadaaa963a0493692d17093f1e009ad
          name: 'XMS Hosts'
          type: HTTP_AGENT
          key: xms.hosts.get
          history: '0'
          trends: '0'
          value_type: TEXT
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.body.hosts
          url: 'http://{$XMS_API_IP}:{$XMS_API_PORT}/v1/hosts?limit=1000'
          headers:
            -
              name: Xms-Auth-Token
              value: '{$XMS_ACCESS_TOKEN}'
          output_format: JSON
          tags:
            -
              tag: Application
              value: 'Zabbix raw item'
        -
          uuid: 5eaf4f09ef3e43369713efbe8dfcca67
          name: 'XMS Network Interfaces'
          type: HTTP_AGENT
          key: xms.hosts.network_interfaces.get
          history: '0'
          trends: '0'
          value_type: TEXT
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.body.network_interfaces
          url: 'http://{$XMS_API_IP}:{$XMS_API_PORT}/v1/network-interfaces?limit=1000'
          headers:
            -
              name: Xms-Auth-Token
              value: '{$XMS_ACCESS_TOKEN}'
          output_format: JSON
          tags:
            -
              tag: Application
              value: 'Zabbix raw item'
        -
          uuid: fa983114f2904ea69bedca5de73c4b56
          name: 'XMS OSDs'
          type: HTTP_AGENT
          key: xms.hosts.osds.get
          history: '0'
          trends: '0'
          value_type: TEXT
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.body.osds
          url: 'http://{$XMS_API_IP}:{$XMS_API_PORT}/v1/osds?limit=1000'
          headers:
            -
              name: Xms-Auth-Token
              value: '{$XMS_ACCESS_TOKEN}'
          output_format: JSON
          tags:
            -
              tag: Application
              value: 'Zabbix raw item'
        -
          uuid: c2241cc6353a4d61b0db3c75fea994d3
          name: 'XMS Services'
          type: HTTP_AGENT
          key: xms.hosts.services.get
          history: '0'
          trends: '0'
          value_type: TEXT
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.body.services
          url: 'http://{$XMS_API_IP}:{$XMS_API_PORT}/v1/services?limit=1000'
          headers:
            -
              name: Xms-Auth-Token
              value: '{$XMS_ACCESS_TOKEN}'
          output_format: JSON
          tags:
            -
              tag: Application
              value: 'Zabbix raw item'
        -
          uuid: 9b3890b27802410e87b8578064e81c2b
          name: 'XMS OS-Buckets'
          type: HTTP_AGENT
          key: xms.os_buckets.get
          history: '0'
          trends: '0'
          value_type: TEXT
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.body.os_buckets
          url: 'http://{$XMS_API_IP}:{$XMS_API_PORT}/v1/os-buckets?limit=1000'
          headers:
            -
              name: Xms-Auth-Token
              value: '{$XMS_ACCESS_TOKEN}'
          output_format: JSON
          tags:
            -
              tag: Application
              value: 'Zabbix raw item'
        -
          uuid: b2e4c6c0f89d4018ad696ffae740430c
          name: 'XMS OS-NFS-Gateways'
          type: HTTP_AGENT
          key: xms.os_nfs_gateways.get
          history: '0'
          trends: '0'
          value_type: TEXT
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.body.nfs_gateways
          url: 'http://{$XMS_API_IP}:{$XMS_API_PORT}/v1/nfs-gateways?limit=1000'
          headers:
            -
              name: Xms-Auth-Token
              value: '{$XMS_ACCESS_TOKEN}'
          output_format: JSON
          tags:
            -
              tag: Application
              value: 'Zabbix raw item'
        -
          uuid: 51020d0365864191aaf23ea7b47d175d
          name: 'XMS OS-S3_Load_Balancer'
          type: HTTP_AGENT
          key: xms.os_s3_load_balancer.get
          history: '0'
          trends: '0'
          value_type: TEXT
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.body.s3_load_balancers
          url: 'http://{$XMS_API_IP}:{$XMS_API_PORT}/v1/s3-load-balancers?limit=1000'
          headers:
            -
              name: Xms-Auth-Token
              value: '{$XMS_ACCESS_TOKEN}'
          output_format: JSON
          tags:
            -
              tag: Application
              value: 'Zabbix raw item'
        -
          uuid: 5c7b276c66d4432db5703d4d3eb3ac2c
          name: 'XMS OS-Users'
          type: HTTP_AGENT
          key: xms.os_users.get
          history: '0'
          trends: '0'
          value_type: TEXT
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.body.os_users
          url: 'http://{$XMS_API_IP}:{$XMS_API_PORT}/v1/os-users?limit=1000'
          headers:
            -
              name: Xms-Auth-Token
              value: '{$XMS_ACCESS_TOKEN}'
          output_format: JSON
          tags:
            -
              tag: Application
              value: 'Zabbix raw item'
        -
          uuid: 8cda485dd4ea43b199d341d4c4d9c5d4
          name: 'XMS OS-Zones'
          type: HTTP_AGENT
          key: xms.os_zone.get
          history: '0'
          trends: '0'
          value_type: TEXT
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.body.os_zones
          url: 'http://{$XMS_API_IP}:{$XMS_API_PORT}/v1/os-zones?limit=1000'
          headers:
            -
              name: Xms-Auth-Token
              value: '{$XMS_ACCESS_TOKEN}'
          output_format: JSON
          tags:
            -
              tag: Application
              value: 'Zabbix raw item'
        -
          uuid: 0f87172edef44aa7b9b0c134af95785a
          name: 'XMS Pools'
          type: HTTP_AGENT
          key: xms.pools.get
          history: '0'
          trends: '0'
          value_type: TEXT
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.body.pools
          url: 'http://{$XMS_API_IP}:{$XMS_API_PORT}/v1/pools?limit=1000'
          headers:
            -
              name: Xms-Auth-Token
              value: '{$XMS_ACCESS_TOKEN}'
          output_format: JSON
          tags:
            -
              tag: Application
              value: 'Zabbix raw item'
      discovery_rules:
        -
          uuid: c56bf4d8fd46432b94c952a6514ef100
          name: 'XMS OSD Discovery'
          type: HTTP_AGENT
          key: xms.host.osds.discovery
          delay: 1h
          item_prototypes:
            -
              uuid: fcdf54cf930a4ec282801aed9e1ff1fd
              name: 'XMS OSD {#OSDID} IO Util'
              type: DEPENDENT
              key: 'hosts.osds.io_util[{#OSDID}]'
              delay: '0'
              value_type: FLOAT
              units: '%'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.osd_id == {#OSDID})].samples[0].io_util.first()'
                -
                  type: MULTIPLIER
                  parameters:
                    - '100'
              master_item:
                key: xms.hosts.osds.get
              tags:
                -
                  tag: Application
                  value: 'OSD {#OSDID}'
                -
                  tag: Application
                  value: 'XMS OSD Discovery'
              trigger_prototypes:
                -
                  uuid: a13492e0b41e4e04bf6162fcbd59d364
                  expression: 'last(/Storage XSKY XMS by HTTP/hosts.osds.io_util[{#OSDID}])>={$XMS_OSDS_IO_UTIL.MAX.WARN}'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'last(/Storage XSKY XMS by HTTP/hosts.osds.io_util[{#OSDID}])<{$XMS_OSDS_IO_UTIL.MAX.WARN}'
                  name: 'Host {#HOSTNAME}  {#OSDNAME} IO Usage Is Greater Than {$XMS_OSDS_IO_UTIL.MAX.WARN}%'
                  priority: WARNING
                  manual_close: 'YES'
            -
              uuid: e963f20c071342b8b06be1160c2c9a91
              name: 'XMS OSD {#OSDID} Name'
              type: DEPENDENT
              key: 'hosts.osds.name[{#OSDID}]'
              delay: '0'
              trends: '0'
              value_type: CHAR
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.osd_id == {#OSDID})].name.first()'
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: xms.hosts.osds.get
              tags:
                -
                  tag: Application
                  value: 'OSD {#OSDID}'
                -
                  tag: Application
                  value: 'XMS OSD Discovery'
            -
              uuid: 395ad66cadc7480ab92975bdd01458ae
              name: 'XMS OSD {#OSDID} Total Byte'
              type: DEPENDENT
              key: 'hosts.osds.samples.total_Byte.data[{#OSDID}]'
              delay: '0'
              units: B
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.osd_id == {#OSDID})].samples[0].total_kbyte.first()'
                -
                  type: MULTIPLIER
                  parameters:
                    - '1024'
              master_item:
                key: xms.hosts.osds.get
              tags:
                -
                  tag: Application
                  value: 'OSD {#OSDID}'
                -
                  tag: Application
                  value: 'XMS OSD Discovery'
            -
              uuid: ca8bf6cd76e942a2bf328bf59eb835ab
              name: 'XMS OSD {#OSDID} Used Byte'
              type: DEPENDENT
              key: 'hosts.osds.samples.used_Byte.data[{#OSDID}]'
              delay: '0'
              units: B
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.osd_id == {#OSDID} )].samples[0].used_kbyte.first()'
                -
                  type: MULTIPLIER
                  parameters:
                    - '1024'
              master_item:
                key: xms.hosts.osds.get
              tags:
                -
                  tag: Application
                  value: 'OSD {#OSDID}'
                -
                  tag: Application
                  value: 'XMS OSD Discovery'
              trigger_prototypes:
                -
                  uuid: 16312c37b00e476f91f701315a9a254e
                  expression: 'last(/Storage XSKY XMS by HTTP/hosts.osds.samples.used_Byte.data[{#OSDID}])>={#OSD_TOTALKBYTE}*{$XMS_OSDS_USED_BYTE.MAX.DISASTER}/100*1024'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'last(/Storage XSKY XMS by HTTP/hosts.osds.samples.used_Byte.data[{#OSDID}])<{#OSD_TOTALKBYTE}*{$XMS_OSDS_USED_BYTE.MAX.DISASTER}/100*1024'
                  name: 'Host {#HOSTNAME} {#OSDNAME} Data Usage Is Greater Than {$XMS_OSDS_USED_BYTE.MAX.DISASTER}%'
                  priority: DISASTER
                  manual_close: 'YES'
                -
                  uuid: 4b7da4e4515c44d887f31bf9533087bf
                  expression: 'last(/Storage XSKY XMS by HTTP/hosts.osds.samples.used_Byte.data[{#OSDID}])>={#OSD_TOTALKBYTE}*{$XMS_OSDS_USED_BYTE.MAX.WARN}/100*1024'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'last(/Storage XSKY XMS by HTTP/hosts.osds.samples.used_Byte.data[{#OSDID}])<{#OSD_TOTALKBYTE}*{$XMS_OSDS_USED_BYTE.MAX.WARN}/100*1024'
                  name: 'Host {#HOSTNAME} {#OSDNAME} Data Usage Is Greater Than {$XMS_OSDS_USED_BYTE.MAX.WARN}%'
                  priority: WARNING
                  manual_close: 'YES'
            -
              uuid: 566991e716384472928e260f3af96f19
              name: 'XMS OSD {#OSDID} Status'
              type: DEPENDENT
              key: 'hosts.osds.status[{#OSDID}]'
              delay: '0'
              trends: '0'
              value_type: CHAR
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.osd_id == {#OSDID})].status.first()'
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: xms.hosts.osds.get
              tags:
                -
                  tag: Application
                  value: 'OSD {#OSDID}'
                -
                  tag: Application
                  value: 'XMS OSD Discovery'
              trigger_prototypes:
                -
                  uuid: ec64f3e5192e42fbaf82a2288e0073a9
                  expression: 'find(/Storage XSKY XMS by HTTP/hosts.osds.status[{#OSDID}],,"like","error")=1'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'find(/Storage XSKY XMS by HTTP/hosts.osds.status[{#OSDID}],,"like","active")=1'
                  name: 'Host {#HOSTNAME} {#OSDNAME} Status Is error'
                  priority: DISASTER
                  manual_close: 'YES'
                -
                  uuid: 23523bdf7eb14cebb0442d9c7fd6d562
                  expression: 'find(/Storage XSKY XMS by HTTP/hosts.osds.status[{#OSDID}],,"like","stopped")=1'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'find(/Storage XSKY XMS by HTTP/hosts.osds.status[{#OSDID}],,"like","active")=1'
                  name: 'Host {#HOSTNAME} {#OSDNAME} Status Is Stopped'
                  priority: WARNING
                  manual_close: 'YES'
                -
                  uuid: 50c434e83e8140f0a06c7ed8f3686985
                  expression: 'find(/Storage XSKY XMS by HTTP/hosts.osds.status[{#OSDID}],,"like","warning")=1'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'find(/Storage XSKY XMS by HTTP/hosts.osds.status[{#OSDID}],,"like","active")=1'
                  name: 'Host {#HOSTNAME} {#OSDNAME} Status Is Warning'
                  priority: WARNING
                  manual_close: 'YES'
            -
              uuid: 93303b84cbd74ac0b2162c13c28d848e
              name: 'XMS OSD {#OSDID} Type'
              type: DEPENDENT
              key: 'hosts.osds.type[{#OSDID}]'
              delay: '0'
              trends: '0'
              value_type: CHAR
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.osd_id == {#OSDID})].type.first()'
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: xms.hosts.osds.get
              tags:
                -
                  tag: Application
                  value: 'OSD {#OSDID}'
                -
                  tag: Application
                  value: 'XMS OSD Discovery'
          url: 'http://{$XMS_API_IP}:{$XMS_API_PORT}/v1/osds?limit=1000'
          headers:
            -
              name: Xms-Auth-Token
              value: '{$XMS_ACCESS_TOKEN}'
          lld_macro_paths:
            -
              lld_macro: '{#OSDID}'
              path: $.osd_id
            -
              lld_macro: '{#OSDNAME}'
              path: $.name
            -
              lld_macro: '{#HOSTNAME}'
              path: $.host.name
            -
              lld_macro: '{#OSD_TOTALKBYTE}'
              path: '$.samples[0].total_kbyte'
            -
              lld_macro: '{#OSD_ROLE}'
              path: $.role
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.osds
        -
          uuid: ab41952c737e4b2fb676575476649a23
          name: 'XMS Host Discovery'
          type: HTTP_AGENT
          key: xms.hosts.discovery
          delay: 1h
          item_prototypes:
            -
              uuid: 0e07caf723c6473f8f24e17dfa970e38
              name: 'XMS Host {#HOSTNAME} Status'
              type: DEPENDENT
              key: 'xms.hosts.status[{#HOSTID}]'
              delay: '0'
              trends: '0'
              value_type: CHAR
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#HOSTID})].status.first()'
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: xms.hosts.get
              tags:
                -
                  tag: Application
                  value: 'Host {#HOSTNAME}'
                -
                  tag: Application
                  value: 'XMS Host Discovery'
              trigger_prototypes:
                -
                  uuid: 5ab08c248f904aea998054a8cfc3cfe0
                  expression: 'find(/Storage XSKY XMS by HTTP/xms.hosts.status[{#HOSTID}],,"like","error")=1'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'find(/Storage XSKY XMS by HTTP/xms.hosts.status[{#HOSTID}],,"like","active")=1'
                  name: 'Host {#HOSTNAME} Status Is error'
                  priority: DISASTER
                -
                  uuid: 726551efb576498da67f76ef5f44098e
                  expression: 'find(/Storage XSKY XMS by HTTP/xms.hosts.status[{#HOSTID}],,"like","offline")=1'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'find(/Storage XSKY XMS by HTTP/xms.hosts.status[{#HOSTID}],,"like","active")=1'
                  name: 'Host {#HOSTNAME} Status Is offline'
                  priority: DISASTER
                -
                  uuid: b5ca09d5d59347d692c1fc4cf8ac3754
                  expression: 'find(/Storage XSKY XMS by HTTP/xms.hosts.status[{#HOSTID}],,"like","warning")=1'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'find(/Storage XSKY XMS by HTTP/xms.hosts.status[{#HOSTID}],,"like","active")=1'
                  name: 'Host {#HOSTNAME} Status Is warning'
                  priority: WARNING
          url: 'http://{$XMS_API_IP}:{$XMS_API_PORT}/v1/hosts?limit=1000'
          headers:
            -
              name: Xms-Auth-Token
              value: '{$XMS_ACCESS_TOKEN}'
          lld_macro_paths:
            -
              lld_macro: '{#HOSTID}'
              path: $.id
            -
              lld_macro: '{#HOSTNAME}'
              path: $.name
            -
              lld_macro: '{#HOSTSTATUS}'
              path: $.status
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.hosts
        -
          uuid: 7d4f4f849c744ce0bb63d3896bd90d0d
          name: 'XMS Disk (Cache) Discovery'
          type: HTTP_AGENT
          key: xms.hosts.disk_cache.discovery
          delay: 1h
          item_prototypes:
            -
              uuid: 7fd7e184012843b983ca1b51f23f6b8f
              name: 'XMS Host {#XMS_HOST_NAME} Disk {#XMS_HOST_DEVICE} Status'
              type: DEPENDENT
              key: 'xms.host.disk.status[{#XMS_OSD_ID}]'
              delay: '0'
              trends: '0'
              value_type: CHAR
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_OSD_ID} && @.is_cache == ''{#XMS_IS_CACHE}'')].status.first()'
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: xms.hosts.disk_cache.get
              tags:
                -
                  tag: Application
                  value: 'Host {#XMS_HOST_NAME} Disk {#XMS_HOST_DEVICE}'
                -
                  tag: Application
                  value: 'XMS Disk (Cache) Discovery'
              trigger_prototypes:
                -
                  uuid: 936e8d4bb24341419c7f05522d81300c
                  expression: 'find(/Storage XSKY XMS by HTTP/xms.host.disk.status[{#XMS_OSD_ID}],,"like","error")=1'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'find(/Storage XSKY XMS by HTTP/xms.host.disk.status[{#XMS_OSD_ID}],,"like","active")=1'
                  name: 'Host  {#XMS_HOST_NAME} Cache Disk {#XMS_HOST_DEVICE} Status Is error'
                  priority: DISASTER
          url: 'http://{$XMS_API_IP}:{$XMS_API_PORT}/v1/disks/?is_cache=true&is_silent=false&limit=1000'
          headers:
            -
              name: Xms-Auth-Token
              value: '{$XMS_ACCESS_TOKEN}'
          lld_macro_paths:
            -
              lld_macro: '{#XMS_HOST_ID}'
              path: $.host.id
            -
              lld_macro: '{#XMS_HOST_NAME}'
              path: $.host.name
            -
              lld_macro: '{#XMS_IS_CACHE}'
              path: $.is_cache
            -
              lld_macro: '{#XMS_OSD_ID}'
              path: $.id
            -
              lld_macro: '{#XMS_HOST_DEVICE}'
              path: $.device
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.disks
        -
          uuid: 362023cce0e440cca7e313fef57d6c85
          name: 'XMS Network Interfaces Discovery'
          type: HTTP_AGENT
          key: xms.hosts.network_interfaces.discovery
          delay: 1h
          item_prototypes:
            -
              uuid: 79446ef44ae64323a810b4134ea2654f
              name: 'Host {#HOSTNAME} Network {#NETWORKNAME} Receive Bytes'
              type: DEPENDENT
              key: 'host.network_interfaces.rx_bandwidth_kbyte[{#NETWORKID}]'
              delay: '0'
              units: B/s
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.host.id == {#HOSTID}  && @.type == ''{#NETWORKTYPE}'')].samples[0].rx_bandwidth_kbyte.first()'
                -
                  type: MULTIPLIER
                  parameters:
                    - '1024'
              master_item:
                key: xms.hosts.network_interfaces.get
              tags:
                -
                  tag: Application
                  value: 'Host {#HOSTNAME} Network {#NETWORKNAME}'
                -
                  tag: Application
                  value: 'XMS Network Interfaces Discovery'
            -
              uuid: ca2c80f3aa214c5c889fcd7dbc83e7d8
              name: 'Host {#HOSTNAME} Network {#NETWORKNAME} Receive Packets'
              type: DEPENDENT
              key: 'host.network_interfaces.rx_pps[{#NETWORKID}]'
              delay: '0'
              units: /s
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.host.id == {#HOSTID}  && @.type == ''{#NETWORKTYPE}'')].samples[0].rx_pps.first()'
              master_item:
                key: xms.hosts.network_interfaces.get
              tags:
                -
                  tag: Application
                  value: 'Host {#HOSTNAME} Network {#NETWORKNAME}'
                -
                  tag: Application
                  value: 'XMS Network Interfaces Discovery'
            -
              uuid: 8b6b667b1a634ce7b2fd01f531aa9089
              name: 'Host {#HOSTNAME} Network {#NETWORKNAME} Status'
              type: DEPENDENT
              key: 'host.network_interfaces.status[{#NETWORKID}]'
              delay: '0'
              trends: '0'
              value_type: CHAR
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.host.id == {#HOSTID}  && @.type == ''{#NETWORKTYPE}'')].operstate.first()'
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: xms.hosts.network_interfaces.get
              tags:
                -
                  tag: Application
                  value: 'Host {#HOSTNAME} Network {#NETWORKNAME}'
                -
                  tag: Application
                  value: 'XMS Network Interfaces Discovery'
              trigger_prototypes:
                -
                  uuid: 4fa7ed14506c4a6486867b97bab1aec3
                  expression: 'find(/Storage XSKY XMS by HTTP/host.network_interfaces.status[{#NETWORKID}],,"like","down")=1'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'find(/Storage XSKY XMS by HTTP/host.network_interfaces.status[{#NETWORKID}],,"like","up")=1'
                  name: 'Host {#HOSTNAME} Network {#NETWORKNAME} is offline'
                  priority: HIGH
            -
              uuid: 21b27bc0fcaa420abd72e7a39ac9bb27
              name: 'Host {#HOSTNAME} Network {#NETWORKNAME} Transmit Bytes'
              type: DEPENDENT
              key: 'host.network_interfaces.tx_bandwidth_kbyte[{#NETWORKID}]'
              delay: '0'
              units: B/s
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.host.id == {#HOSTID}  && @.type == ''{#NETWORKTYPE}'')].samples[0].tx_bandwidth_kbyte.first()'
                -
                  type: MULTIPLIER
                  parameters:
                    - '1024'
              master_item:
                key: xms.hosts.network_interfaces.get
              tags:
                -
                  tag: Application
                  value: 'Host {#HOSTNAME} Network {#NETWORKNAME}'
                -
                  tag: Application
                  value: 'XMS Network Interfaces Discovery'
            -
              uuid: 9423950aa490473cbf7d8b96f64af620
              name: 'Host {#HOSTNAME} Network {#NETWORKNAME} Transmit Packets'
              type: DEPENDENT
              key: 'host.network_interfaces.tx_pps[{#NETWORKID}]'
              delay: '0'
              units: /s
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.host.id == {#HOSTID}  && @.type == ''{#NETWORKTYPE}'')].samples[0].tx_pps.first()'
              master_item:
                key: xms.hosts.network_interfaces.get
              tags:
                -
                  tag: Application
                  value: 'Host {#HOSTNAME} Network {#NETWORKNAME}'
                -
                  tag: Application
                  value: 'XMS Network Interfaces Discovery'
          url: 'http://{$XMS_API_IP}:{$XMS_API_PORT}/v1/network-interfaces?limit=1000'
          headers:
            -
              name: Xms-Auth-Token
              value: '{$XMS_ACCESS_TOKEN}'
          lld_macro_paths:
            -
              lld_macro: '{#HOSTID}'
              path: $.host.id
            -
              lld_macro: '{#HOSTNAME}'
              path: $.host.name
            -
              lld_macro: '{#NETWORKNAME}'
              path: $.name
            -
              lld_macro: '{#NETWORKID}'
              path: $.id
            -
              lld_macro: '{#NETWORKTYPE}'
              path: $.type
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.network_interfaces
        -
          uuid: 746fa53ef0ca401b94f05ba6dfc863b4
          name: 'XMS Services Discovery'
          type: HTTP_AGENT
          key: xms.hosts.services.discovery
          delay: 1h
          item_prototypes:
            -
              uuid: a7d1526c97d7448dbd03cf3274f59e59
              name: 'XMS {#HOSTNAME} {#TYPE} Status'
              type: DEPENDENT
              key: 'host.service.status[{#HOSTID}.{#TYPE}]'
              delay: '0'
              trends: '0'
              value_type: CHAR
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.host.id == {#HOSTID}  && @.type == ''{#TYPE}'' && @.status == ''{#STATUS}'') ].up.first()'
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: xms.hosts.services.get
              tags:
                -
                  tag: Application
                  value: 'Service {#HOSTNAME} {#TYPE}'
                -
                  tag: Application
                  value: 'XMS Services Discovery'
              trigger_prototypes:
                -
                  uuid: 3fbfbdb2dc4a4d4080385c66dfea2876
                  expression: 'find(/Storage XSKY XMS by HTTP/host.service.status[{#HOSTID}.{#TYPE}],,"like","false")=1'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'find(/Storage XSKY XMS by HTTP/host.service.status[{#HOSTID}.{#TYPE}],,"like","true")=1'
                  name: 'Service {#TYPE} of Host {#HOSTNAME} is offline'
                  priority: HIGH
          url: 'http://{$XMS_API_IP}:{$XMS_API_PORT}/v1/services?limit=1000'
          headers:
            -
              name: Xms-Auth-Token
              value: '{$XMS_ACCESS_TOKEN}'
          lld_macro_paths:
            -
              lld_macro: '{#HOSTID}'
              path: $.host.id
            -
              lld_macro: '{#TYPE}'
              path: $.type
            -
              lld_macro: '{#HOSTNAME}'
              path: $.host.name
            -
              lld_macro: '{#STATUS}'
              path: $.status
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.services
        -
          uuid: 253ab6677bdd468b96d7f913ea066fd9
          name: 'XMS OS-Bucket Discovery'
          type: HTTP_AGENT
          key: xms.os_buckets.discovery
          delay: 1h
          item_prototypes:
            -
              uuid: 7bfd572c86db44fea5731c3af7c07737
              name: 'XMS Bucket {#XMS_BUCKET_NAME} Versioned'
              type: DEPENDENT
              key: 'xms.buckets.flag.versioned[{#XMS_BUCKET_ID}]'
              delay: '0'
              trends: '0'
              value_type: CHAR
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_BUCKET_ID} && @.virtual ==''false'')].flag.versioned.first()'
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: xms.os_buckets.get
              tags:
                -
                  tag: Application
                  value: 'OS Bucket {#XMS_BUCKET_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-Bucket Discovery'
            -
              uuid: 914ac834ed754910954202569abaf656
              name: 'XMS Bucket {#XMS_BUCKET_NAME} Owner'
              type: DEPENDENT
              key: 'xms.buckets.owner[{#XMS_BUCKET_ID}]'
              delay: '0'
              trends: '0'
              value_type: CHAR
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_BUCKET_ID} && @.virtual ==''false'')].owner.name.first()'
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: xms.os_buckets.get
              tags:
                -
                  tag: Application
                  value: 'OS Bucket {#XMS_BUCKET_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-Bucket Discovery'
            -
              uuid: 2069d955f1df4050ac4ce717b9b058ee
              name: 'XMS Bucket {#XMS_BUCKET_NAME} Quota Max Objects'
              type: DEPENDENT
              key: 'xms.buckets.quota_max_objects[{#XMS_BUCKET_ID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_BUCKET_ID} && @.virtual ==''false'')].quota_max_objects.first()'
              master_item:
                key: xms.os_buckets.get
              tags:
                -
                  tag: Application
                  value: 'OS Bucket {#XMS_BUCKET_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-Bucket Discovery'
            -
              uuid: d898eb523f3e4b9ca47344857e7a434d
              name: 'XMS Bucket {#XMS_BUCKET_NAME} Quota Max Size'
              type: DEPENDENT
              key: 'xms.buckets.quota_max_size[{#XMS_BUCKET_ID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_BUCKET_ID} && @.virtual ==''false'')].quota_max_size.first()'
              master_item:
                key: xms.os_buckets.get
              tags:
                -
                  tag: Application
                  value: 'OS Bucket {#XMS_BUCKET_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-Bucket Discovery'
            -
              uuid: cb02a19e99f44610852120bc83fa2227
              name: 'XMS Bucket {#XMS_BUCKET_NAME} Allocated Objects'
              type: DEPENDENT
              key: 'xms.buckets.samples.allocated_objects[{#XMS_BUCKET_ID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_BUCKET_ID} && @.virtual ==''false'')].samples[0].allocated_objects.first()'
              master_item:
                key: xms.os_buckets.get
              tags:
                -
                  tag: Application
                  value: 'OS Bucket {#XMS_BUCKET_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-Bucket Discovery'
              trigger_prototypes:
                -
                  uuid: 95e0fba8a1b9490481b816dc4ddaab76
                  expression: 'last(/Storage XSKY XMS by HTTP/xms.buckets.samples.allocated_objects[{#XMS_BUCKET_ID}])>={#XMS_BUCKET_QUOTA_MAX_OBJECTS}*{$XMS_BUCKET_ALLOCATED_OBJECTS.MAX.WARN}/100 and {#XMS_BUCKET_QUOTA_MAX_OBJECTS} > 0'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'last(/Storage XSKY XMS by HTTP/xms.buckets.samples.allocated_objects[{#XMS_BUCKET_ID}])<{#XMS_BUCKET_QUOTA_MAX_OBJECTS}*{$XMS_BUCKET_ALLOCATED_OBJECTS.MAX.WARN}/100 or {#XMS_BUCKET_QUOTA_MAX_OBJECTS} = 0'
                  name: 'Object Storage Bucket {#XMS_BUCKET_NAME} Allocated Objects Is Greater Than {$XMS_BUCKET_ALLOCATED_OBJECTS.MAX.WARN}%'
                  priority: WARNING
            -
              uuid: 4ceb167d71d042ef8ce2aa0602af5933
              name: 'XMS Bucket {#XMS_BUCKET_NAME} Allocated Size'
              type: DEPENDENT
              key: 'xms.buckets.samples.allocated_size[{#XMS_BUCKET_ID}]'
              delay: '0'
              value_type: FLOAT
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_BUCKET_ID} && @.virtual ==''false'')].samples[0].allocated_size.first()'
              master_item:
                key: xms.os_buckets.get
              tags:
                -
                  tag: Application
                  value: 'OS Bucket {#XMS_BUCKET_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-Bucket Discovery'
              trigger_prototypes:
                -
                  uuid: bdc98c9ad7a3455c9ea92d89298ea129
                  expression: 'last(/Storage XSKY XMS by HTTP/xms.buckets.samples.allocated_size[{#XMS_BUCKET_ID}])>={#XMS_BUCKET_QUOTA_MAX_SIZE}*{$XMS_BUCKET_ALLOCATED_SIZE.MAX.WARN}/100 and {#XMS_BUCKET_QUOTA_MAX_SIZE} > 0'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'last(/Storage XSKY XMS by HTTP/xms.buckets.samples.allocated_size[{#XMS_BUCKET_ID}])<{#XMS_BUCKET_QUOTA_MAX_SIZE}*{$XMS_BUCKET_ALLOCATED_SIZE.MAX.WARN}/100 or {#XMS_BUCKET_QUOTA_MAX_SIZE} = 0'
                  name: 'Object Storage Bucket {#XMS_BUCKET_NAME} Allocated Size Is Greater Than {$XMS_BUCKET_ALLOCATED_SIZE.MAX.WARN}%'
                  priority: WARNING
            -
              uuid: 50b6d3ab1229491481af89c22cd149d6
              name: 'XMS Bucket {#XMS_BUCKET_NAME} Del Ops'
              type: DEPENDENT
              key: 'xms.buckets.samples.del_ops_pm[{#XMS_BUCKET_ID}]'
              delay: '0'
              value_type: FLOAT
              units: /min
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_BUCKET_ID} && @.virtual ==''false'')].samples[0].del_ops_pm.first()'
              master_item:
                key: xms.os_buckets.get
              tags:
                -
                  tag: Application
                  value: 'OS Bucket {#XMS_BUCKET_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-Bucket Discovery'
            -
              uuid: 9db6a478e6ec437686a88cd0128ed8d2
              name: 'XMS Bucket {#XMS_BUCKET_NAME} Down Latency Us'
              type: DEPENDENT
              key: 'xms.buckets.samples.down_latency_us[{#XMS_BUCKET_ID}]'
              delay: '0'
              value_type: FLOAT
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_BUCKET_ID} && @.virtual ==''false'')].samples[0].down_latency_us.first()'
              master_item:
                key: xms.os_buckets.get
              tags:
                -
                  tag: Application
                  value: 'OS Bucket {#XMS_BUCKET_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-Bucket Discovery'
            -
              uuid: 6598e772395640e28586d75660d5b9b0
              name: 'XMS Bucket {#XMS_BUCKET_NAME} Latency Down'
              type: DEPENDENT
              key: 'xms.buckets.samples.latency_down[{#XMS_BUCKET_ID}]'
              delay: '0'
              value_type: FLOAT
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_BUCKET_ID} && @.virtual ==''false'')].samples[0].latency_down.first()'
              master_item:
                key: xms.os_buckets.get
              tags:
                -
                  tag: Application
                  value: 'OS Bucket {#XMS_BUCKET_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-Bucket Discovery'
            -
              uuid: f469259a6e134d30a00ab46123af655a
              name: 'XMS Bucket {#XMS_BUCKET_NAME} Latency Up'
              type: DEPENDENT
              key: 'xms.buckets.samples.latency_up[{#XMS_BUCKET_ID}]'
              delay: '0'
              value_type: FLOAT
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_BUCKET_ID} && @.virtual ==''false'')].samples[0].latency_up.first()'
              master_item:
                key: xms.os_buckets.get
              tags:
                -
                  tag: Application
                  value: 'OS Bucket {#XMS_BUCKET_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-Bucket Discovery'
            -
              uuid: cc25d427c23d4a0e98e1d293c8d91315
              name: 'XMS Bucket {#XMS_BUCKET_NAME} Rx Bandwidth Byte Rate'
              type: DEPENDENT
              key: 'xms.buckets.samples.rx_bandwidth_kbyte[{#XMS_BUCKET_ID}]'
              delay: '0'
              value_type: FLOAT
              units: B/s
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_BUCKET_ID} && @.virtual ==''false'')].samples[0].rx_bandwidth_kbyte.first()'
                -
                  type: MULTIPLIER
                  parameters:
                    - '1024'
              master_item:
                key: xms.os_buckets.get
              tags:
                -
                  tag: Application
                  value: 'OS Bucket {#XMS_BUCKET_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-Bucket Discovery'
            -
              uuid: 420afbebe7e1428a92112cb7434bfe7e
              name: 'XMS Bucket {#XMS_BUCKET_NAME} Rx Ops'
              type: DEPENDENT
              key: 'xms.buckets.samples.rx_ops_pm[{#XMS_BUCKET_ID}]'
              delay: '0'
              value_type: FLOAT
              units: /min
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_BUCKET_ID} && @.virtual ==''false'')].samples[0].rx_ops_pm.first()'
              master_item:
                key: xms.os_buckets.get
              tags:
                -
                  tag: Application
                  value: 'OS Bucket {#XMS_BUCKET_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-Bucket Discovery'
            -
              uuid: 38d59622e8f444478305401bd1d920f4
              name: 'XMS Bucket {#XMS_BUCKET_NAME} Total Rx Bytes'
              type: DEPENDENT
              key: 'xms.buckets.samples.total_rx_bytes[{#XMS_BUCKET_ID}]'
              delay: '0'
              units: B
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_BUCKET_ID} && @.virtual ==''false'')].samples[0].total_rx_bytes.first()'
              master_item:
                key: xms.os_buckets.get
              tags:
                -
                  tag: Application
                  value: 'OS Bucket {#XMS_BUCKET_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-Bucket Discovery'
            -
              uuid: fc4e1e908f174e5aad0c569f3320589c
              name: 'XMS Bucket {#XMS_BUCKET_NAME} Total Tx Bytes'
              type: DEPENDENT
              key: 'xms.buckets.samples.total_tx_bytes[{#XMS_BUCKET_ID}]'
              delay: '0'
              units: B
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_BUCKET_ID} && @.virtual ==''false'')].samples[0].total_tx_bytes.first()'
              master_item:
                key: xms.os_buckets.get
              tags:
                -
                  tag: Application
                  value: 'OS Bucket {#XMS_BUCKET_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-Bucket Discovery'
            -
              uuid: baded3c41e524d73b6ac71545a7dd7cf
              name: 'XMS Bucket {#XMS_BUCKET_NAME} Tx Bandwidth Byte Rate'
              type: DEPENDENT
              key: 'xms.buckets.samples.tx_bandwidth_kbyte[{#XMS_BUCKET_ID}]'
              delay: '0'
              value_type: FLOAT
              units: B/s
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_BUCKET_ID}  && @.virtual ==''false'')].samples[0].tx_bandwidth_kbyte.first()'
                -
                  type: MULTIPLIER
                  parameters:
                    - '1024'
              master_item:
                key: xms.os_buckets.get
              tags:
                -
                  tag: Application
                  value: 'OS Bucket {#XMS_BUCKET_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-Bucket Discovery'
            -
              uuid: 8019d9283d114d0c852b683a26c4907d
              name: 'XMS Bucket {#XMS_BUCKET_NAME} Tx Ops'
              type: DEPENDENT
              key: 'xms.buckets.samples.tx_ops_pm[{#XMS_BUCKET_ID}]'
              delay: '0'
              value_type: FLOAT
              units: /min
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_BUCKET_ID} && @.virtual ==''false'')].samples[0].tx_ops_pm.first()'
              master_item:
                key: xms.os_buckets.get
              tags:
                -
                  tag: Application
                  value: 'OS Bucket {#XMS_BUCKET_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-Bucket Discovery'
            -
              uuid: b09e0ea45fcc4b03934fde2dd1b11dbe
              name: 'XMS Bucket {#XMS_BUCKET_NAME} Up Latency Us'
              type: DEPENDENT
              key: 'xms.buckets.samples.up_latency_us[{#XMS_BUCKET_ID}]'
              delay: '0'
              value_type: FLOAT
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_BUCKET_ID} && @.virtual ==''false'')].samples[0].up_latency_us.first()'
              master_item:
                key: xms.os_buckets.get
              tags:
                -
                  tag: Application
                  value: 'OS Bucket {#XMS_BUCKET_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-Bucket Discovery'
            -
              uuid: c188e340f84e4ef5a5fdd840c56240fd
              name: 'XMS Bucket {#XMS_BUCKET_NAME} Status'
              type: DEPENDENT
              key: 'xms.buckets.status[{#XMS_BUCKET_ID}]'
              delay: '0'
              trends: '0'
              value_type: CHAR
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_BUCKET_ID} && @.virtual ==''false'')].status.first()'
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: xms.os_buckets.get
              tags:
                -
                  tag: Application
                  value: 'OS Bucket {#XMS_BUCKET_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-Bucket Discovery'
          url: 'http://{$XMS_API_IP}:{$XMS_API_PORT}/v1/os-buckets?limit=1000'
          headers:
            -
              name: Xms-Auth-Token
              value: '{$XMS_ACCESS_TOKEN}'
          lld_macro_paths:
            -
              lld_macro: '{#XMS_BUCKET_NAME}'
              path: $.name
            -
              lld_macro: '{#XMS_BUCKET_ID}'
              path: $.id
            -
              lld_macro: '{#XMS_BUCKET_OWNER}'
              path: $.owner.name
            -
              lld_macro: '{#XMS_BUCKET_QUOTA_MAX_OBJECTS}'
              path: $.quota_max_objects
            -
              lld_macro: '{#XMS_BUCKET_QUOTA_MAX_SIZE}'
              path: $.quota_max_size
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.os_buckets
        -
          uuid: 674be34249e54d65bb30697d15e3f2ce
          name: 'XMS NFS-Gateways Discovery'
          type: HTTP_AGENT
          key: xms.os_nfs_gateways.discovery
          delay: 1h
          item_prototypes:
            -
              uuid: 42797faf2d0942499673c16a98299c9f
              name: 'XMS NFS Gateway {#XMS_NFS_GATEWAY_NAME} Cpu Util Rate'
              type: DEPENDENT
              key: 'xms.nfs_gateway.samples.cpu_util[{#XMS_NFS_GATEWAY_ID}]'
              delay: '0'
              value_type: FLOAT
              units: '%'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.host.id == {#XMS_HOST_ID} && @.name == ''{#XMS_NFS_GATEWAY_NAME}'')]..samples[0].cpu_util.first()'
                -
                  type: MULTIPLIER
                  parameters:
                    - '100'
              master_item:
                key: xms.os_nfs_gateways.get
              tags:
                -
                  tag: Application
                  value: 'NFS Gateway {#XMS_NFS_GATEWAY_NAME}'
                -
                  tag: Application
                  value: 'XMS NFS-Gateways Discovery'
            -
              uuid: 702fe85eff9b425893330b766792472f
              name: 'XMS NFS Gateway {#XMS_NFS_GATEWAY_NAME} Down Bandwidth Byte'
              type: DEPENDENT
              key: 'xms.nfs_gateway.samples.down_bandwidth_kbyte[{#XMS_NFS_GATEWAY_ID}]'
              delay: '0'
              units: B/s
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.host.id == {#XMS_HOST_ID} && @.name == ''{#XMS_NFS_GATEWAY_NAME}'')]..samples[0].down_bandwidth_kbyte.first()'
                -
                  type: MULTIPLIER
                  parameters:
                    - '1024'
              master_item:
                key: xms.os_nfs_gateways.get
              tags:
                -
                  tag: Application
                  value: 'NFS Gateway {#XMS_NFS_GATEWAY_NAME}'
                -
                  tag: Application
                  value: 'XMS NFS-Gateways Discovery'
            -
              uuid: f98d33b8353840b6a13761555098f4ea
              name: 'XMS NFS Gateway {#XMS_NFS_GATEWAY_NAME} Down Latency Us'
              type: DEPENDENT
              key: 'xms.nfs_gateway.samples.down_latency_us[{#XMS_NFS_GATEWAY_ID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.host.id == {#XMS_HOST_ID} && @.name == ''{#XMS_NFS_GATEWAY_NAME}'')]..samples[0].down_latency_us.first()'
              master_item:
                key: xms.os_nfs_gateways.get
              tags:
                -
                  tag: Application
                  value: 'NFS Gateway {#XMS_NFS_GATEWAY_NAME}'
                -
                  tag: Application
                  value: 'XMS NFS-Gateways Discovery'
            -
              uuid: 90f482d8ab8a498d945f1ab8e095cde8
              name: 'XMS NFS Gateway {#XMS_NFS_GATEWAY_NAME} Down Ops'
              type: DEPENDENT
              key: 'xms.nfs_gateway.samples.down_ops[{#XMS_NFS_GATEWAY_ID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.host.id == {#XMS_HOST_ID} && @.name == ''{#XMS_NFS_GATEWAY_NAME}'')]..samples[0].down_ops.first()'
              master_item:
                key: xms.os_nfs_gateways.get
              tags:
                -
                  tag: Application
                  value: 'NFS Gateway {#XMS_NFS_GATEWAY_NAME}'
                -
                  tag: Application
                  value: 'XMS NFS-Gateways Discovery'
            -
              uuid: c71ddc188d794d4bb8d0191a15b2e764
              name: 'XMS NFS Gateway {#XMS_NFS_GATEWAY_NAME} Mem Usage Util Rate'
              type: DEPENDENT
              key: 'xms.nfs_gateway.samples.mem_usage_percent[{#XMS_NFS_GATEWAY_ID}]'
              delay: '0'
              value_type: FLOAT
              units: '%'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.host.id == {#XMS_HOST_ID} && @.name == ''{#XMS_NFS_GATEWAY_NAME}'')]..samples[0].mem_usage_percent.first()'
                -
                  type: MULTIPLIER
                  parameters:
                    - '100'
              master_item:
                key: xms.os_nfs_gateways.get
              tags:
                -
                  tag: Application
                  value: 'NFS Gateway {#XMS_NFS_GATEWAY_NAME}'
                -
                  tag: Application
                  value: 'XMS NFS-Gateways Discovery'
            -
              uuid: 052d779cd2b141808c64384013fd0374
              name: 'XMS NFS Gateway {#XMS_NFS_GATEWAY_NAME} Up Bandwidth Byte'
              type: DEPENDENT
              key: 'xms.nfs_gateway.samples.up_bandwidth_kbyte[{#XMS_NFS_GATEWAY_ID}]'
              delay: '0'
              units: B/s
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.host.id == {#XMS_HOST_ID} && @.name == ''{#XMS_NFS_GATEWAY_NAME}'')]..samples[0].up_bandwidth_kbyte.first()'
                -
                  type: MULTIPLIER
                  parameters:
                    - '1024'
              master_item:
                key: xms.os_nfs_gateways.get
              tags:
                -
                  tag: Application
                  value: 'NFS Gateway {#XMS_NFS_GATEWAY_NAME}'
                -
                  tag: Application
                  value: 'XMS NFS-Gateways Discovery'
            -
              uuid: 547e62544c0643ce80f727cf202f1402
              name: 'XMS NFS Gateway {#XMS_NFS_GATEWAY_NAME} Up Latency Us'
              type: DEPENDENT
              key: 'xms.nfs_gateway.samples.up_latency_us[{#XMS_NFS_GATEWAY_ID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.host.id == {#XMS_HOST_ID} && @.name == ''{#XMS_NFS_GATEWAY_NAME}'')]..samples[0].up_latency_us.first()'
              master_item:
                key: xms.os_nfs_gateways.get
              tags:
                -
                  tag: Application
                  value: 'NFS Gateway {#XMS_NFS_GATEWAY_NAME}'
                -
                  tag: Application
                  value: 'XMS NFS-Gateways Discovery'
            -
              uuid: 557a46a7bf2944158205739d994ab515
              name: 'XMS NFS Gateway {#XMS_NFS_GATEWAY_NAME} Up Ops'
              type: DEPENDENT
              key: 'xms.nfs_gateway.samples.up_ops[{#XMS_NFS_GATEWAY_ID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.host.id == {#XMS_HOST_ID} && @.name == ''{#XMS_NFS_GATEWAY_NAME}'')]..samples[0].up_ops.first()'
              master_item:
                key: xms.os_nfs_gateways.get
              tags:
                -
                  tag: Application
                  value: 'NFS Gateway {#XMS_NFS_GATEWAY_NAME}'
                -
                  tag: Application
                  value: 'XMS NFS-Gateways Discovery'
          url: 'http://{$XMS_API_IP}:{$XMS_API_PORT}/v1/nfs-gateways?limit=1000'
          headers:
            -
              name: Xms-Auth-Token
              value: '{$XMS_ACCESS_TOKEN}'
          lld_macro_paths:
            -
              lld_macro: '{#XMS_NFS_GATEWAY_ID}'
              path: $.id
            -
              lld_macro: '{#XMS_NFS_GATEWAY_NAME}'
              path: $.name
            -
              lld_macro: '{#XMS_HOST_ID}'
              path: $.host.id
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.nfs_gateways
        -
          uuid: 97eb5d1e8bfd46178f26db9cb6d9c32c
          name: 'XMS S3 Load Balancer Discovery'
          type: HTTP_AGENT
          key: xms.os_s3_load_balancers.discovery
          delay: 1h
          item_prototypes:
            -
              uuid: 5bbc29d8d38a48f2a1090d7ec3dfbbce
              name: 'XMS Load balancer {#XMS_S3_LOAD_BALANCER_NAME} Active Connections'
              type: DEPENDENT
              key: 'xms.s3_load_balancer.samples.active_connections[{#XMS_S3_LOAD_BALANCER_ID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_S3_LOAD_BALANCER_ID})].samples[0].active_connections.first()'
              master_item:
                key: xms.os_s3_load_balancer.get
              tags:
                -
                  tag: Application
                  value: 'S3 Load Balancer {#XMS_S3_LOAD_BALANCER_NAME}'
                -
                  tag: Application
                  value: 'XMS S3 Load Balancer Discovery'
              trigger_prototypes:
                -
                  uuid: 1e01e37dccee442abec6a37f7e19f28d
                  expression: 'last(/Storage XSKY XMS by HTTP/xms.s3_load_balancer.samples.active_connections[{#XMS_S3_LOAD_BALANCER_ID}])>={$XMS_S3_LOAD_BALANCER_ACTIVE_CONNECTIONS.WARN}'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'last(/Storage XSKY XMS by HTTP/xms.s3_load_balancer.samples.active_connections[{#XMS_S3_LOAD_BALANCER_ID}])<{$XMS_S3_LOAD_BALANCER_ACTIVE_CONNECTIONS.WARN}'
                  name: 'S3 Load Balancer {#XMS_S3_LOAD_BALANCER_NAME} Active Connections Are Greater Than {$XMS_S3_LOAD_BALANCER_ACTIVE_CONNECTIONS.WARN}'
                  priority: WARNING
            -
              uuid: a4254148e1c0441bbb76d874c34fb052
              name: 'XMS Load balancer {#XMS_S3_LOAD_BALANCER_NAME} CPU Util'
              type: DEPENDENT
              key: 'xms.s3_load_balancer.samples.cpu_util[{#XMS_S3_LOAD_BALANCER_ID}]'
              delay: '0'
              value_type: FLOAT
              units: '%'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_S3_LOAD_BALANCER_ID})].samples[0].cpu_util.first()'
                -
                  type: MULTIPLIER
                  parameters:
                    - '100'
              master_item:
                key: xms.os_s3_load_balancer.get
              tags:
                -
                  tag: Application
                  value: 'S3 Load Balancer {#XMS_S3_LOAD_BALANCER_NAME}'
                -
                  tag: Application
                  value: 'XMS S3 Load Balancer Discovery'
              trigger_prototypes:
                -
                  uuid: 31b3c44632a34061b8511d915cd925f8
                  expression: 'last(/Storage XSKY XMS by HTTP/xms.s3_load_balancer.samples.cpu_util[{#XMS_S3_LOAD_BALANCER_ID}])>={$XMS_S3_LOAD_BALANCER_CPU_UTIL.WARN}'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'last(/Storage XSKY XMS by HTTP/xms.s3_load_balancer.samples.cpu_util[{#XMS_S3_LOAD_BALANCER_ID}])<{$XMS_S3_LOAD_BALANCER_CPU_UTIL.WARN}'
                  name: 'S3 Load Balancer {#XMS_S3_LOAD_BALANCER_NAME} CPU Usage is Greater Than {$XMS_S3_LOAD_BALANCER_CPU_UTIL.WARN}%'
                  priority: WARNING
            -
              uuid: f441f0648e5446ca94a497b812c46cbe
              name: 'XMS Load balancer {#XMS_S3_LOAD_BALANCER_NAME} Mem Usage Util'
              type: DEPENDENT
              key: 'xms.s3_load_balancer.samples.mem_usage_percent[{#XMS_S3_LOAD_BALANCER_ID}]'
              delay: '0'
              value_type: FLOAT
              units: '%'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_S3_LOAD_BALANCER_ID})].samples[0].mem_usage_percent.first()'
                -
                  type: MULTIPLIER
                  parameters:
                    - '100'
              master_item:
                key: xms.os_s3_load_balancer.get
              tags:
                -
                  tag: Application
                  value: 'S3 Load Balancer {#XMS_S3_LOAD_BALANCER_NAME}'
                -
                  tag: Application
                  value: 'XMS S3 Load Balancer Discovery'
              trigger_prototypes:
                -
                  uuid: 51dad7b3dfb34dab80a8c9d403aae95b
                  expression: 'last(/Storage XSKY XMS by HTTP/xms.s3_load_balancer.samples.mem_usage_percent[{#XMS_S3_LOAD_BALANCER_ID}])>={$XMS_S3_LOAD_BALANCER_MEM_USAGE_PERCENT.WARN}'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'last(/Storage XSKY XMS by HTTP/xms.s3_load_balancer.samples.mem_usage_percent[{#XMS_S3_LOAD_BALANCER_ID}])<{$XMS_S3_LOAD_BALANCER_MEM_USAGE_PERCENT.WARN}'
                  name: 'S3 Load Balancer {#XMS_S3_LOAD_BALANCER_NAME} Memory Usage is Greater Than {$XMS_S3_LOAD_BALANCER_MEM_USAGE_PERCENT.WARN}%'
                  priority: WARNING
            -
              uuid: c1f927fd79044fa491f715991a559456
              name: 'XMS Load balancer {#XMS_S3_LOAD_BALANCER_NAME} Status'
              type: DEPENDENT
              key: 'xms.s3_load_balancer.status[{#XMS_S3_LOAD_BALANCER_ID}]'
              delay: '0'
              trends: '0'
              value_type: CHAR
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_S3_LOAD_BALANCER_ID})].status.first()'
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: xms.os_s3_load_balancer.get
              tags:
                -
                  tag: Application
                  value: 'S3 Load Balancer {#XMS_S3_LOAD_BALANCER_NAME}'
                -
                  tag: Application
                  value: 'XMS S3 Load Balancer Discovery'
              trigger_prototypes:
                -
                  uuid: 18ae152c8fd140408bb26d7642bfaf82
                  expression: 'find(/Storage XSKY XMS by HTTP/xms.s3_load_balancer.status[{#XMS_S3_LOAD_BALANCER_ID}],,"like","error")=1'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'find(/Storage XSKY XMS by HTTP/xms.s3_load_balancer.status[{#XMS_S3_LOAD_BALANCER_ID}],,"like","active")=1'
                  name: 'S3 Load Balancer {#XMS_S3_LOAD_BALANCER_NAME} Status Is Error'
                  priority: DISASTER
          url: 'http://{$XMS_API_IP}:{$XMS_API_PORT}/v1/s3-load-balancers?limit=1000'
          headers:
            -
              name: Xms-Auth-Token
              value: '{$XMS_ACCESS_TOKEN}'
          lld_macro_paths:
            -
              lld_macro: '{#XMS_S3_LOAD_BALANCER_ID}'
              path: $.id
            -
              lld_macro: '{#XMS_S3_LOAD_BALANCER_NAME}'
              path: $.name
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.s3_load_balancers
        -
          uuid: 68fd034e83764b189ddb4fd74ff4a0d5
          name: 'XMS OS-User Discovery'
          type: HTTP_AGENT
          key: xms.os_users.discovery
          delay: 1h
          item_prototypes:
            -
              uuid: 0aa7824d1b0e497695f7794bb1e0f9f1
              name: 'XMS OS-User {#XMS_OS_USER_NAME} Allocated Objects'
              type: DEPENDENT
              key: 'xms.os_user.allocated_objects[{#XMS_OS_USER_ID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_OS_USER_ID})].samples[0].allocated_objects.first()'
              master_item:
                key: xms.os_users.get
              tags:
                -
                  tag: Application
                  value: 'OS User {#XMS_OS_USER_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-User Discovery'
              trigger_prototypes:
                -
                  uuid: 89e3e1a605734dce996f0fd6a6d2cceb
                  expression: 'last(/Storage XSKY XMS by HTTP/xms.os_user.allocated_objects[{#XMS_OS_USER_ID}])>={#XMS_OS_USER_USER_QUOTA_MAX_OBJECTS}*{$XMS_OS_USER_ALLOCATED_OBJECTS.MAX.WARN}/100 and {#XMS_OS_USER_USER_QUOTA_MAX_OBJECTS} > 0'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'last(/Storage XSKY XMS by HTTP/xms.os_user.allocated_objects[{#XMS_OS_USER_ID}])<{#XMS_OS_USER_USER_QUOTA_MAX_OBJECTS}*{$XMS_OS_USER_ALLOCATED_OBJECTS.MAX.WARN}/100 or {#XMS_OS_USER_USER_QUOTA_MAX_OBJECTS} = 0'
                  name: 'Object Storage User {#XMS_OS_USER_NAME} Allocated Objects Is Greater Than {$XMS_OS_USER_ALLOCATED_OBJECTS.MAX.WARN}%'
                  priority: WARNING
                  manual_close: 'YES'
            -
              uuid: 94f27445897f4ac9a734eede0fc46afd
              name: 'XMS OS-User {#XMS_OS_USER_NAME} Allocated Size'
              type: DEPENDENT
              key: 'xms.os_user.allocated_size[{#XMS_OS_USER_ID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_OS_USER_ID})].samples[0].allocated_size.first()'
              master_item:
                key: xms.os_users.get
              tags:
                -
                  tag: Application
                  value: 'OS User {#XMS_OS_USER_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-User Discovery'
              trigger_prototypes:
                -
                  uuid: 5428e805194b4e3bb84b4c82a881b6da
                  expression: 'last(/Storage XSKY XMS by HTTP/xms.os_user.allocated_size[{#XMS_OS_USER_ID}])>={#XMS_OS_USER_USER_QUOTA_MAX_SIZE}*{$XMS_OS_USER_ALLOCATED_SIZE.MAX.WARN}/100 and {#XMS_OS_USER_USER_QUOTA_MAX_SIZE} > 0'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'last(/Storage XSKY XMS by HTTP/xms.os_user.allocated_size[{#XMS_OS_USER_ID}])<{#XMS_OS_USER_USER_QUOTA_MAX_SIZE}*{$XMS_OS_USER_ALLOCATED_SIZE.MAX.WARN}/100 or {#XMS_OS_USER_USER_QUOTA_MAX_SIZE} = 0'
                  name: 'Object Storage User {#XMS_OS_USER_NAME} Allocated Size Is Greater Than {$XMS_OS_USER_ALLOCATED_SIZE.MAX.WARN}%'
                  priority: WARNING
                  manual_close: 'YES'
            -
              uuid: f3ee64617c25461db668461296ab0901
              name: 'XMS OS-User {#XMS_OS_USER_NAME} Bucket Num'
              type: DEPENDENT
              key: 'xms.os_user.bucket_num[{#XMS_OS_USER_ID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_OS_USER_ID})].bucket_num.first()'
              master_item:
                key: xms.os_users.get
              tags:
                -
                  tag: Application
                  value: 'OS User {#XMS_OS_USER_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-User Discovery'
            -
              uuid: 854856fe541f483c8b6f3bba8d8eb278
              name: 'XMS OS-User {#XMS_OS_USER_NAME} Bucket Quota Max Objects'
              type: DEPENDENT
              key: 'xms.os_user.bucket_quota_max_objects[{#XMS_OS_USER_ID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_OS_USER_ID})].bucket_quota_max_objects.first()'
              master_item:
                key: xms.os_users.get
              tags:
                -
                  tag: Application
                  value: 'OS User {#XMS_OS_USER_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-User Discovery'
            -
              uuid: d9af2f3f0b0146f1af442ca03c57a2d0
              name: 'XMS OS-User {#XMS_OS_USER_NAME} Bucket Quota Max Size'
              type: DEPENDENT
              key: 'xms.os_user.bucket_quota_max_size[{#XMS_OS_USER_ID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_OS_USER_ID})].bucket_quota_max_size.first()'
              master_item:
                key: xms.os_users.get
              tags:
                -
                  tag: Application
                  value: 'OS User {#XMS_OS_USER_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-User Discovery'
            -
              uuid: 16568fdaaff542d98fc292707fc048a1
              name: 'XMS OS-User {#XMS_OS_USER_NAME} Max Buckets'
              type: DEPENDENT
              key: 'xms.os_user.max_buckets[{#XMS_OS_USER_ID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_OS_USER_ID})].max_buckets.first()'
              master_item:
                key: xms.os_users.get
              tags:
                -
                  tag: Application
                  value: 'OS User {#XMS_OS_USER_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-User Discovery'
            -
              uuid: b952c30784a9488699ceef566ec53e37
              name: 'XMS OS-User {#XMS_OS_USER_NAME} Del Ops'
              type: DEPENDENT
              key: 'xms.os_user.samples.del_ops_pm[{#XMS_OS_USER_ID}]'
              delay: '0'
              units: /min
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_OS_USER_ID})].samples[0].del_ops_pm.first()'
              master_item:
                key: xms.os_users.get
              tags:
                -
                  tag: Application
                  value: 'OS User {#XMS_OS_USER_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-User Discovery'
            -
              uuid: 792a22c1bf564aa89e00ea215feba4d5
              name: 'XMS OS-User {#XMS_OS_USER_NAME} Rx Bandwidth Byte Rate'
              type: DEPENDENT
              key: 'xms.os_user.samples.rx_bandwidth_kbyte[{#XMS_OS_USER_ID}]'
              delay: '0'
              units: B/s
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_OS_USER_ID})].samples[0].rx_bandwidth_kbyte.first()'
                -
                  type: MULTIPLIER
                  parameters:
                    - '1024'
              master_item:
                key: xms.os_users.get
              tags:
                -
                  tag: Application
                  value: 'OS User {#XMS_OS_USER_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-User Discovery'
            -
              uuid: 074958d4599d4b22a180efe1b7644161
              name: 'XMS OS-User {#XMS_OS_USER_NAME} Rx Ops'
              type: DEPENDENT
              key: 'xms.os_user.samples.rx_ops_pm[{#XMS_OS_USER_ID}]'
              delay: '0'
              units: /min
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_OS_USER_ID})].samples[0].rx_ops_pm.first()'
              master_item:
                key: xms.os_users.get
              tags:
                -
                  tag: Application
                  value: 'OS User {#XMS_OS_USER_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-User Discovery'
            -
              uuid: e55e0d9a37c14ae6a26f6f235e302b78
              name: 'XMS OS-User {#XMS_OS_USER_NAME} Tx_Bandwidth_Byte Rate'
              type: DEPENDENT
              key: 'xms.os_user.samples.tx_bandwidth_kbyte[{#XMS_OS_USER_ID}]'
              delay: '0'
              units: B/s
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_OS_USER_ID})].samples[0].tx_bandwidth_kbyte.first()'
                -
                  type: MULTIPLIER
                  parameters:
                    - '1024'
              master_item:
                key: xms.os_users.get
              tags:
                -
                  tag: Application
                  value: 'OS User {#XMS_OS_USER_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-User Discovery'
            -
              uuid: dee83aafef7642b1a1a4223663ea8e00
              name: 'XMS OS-User {#XMS_OS_USER_NAME} Tx Ops'
              type: DEPENDENT
              key: 'xms.os_user.samples.tx_ops_pm[{#XMS_OS_USER_ID}]'
              delay: '0'
              units: /min
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_OS_USER_ID})].samples[0].tx_ops_pm.first()'
              master_item:
                key: xms.os_users.get
              tags:
                -
                  tag: Application
                  value: 'OS User {#XMS_OS_USER_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-User Discovery'
            -
              uuid: 41e19a32c200456c9b275ea9b037fb7a
              name: 'XMS OS-User {#XMS_OS_USER_NAME} Status'
              type: DEPENDENT
              key: 'xms.os_user.status[{#XMS_OS_USER_ID}]'
              delay: '0'
              trends: '0'
              value_type: CHAR
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_OS_USER_ID})].status.first()'
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: xms.os_users.get
              tags:
                -
                  tag: Application
                  value: 'OS User {#XMS_OS_USER_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-User Discovery'
            -
              uuid: f0b75faa0b3e401189bd63edbb526c3c
              name: 'XMS OS-User {#XMS_OS_USER_NAME} User Quota Max Objects'
              type: DEPENDENT
              key: 'xms.os_user.user_quota_max_objects[{#XMS_OS_USER_ID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_OS_USER_ID})].user_quota_max_objects.first()'
              master_item:
                key: xms.os_users.get
              tags:
                -
                  tag: Application
                  value: 'OS User {#XMS_OS_USER_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-User Discovery'
            -
              uuid: 2b0c81560fca4cb3ae40d1d733fabc0c
              name: 'XMS OS-User {#XMS_OS_USER_NAME} User Quota Max Size'
              type: DEPENDENT
              key: 'xms.os_user.user_quota_max_size[{#XMS_OS_USER_ID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_OS_USER_ID})].user_quota_max_size.first()'
              master_item:
                key: xms.os_users.get
              tags:
                -
                  tag: Application
                  value: 'OS User {#XMS_OS_USER_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-User Discovery'
          url: 'http://{$XMS_API_IP}:{$XMS_API_PORT}/v1/os-users?limit=1000'
          headers:
            -
              name: Xms-Auth-Token
              value: '{$XMS_ACCESS_TOKEN}'
          lld_macro_paths:
            -
              lld_macro: '{#XMS_OS_USER_ID}'
              path: $.id
            -
              lld_macro: '{#XMS_OS_USER_NAME}'
              path: $.name
            -
              lld_macro: '{#XMS_OS_USER_ALLOCATED_OBJECTS}'
              path: '$.samples[0].allocated_objects'
            -
              lld_macro: '{#XMS_OS_USER_ALLOCATED_SIZE}'
              path: '$.samples[0].allocated_size'
            -
              lld_macro: '{#XMS_OS_USER_USER_QUOTA_MAX_OBJECTS}'
              path: $.user_quota_max_objects
            -
              lld_macro: '{#XMS_OS_USER_USER_QUOTA_MAX_SIZE}'
              path: $.user_quota_max_size
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.os_users
        -
          uuid: cc924495fb4c4f1fbb589d07b55fadc7
          name: 'XMS OS-Zones Discovery'
          type: HTTP_AGENT
          key: xms.os_zones.discovery
          delay: 1h
          item_prototypes:
            -
              uuid: 2106781d532b4e8f9258133de8d612d3
              name: 'XMS OS-Zones {#XMS_OS_ZONE_NAME} Alias'
              type: DEPENDENT
              key: 'xms.os_zones.alias[{#XMS_OS_ZONE_ID}]'
              delay: '0'
              trends: '0'
              value_type: CHAR
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_OS_ZONE_ID})].alias.first()'
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: xms.os_zone.get
              tags:
                -
                  tag: Application
                  value: 'OS Zones {#XMS_OS_ZONE_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-Zones Discovery'
            -
              uuid: 7fbd9ab819e14288a1888a8b7bbd71ea
              name: 'XMS OS-Zones {#XMS_OS_ZONE_NAME} Connect Status'
              type: DEPENDENT
              key: 'xms.os_zones.connected[{#XMS_OS_ZONE_ID}]'
              delay: '0'
              trends: '0'
              value_type: CHAR
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_OS_ZONE_ID})].connected.first()'
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: xms.os_zone.get
              tags:
                -
                  tag: Application
                  value: 'OS Zones {#XMS_OS_ZONE_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-Zones Discovery'
            -
              uuid: 532ed23e89d449c5a527dbeb49ed4671
              name: 'XMS OS-Zones {#XMS_OS_ZONE_NAME} Objects OPS'
              type: DEPENDENT
              key: 'xms.os_zones.samples.objects_pm[{#XMS_OS_ZONE_ID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_OS_ZONE_ID})].samples[0].objects_pm.first()'
              master_item:
                key: xms.os_zone.get
              tags:
                -
                  tag: Application
                  value: 'OS Zones {#XMS_OS_ZONE_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-Zones Discovery'
            -
              uuid: 335dc533cca547b4a906fbb98432a33f
              name: 'XMS OS-Zones {#XMS_OS_ZONE_NAME} Object Bytes Ps'
              type: DEPENDENT
              key: 'xms.os_zones.samples.object_kbytes_ps[{#XMS_OS_ZONE_ID}]'
              delay: '0'
              units: B
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_OS_ZONE_ID})].samples[0].object_kbytes_ps.first()'
                -
                  type: MULTIPLIER
                  parameters:
                    - '1024'
              master_item:
                key: xms.os_zone.get
              tags:
                -
                  tag: Application
                  value: 'OS Zones {#XMS_OS_ZONE_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-Zones Discovery'
            -
              uuid: 2e01fb9e323749f0b11bb928af19d9b3
              name: 'XMS OS-Zones {#XMS_OS_ZONE_NAME} Total Objects'
              type: DEPENDENT
              key: 'xms.os_zones.samples.total_objects[{#XMS_OS_ZONE_ID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_OS_ZONE_ID})].samples[0].total_objects.first()'
              master_item:
                key: xms.os_zone.get
              tags:
                -
                  tag: Application
                  value: 'OS Zones {#XMS_OS_ZONE_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-Zones Discovery'
            -
              uuid: 8459e4549d014dca9d4c711c75637941
              name: 'XMS OS-Zones {#XMS_OS_ZONE_NAME} Total Object Capacity'
              type: DEPENDENT
              key: 'xms.os_zones.samples.total_object_bytes[{#XMS_OS_ZONE_ID}]'
              delay: '0'
              value_type: FLOAT
              units: B
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#XMS_OS_ZONE_ID})].samples[0].total_object_bytes.first()'
              master_item:
                key: xms.os_zone.get
              tags:
                -
                  tag: Application
                  value: 'OS Zones {#XMS_OS_ZONE_NAME}'
                -
                  tag: Application
                  value: 'XMS OS-Zones Discovery'
          url: 'http://{$XMS_API_IP}:{$XMS_API_PORT}/v1/os-zones?limit=1000'
          headers:
            -
              name: Xms-Auth-Token
              value: '{$XMS_ACCESS_TOKEN}'
          lld_macro_paths:
            -
              lld_macro: '{#XMS_OS_ZONE_ALIAS}'
              path: $.alias
            -
              lld_macro: '{#XMS_OS_ZONE_NAME}'
              path: $.name
            -
              lld_macro: '{#XMS_OS_ZONE_ID}'
              path: $.id
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.os_zones
        -
          uuid: c5d74301be9041649512a8a3631e6895
          name: 'XMS POOL Discovery'
          type: HTTP_AGENT
          key: xms.pools.discovery
          delay: 1h
          item_prototypes:
            -
              uuid: f16834f940ba4f37919d2db94aa5d4c0
              name: 'XMS Pool {#POOLNAME} Actual Capacity'
              type: DEPENDENT
              key: 'xms.pool.samples.actual_kbyte[{#POOLID}]'
              delay: '0'
              units: B
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#POOLID})].samples[0].actual_kbyte.first()'
                -
                  type: MULTIPLIER
                  parameters:
                    - '1024'
              master_item:
                key: xms.pools.get
              tags:
                -
                  tag: Application
                  value: 'Pool {#POOLNAME}'
                -
                  tag: Application
                  value: 'XMS POOL Discovery'
            -
              uuid: 2fccf14d223f4929a2967ce86b705d19
              name: 'XMS Pool {#POOLNAME} Data Capacity'
              type: DEPENDENT
              key: 'xms.pool.samples.data_kbyte[{#POOLID}]'
              delay: '0'
              units: B
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#POOLID})].samples[0].data_kbyte.first()'
                -
                  type: MULTIPLIER
                  parameters:
                    - '1024'
              master_item:
                key: xms.pools.get
              tags:
                -
                  tag: Application
                  value: 'Pool {#POOLNAME}'
                -
                  tag: Application
                  value: 'XMS POOL Discovery'
              trigger_prototypes:
                -
                  uuid: d76ec990b09a405dae7ebe52d58f8c3d
                  expression: 'last(/Storage XSKY XMS by HTTP/xms.pool.samples.data_kbyte[{#POOLID}])>={#POOLSTATUS_ACTUAL_KBYTE}*{$XMS_POOL_DATA_KBYTE.MAX.DISASTER}/100*1024'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'last(/Storage XSKY XMS by HTTP/xms.pool.samples.data_kbyte[{#POOLID}])<{#POOLSTATUS_ACTUAL_KBYTE}*{$XMS_POOL_DATA_KBYTE.MAX.DISASTER}/100*1024'
                  name: 'Pool {#POOLNAME} Capacity Usage Is Greater Than {$XMS_POOL_DATA_KBYTE.MAX.DISASTER}%'
                  priority: DISASTER
                -
                  uuid: d45461cd6069484bb401cc70f450ff8f
                  expression: 'last(/Storage XSKY XMS by HTTP/xms.pool.samples.data_kbyte[{#POOLID}])>={#POOLSTATUS_ACTUAL_KBYTE}*{$XMS_POOL_DATA_KBYTE.MAX.HIGH}/100*1024'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'last(/Storage XSKY XMS by HTTP/xms.pool.samples.data_kbyte[{#POOLID}])<{#POOLSTATUS_ACTUAL_KBYTE}*{$XMS_POOL_DATA_KBYTE.MAX.HIGH}/100*1024'
                  name: 'Pool {#POOLNAME}  Capacity Usage Is Greater Than {$XMS_POOL_DATA_KBYTE.MAX.HIGH}%'
                  priority: HIGH
                -
                  uuid: 0facad0418a24bd79d6e79e5d9dfe6d8
                  expression: 'last(/Storage XSKY XMS by HTTP/xms.pool.samples.data_kbyte[{#POOLID}])>={#POOLSTATUS_ACTUAL_KBYTE}*{$XMS_POOL_DATA_KBYTE.MAX.WARN}/100*1024'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'last(/Storage XSKY XMS by HTTP/xms.pool.samples.data_kbyte[{#POOLID}])<{#POOLSTATUS_ACTUAL_KBYTE}*{$XMS_POOL_DATA_KBYTE.MAX.WARN}/100*1024'
                  name: 'Pool {#POOLNAME} Capacity Usage Is Greater Than {$XMS_POOL_DATA_KBYTE.MAX.WARN}%'
                  priority: WARNING
            -
              uuid: 355ac500744447298bf9895131c8e42d
              name: 'XMS Pool {#POOLNAME} Read Bandwidth'
              type: DEPENDENT
              key: 'xms.pool.samples.read_bandwidth_kbyte[{#POOLID}]'
              delay: '0'
              units: B/s
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#POOLID})].samples[0].read_bandwidth_kbyte.first()'
                -
                  type: MULTIPLIER
                  parameters:
                    - '1024'
              master_item:
                key: xms.pools.get
              tags:
                -
                  tag: Application
                  value: 'Pool {#POOLNAME}'
                -
                  tag: Application
                  value: 'XMS POOL Discovery'
            -
              uuid: d7ccdacc6f4c4411bd942374d2c887bf
              name: 'XMS Pool {#POOLNAME} Read Iops'
              type: DEPENDENT
              key: 'xms.pool.samples.read_iops[{#POOLID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#POOLID})].samples[0].read_iops.first()'
              master_item:
                key: xms.pools.get
              tags:
                -
                  tag: Application
                  value: 'Pool {#POOLNAME}'
                -
                  tag: Application
                  value: 'XMS POOL Discovery'
            -
              uuid: 28f2e444819d4d21bf8b7d59df5eaa80
              name: 'XMS Pool {#POOLNAME} Read Latency'
              type: DEPENDENT
              key: 'xms.pool.samples.read_latency_us[{#POOLID}]'
              delay: '0'
              units: us
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#POOLID})].samples[0].read_latency_us.first()'
              master_item:
                key: xms.pools.get
              tags:
                -
                  tag: Application
                  value: 'Pool {#POOLNAME}'
                -
                  tag: Application
                  value: 'XMS POOL Discovery'
            -
              uuid: c08b1c51ed42431585dceeef060d74a5
              name: 'XMS Pool {#POOLNAME} Recovery Bandwidth'
              type: DEPENDENT
              key: 'xms.pool.samples.recovery_bandwidth_kbyte[{#POOLID}]'
              delay: '0'
              units: B/s
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#POOLID})].samples[0].recovery_bandwidth_kbyte.first()'
                -
                  type: MULTIPLIER
                  parameters:
                    - '1024'
              master_item:
                key: xms.pools.get
              tags:
                -
                  tag: Application
                  value: 'Pool {#POOLNAME}'
                -
                  tag: Application
                  value: 'XMS POOL Discovery'
            -
              uuid: c3c00275fd0545a3b7b2e4f29cfbc7fb
              name: 'XMS Pool {#POOLNAME} Recovery Iops'
              type: DEPENDENT
              key: 'xms.pool.samples.recovery_iops[{#POOLID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#POOLID})].samples[0].recovery_iops.first()'
              master_item:
                key: xms.pools.get
              tags:
                -
                  tag: Application
                  value: 'Pool {#POOLNAME}'
                -
                  tag: Application
                  value: 'XMS POOL Discovery'
            -
              uuid: 10fece60a4174ef3a85cd79de76eb125
              name: 'XMS Pool {#POOLNAME} Write Bandwidth'
              type: DEPENDENT
              key: 'xms.pool.samples.write_bandwidth_kbyte[{#POOLID}]'
              delay: '0'
              units: B/s
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#POOLID})].samples[0].write_bandwidth_kbyte.first()'
                -
                  type: MULTIPLIER
                  parameters:
                    - '1024'
              master_item:
                key: xms.pools.get
              tags:
                -
                  tag: Application
                  value: 'Pool {#POOLNAME}'
                -
                  tag: Application
                  value: 'XMS POOL Discovery'
            -
              uuid: be79c0c84bb642a182d9346a6063a582
              name: 'XMS Pool {#POOLNAME} Write Iops'
              type: DEPENDENT
              key: 'xms.pool.samples.write_iops[{#POOLID}]'
              delay: '0'
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#POOLID})].samples[0].write_iops.first()'
              master_item:
                key: xms.pools.get
              tags:
                -
                  tag: Application
                  value: 'Pool {#POOLNAME}'
                -
                  tag: Application
                  value: 'XMS POOL Discovery'
            -
              uuid: 61e7425171124759af4dee1cfba1216d
              name: 'XMS Pool {#POOLNAME} Write Latency'
              type: DEPENDENT
              key: 'xms.pool.samples.write_latency_us[{#POOLID}]'
              delay: '0'
              units: us
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#POOLID})].samples[0].write_latency_us.first()'
              master_item:
                key: xms.pools.get
              tags:
                -
                  tag: Application
                  value: 'Pool {#POOLNAME}'
                -
                  tag: Application
                  value: 'XMS POOL Discovery'
            -
              uuid: 9cc33a6ef9b44ae5bd2c8ee5c1aba918
              name: 'XMS Pool {#POOLNAME} Status'
              type: DEPENDENT
              key: 'xms.pool.status[{#POOLID}]'
              delay: '0'
              trends: '0'
              value_type: CHAR
              preprocessing:
                -
                  type: JSONPATH
                  parameters:
                    - '$.[?(@.id == {#POOLID})].status.first()'
                -
                  type: DISCARD_UNCHANGED_HEARTBEAT
                  parameters:
                    - 6h
              master_item:
                key: xms.pools.get
              tags:
                -
                  tag: Application
                  value: 'Pool {#POOLNAME}'
                -
                  tag: Application
                  value: 'XMS POOL Discovery'
              trigger_prototypes:
                -
                  uuid: 0c9a9e05473b4266bb856d653f946583
                  expression: 'find(/Storage XSKY XMS by HTTP/xms.pool.status[{#POOLID}],,"like","degraded")=1'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'find(/Storage XSKY XMS by HTTP/xms.pool.status[{#POOLID}],,"like","active")=1'
                  name: 'Pool {#POOLNAME} Status Is degraded'
                  priority: WARNING
                -
                  uuid: c9238072850a4e50a5a94ad11f301229
                  expression: 'find(/Storage XSKY XMS by HTTP/xms.pool.status[{#POOLID}],,"like","error")=1'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'find(/Storage XSKY XMS by HTTP/xms.pool.status[{#POOLID}],,"like","active")=1'
                  name: 'Pool {#POOLNAME} Status Is error'
                  priority: DISASTER
                -
                  uuid: 2225b779877d45a2850e2580ad016029
                  expression: 'find(/Storage XSKY XMS by HTTP/xms.pool.status[{#POOLID}],,"like","full")=1'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'find(/Storage XSKY XMS by HTTP/xms.pool.status[{#POOLID}],,"like","active")=1'
                  name: 'Pool {#POOLNAME} Status Is full'
                  priority: DISASTER
          url: 'http://{$XMS_API_IP}:{$XMS_API_PORT}/v1/pools?limit=1000'
          headers:
            -
              name: Xms-Auth-Token
              value: '{$XMS_ACCESS_TOKEN}'
          lld_macro_paths:
            -
              lld_macro: '{#POOLNAME}'
              path: $.name
            -
              lld_macro: '{#POOLID}'
              path: $.id
            -
              lld_macro: '{#POOLSTATUS}'
              path: $.status
            -
              lld_macro: '{#POOLSTATUS_ACTUAL_KBYTE}'
              path: '$.samples[0].actual_kbyte'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - $.pools
      macros:
        -
          macro: '{$XMS_ACCESS_TOKEN}'
          value: d862495fc8304b738e537d9c121ce2a6
          description: 'XMS Access Token'
        -
          macro: '{$XMS_API_IP}'
          value: 10.255.20.148
          description: 'XMS API IP Address'
        -
          macro: '{$XMS_API_PORT}'
          value: '8051'
          description: 'XMS API Port'
        -
          macro: '{$XMS_BUCKET_ALLOCATED_OBJECTS.MAX.WARN}'
          value: '80'
          description: 'XMS Bucket Allocated Objects'
        -
          macro: '{$XMS_BUCKET_ALLOCATED_SIZE.MAX.WARN}'
          value: '80'
          description: 'Max Warn Percentage of XMS Bucket Allocated Size'
        -
          macro: '{$XMS_OSDS_IO_UTIL.MAX.WARN}'
          value: '90'
          description: 'Max Warn Percentage of XMS OSDS IO Util'
        -
          macro: '{$XMS_OSDS_USED_BYTE.MAX.DISASTER}'
          value: '85'
          description: 'Max Disaster Percentage of XMS OSDS Used Byte'
        -
          macro: '{$XMS_OSDS_USED_BYTE.MAX.WARN}'
          value: '80'
          description: 'Max Warn Percentage of XMS OSDS Used_Byte'
        -
          macro: '{$XMS_OS_USER_ALLOCATED_OBJECTS.MAX.WARN}'
          value: '80'
          description: 'Max Warn Percentage of XMS OS User Allocated Objects'
        -
          macro: '{$XMS_OS_USER_ALLOCATED_SIZE.MAX.WARN}'
          value: '80'
          description: 'Max Warn Percentage of XMS OS_User Allocated Size'
        -
          macro: '{$XMS_POOL_DATA_KBYTE.MAX.DISASTER}'
          value: '90'
          description: 'Max Disaster Percentage of XMS Pool Data kbyte'
        -
          macro: '{$XMS_POOL_DATA_KBYTE.MAX.HIGH}'
          value: '85'
          description: 'Max High Percentage of XMS Pool Data kbyte'
        -
          macro: '{$XMS_POOL_DATA_KBYTE.MAX.WARN}'
          value: '80'
          description: 'Max Warn Percentage of XMS Pool Data kbyte'
        -
          macro: '{$XMS_S3_LOAD_BALANCER_ACTIVE_CONNECTIONS.WARN}'
          value: '1024'
          description: 'Max Warn Value of XMS S3 Load Balancer Active Connections'
        -
          macro: '{$XMS_S3_LOAD_BALANCER_CPU_UTIL.WARN}'
          value: '80'
          description: 'Max Warn Percentage of XMS S3 Load Balancer CPU Util'
        -
          macro: '{$XMS_S3_LOAD_BALANCER_MEM_USAGE_PERCENT.WARN}'
          value: '80'
          description: 'Max Warn Percentage of XMS S3 Load Balancer MEM Usage'
