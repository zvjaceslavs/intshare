zabbix_export:
  version: '5.4'
  date: '2021-11-21T21:35:16Z'
  groups:
    -
      uuid: 7df96b18c230490a9a0a9e2307226338
      name: Templates
  templates:
    -
      uuid: b11f6b5bde114e39827dc830f381fee1
      template: 'SNMP FreeNAS 11'
      name: 'SNMP FreeNAS 11'
      description: |
        ## Overview
        
        This is based on [https://share.zabbix.com/storage-devices/freenas-snmp-w-zfs-stats](storage-devices/freenas-snmp-w-zfs-stats)  
          
        It has more graphs and triggers. It uses the OID as zabbix was having issues parsing the MIB.
        
        
        Please Note: For ZVols, ZPools and Datasets the data is multiplied by 4096 under PreProcessing. This is the AllocationUnits. All of mine were 4096 so decided this is neater. Obviously this can be changed if required, you can get this data from an SNMP Walk. This could be done automatically by creating a item prototype of allocationUnits, another to get the data in units and then another item prototype to to calculate the value in bytes. Instead of 14 item prototypes; there would be 42. If anyone knows of a better way then please let me know.
        
        
        Eg: snmpwalk -v 2c -c public 192.168.1.50 FREENAS-MIB::zvolAllocationUnits  
        snmpwalk -v 2c -c public 192.168.1.50 FREENAS-MIB::zpoolAllocationUnits  
        snmpwalk -v 2c -c public 192.168.1.50 FREENAS-MIB::datasetAllocationUnits  
          
        Note: You might get erros if you don't fix the MIB. See bug here:  
        <https://forums.freenas.org/index.php?threads/freenas-11-1-snmp-index-out-of-range.62732/>  
          
        1) Import the following templates if they are not already  
        [https://share.zabbix.com/official-templates/snmp-devices/snmp-interfaces-discovery](official-templates/snmp-devices/snmp-interfaces-discovery)  
        [https://share.zabbix.com/official-templates/snmp-devices/snmp-processors-discovery](official-templates/snmp-devices/snmp-processors-discovery)  
        [https://share.zabbix.com/official-templates/snmp-devices/snmp-generic](official-templates/snmp-devices/snmp-generic)
        
        
        2) The FREENAS-MIB.txt will also need to be uploaded to your Zabbix Server. The MIB can be downloaded from your FreeNAS server and is located in /usr/local/share/snmp/mibs/.
        
        
        3) Import the template  
          
        4) Add the host, include the macro {$SNMP\_COMMUNITY}  
          
        5) Wait  
          
        Memory should be pretty quick while the zpools might take a while.
        
        
        
        ## Author
        
        Chris Hamer & from previous template FreeNAS Community/Marty Godsey
        
        
      templates:
        -
          name: 'Template SNMP Generic'
        -
          name: 'Template SNMP Interfaces'
        -
          name: 'Template SNMP Processors'
      groups:
        -
          name: Templates
      items:
        -
          uuid: 6668691437e5462cad0c2775ae2a6630
          name: 'Available Real Memory'
          type: SNMP_AGENT
          snmp_oid: 'UCD-SNMP-MIB::memAvailReal.0'
          key: memAvailReal
          delay: 60s
          units: B
          description: |
            Real Memory Available
            
            OID: .1.3.6.1.4.1.2021.4.6
            
            The amount of real/physical memory currently unused
            or available.
            
            http://www.net-snmp.org/docs/mibs/ucdavis.html
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '1024'
          tags:
            -
              tag: Application
              value: Memory
        -
          uuid: 133aefe9d9604c84bb160ab74a558ea6
          name: 'Available Swap Memory'
          type: SNMP_AGENT
          snmp_oid: 'UCD-SNMP-MIB::memAvailSwap.0'
          key: memAvailSwap
          delay: 60s
          units: B
          description: |
            Real Memory Available
            
            OID: .1.3.6.1.4.1.2021.4.4
            
            The amount of swap space currently unused or available.
            
            http://www.net-snmp.org/docs/mibs/ucdavis.html
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '1024'
          tags:
            -
              tag: Application
              value: Memory
        -
          uuid: 0a74bb21347c44af8c4f596528c9bf3f
          name: 'Buffered Memory'
          type: SNMP_AGENT
          snmp_oid: 'UCD-SNMP-MIB::memBuffer.0'
          key: memBuff
          delay: 60s
          units: B
          description: |
            Shared Memory
            
            OID: .1.3.6.1.4.1.2021.4.14
            
            The total amount of real or virtual memory currently
            allocated for use as memory buffers.
            
            http://www.net-snmp.org/docs/mibs/ucdavis.html
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '1024'
          tags:
            -
              tag: Application
              value: Memory
        -
          uuid: 131a1d58445a4dc2b2afd92c9561951d
          name: 'Cached Memory'
          type: SNMP_AGENT
          snmp_oid: 'UCD-SNMP-MIB::memCached.0'
          key: memCached
          delay: 60s
          units: B
          description: |
            Shared Memory
            
            OID: .1.3.6.1.4.1.2021.4.15
            
            The total amount of real or virtual memory currently
            allocated for use as cached memory.
            
            http://www.net-snmp.org/docs/mibs/ucdavis.html
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '1024'
          tags:
            -
              tag: Application
              value: Memory
        -
          uuid: 4f755ab738ea45838191955a95865bf8
          name: 'Minimum Swap Memory'
          type: SNMP_AGENT
          snmp_oid: 'UCD-SNMP-MIB::memMinimumSwap.0'
          key: memMinSwap
          delay: 60s
          units: B
          description: |
            OID: .1.3.6.1.4.1.2021.4.12
            
            The minimum amount of swap space expected to be kept
            free or available during normal operation of this host.
            
            If this value (as reported by 'memAvailSwap(4)') falls
            below the specified level, then 'memSwapError(100)' will
            be set to 1 and an error message made available via
            'memSwapErrorMsg(101)'.
            
            
            http://www.net-snmp.org/docs/mibs/ucdavis.html
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '1024'
          tags:
            -
              tag: Application
              value: Memory
        -
          uuid: cca8ffb421ef4e1fa60df61b1c9feb6a
          name: 'Shared Memory'
          type: SNMP_AGENT
          snmp_oid: 'UCD-SNMP-MIB::memShared.0'
          key: memShared
          delay: 60s
          units: B
          description: |
            Shared Memory
            
            OID: .1.3.6.1.4.1.2021.4.13
            
            The total amount of real or virtual memory currently
            allocated for use as shared memory.
            
            http://www.net-snmp.org/docs/mibs/ucdavis.html
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '1024'
          tags:
            -
              tag: Application
              value: Memory
        -
          uuid: 40048296052a4a2487b84971ce811cee
          name: 'Swap Error'
          type: SNMP_AGENT
          snmp_oid: 'UCD-SNMP-MIB::memSwapError.0'
          key: memSwapErr
          delay: 60s
          description: |
            OID: .1.3.6.1.4.1.2021.4.100
            
            Indicates whether the amount of available swap space
            (as reported by 'memAvailSwap(4)'), is less than the
            desired minimum (specified by 'memMinimumSwap(12)').
            
            http://www.net-snmp.org/docs/mibs/ucdavis.html
          valuemap:
            name: FreeBSD-SWAP-ERR
          tags:
            -
              tag: Application
              value: Memory
          triggers:
            -
              uuid: effd3235a1704e5cab8ad1de34431719
              expression: 'last(/SNMP FreeNAS 11/memSwapErr)=1'
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'last(/SNMP FreeNAS 11/memSwapErr)=0'
              name: 'Swap Error on {HOST.NAME}'
              priority: WARNING
              description: |
                Indicates whether the amount of available swap space
                (as reported by 'memAvailSwap(4)'), is less than the
                desired minimum (specified by 'memMinimumSwap(12)').
        -
          uuid: 8912c67d285b4e0abf86a40a25fff9f9
          name: 'Swap Error Message'
          type: SNMP_AGENT
          snmp_oid: 'UCD-SNMP-MIB::memSwapErrorMsg.0'
          key: memSwapErrMsg
          delay: 60s
          trends: '0'
          value_type: TEXT
          description: |
            OID: .1.3.6.1.4.1.2021.4.101
            
            Describes whether the amount of available swap space
            (as reported by 'memAvailSwap(4)'), is less than the
            desired minimum (specified by 'memMinimumSwap(12)').
            
            http://www.net-snmp.org/docs/mibs/ucdavis.html
          tags:
            -
              tag: Application
              value: Memory
        -
          uuid: ebb1f4d832ee484886e81a612a2b4e9d
          name: 'Total Memory Free'
          type: SNMP_AGENT
          snmp_oid: 'UCD-SNMP-MIB::memTotalFree.0'
          key: memTotalFree
          delay: 60s
          units: B
          description: |
            Available Swap Available
            
            OID: .1.3.6.1.4.1.2021.4.11
            
            The total amount of memory free or available for use on
            this host.  This value typically covers both real memory
            and swap space or virtual memory.
            
            http://www.net-snmp.org/docs/mibs/ucdavis.html
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '1024'
          tags:
            -
              tag: Application
              value: Memory
        -
          uuid: e3e7ac3927374777ac832bd0b7b6d6a1
          name: 'Total Real Memory'
          type: SNMP_AGENT
          snmp_oid: 'UCD-SNMP-MIB::memTotalReal.0'
          key: memTotalReal
          delay: 60s
          units: B
          description: |
            Total Memory Available
            
            OID: .1.3.6.1.4.1.2021.4.5
            
            The total amount of real/physical memory allocated
            for text pages on this host.
            
            http://www.net-snmp.org/docs/mibs/ucdavis.html
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '1024'
          tags:
            -
              tag: Application
              value: Memory
        -
          uuid: 12f9ee8572b74bb9987966d68004c9c0
          name: 'Total Swap Memory'
          type: SNMP_AGENT
          snmp_oid: 'UCD-SNMP-MIB::memTotalSwap.0'
          key: memTotalSwap
          delay: 60s
          units: B
          description: |
            Total Memory Available
            
            OID: .1.3.6.1.4.1.2021.4.3
            
            The total amount of swap space configured for this host.
            
            http://www.net-snmp.org/docs/mibs/ucdavis.html
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '1024'
          tags:
            -
              tag: Application
              value: Memory
        -
          uuid: ad084110cb1848c2bbd87de0b5561ce4
          name: 'Arc C'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.4.1.50536.1.4.6.0
          key: zfs.ArcC
          delay: '60'
          description: 'Arc C ?'
          tags:
            -
              tag: Application
              value: 'ZFS statistics'
        -
          uuid: b78734fb1fc649e4a2d101cadc630c61
          name: 'Arc data'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.4.1.50536.1.4.3.0
          key: zfs.ArcData
          delay: '60'
          description: 'Arc data'
          tags:
            -
              tag: Application
              value: 'ZFS statistics'
        -
          uuid: 3ea43392512f4d56bef1bd5cc26666df
          name: 'Arc Cache hit ratio'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.4.1.50536.1.4.9.0
          key: zfs.ArcHitratio
          delay: '60'
          value_type: FLOAT
          units: '%'
          description: 'Arc hit ratio'
          tags:
            -
              tag: Application
              value: 'ZFS statistics'
        -
          uuid: a0a18b834e9b49e18850260aba29dd0a
          name: 'Arc hits'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.4.1.50536.1.4.4.0
          key: zfs.Archits
          delay: '60'
          description: 'Arc hits'
          tags:
            -
              tag: Application
              value: 'ZFS statistics'
        -
          uuid: 48a60e3750ec4ff29be958eaa621dac3
          name: 'Arc meta'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.4.1.50536.1.4.2.0
          key: zfs.Arcmeta
          delay: '60'
          description: 'Arc meta ?'
          tags:
            -
              tag: Application
              value: 'ZFS statistics'
        -
          uuid: 84b2715d196942dca7c1ee4740f90d1e
          name: 'Arc misses'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.4.1.50536.1.4.5.0
          key: zfs.ArcMisses
          delay: '60'
          description: 'Arc misses'
          tags:
            -
              tag: Application
              value: 'ZFS statistics'
        -
          uuid: b8fc93bb78ef4ba088c3212427e6eda1
          name: 'Arc Cache miss percent'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.4.1.50536.1.4.8.0
          key: zfs.ArcMissPercent
          delay: '60'
          value_type: FLOAT
          units: '%'
          description: 'Arc cach miss percentage'
          tags:
            -
              tag: Application
              value: 'ZFS statistics'
        -
          uuid: b8fdbf1345ec434da4416c9deb4daf54
          name: 'Arc Cache miss ratio'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.4.1.50536.1.4.10.0
          key: zfs.ArcMissratio
          delay: '60'
          value_type: FLOAT
          units: '%'
          description: 'Arc cach miss ratio'
          tags:
            -
              tag: Application
              value: 'ZFS statistics'
        -
          uuid: 0ceb8d096b0143189cbe26022a9e7283
          name: 'Arc P'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.4.1.50536.1.4.7.0
          key: zfs.ArcP
          delay: '60'
          description: 'Arc P ?'
          tags:
            -
              tag: Application
              value: 'ZFS statistics'
        -
          uuid: 802c8c7c93e948ffa1d47614bda78441
          name: 'Arc size'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.4.1.50536.1.4.1.0
          key: zfs.Arcsize
          delay: '60'
          units: B
          description: 'Arc size iin bytes'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '1024'
          tags:
            -
              tag: Application
              value: 'ZFS statistics'
        -
          uuid: 3648cb5ca7964060858644cfbff0034a
          name: 'L2Arc hits'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.4.1.50536.1.5.1.0
          key: zfs.L2Archits
          delay: '60'
          description: 'L2Arc hits'
          tags:
            -
              tag: Application
              value: 'ZFS statistics'
        -
          uuid: 05d5cee8b3c04f35b2f36c94d2d72ca4
          name: 'L2Arc misses'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.4.1.50536.1.5.2.0
          key: zfs.L2ArcMisses
          delay: '60'
          description: 'L2Arc misses'
          tags:
            -
              tag: Application
              value: 'ZFS statistics'
        -
          uuid: c0ab1e31da644d8f9da652643dd574cb
          name: 'L2Arc size'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.4.1.50536.1.5.5.0
          key: zfs.L2Arcsize
          delay: '60'
          units: B
          description: 'L2Arc size iin bytes'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '1024'
          tags:
            -
              tag: Application
              value: 'ZFS statistics'
        -
          uuid: bdf3d1eacbc2470083fb9c8053a260c1
          name: 'ZIL operations per second'
          type: SNMP_AGENT
          snmp_oid: .1.3.6.1.4.1.50536.1.6.1.0
          key: zfs.ZilstatOps1sec
          delay: '60'
          description: 'ZIL operations per second'
          tags:
            -
              tag: Application
              value: 'ZFS statistics'
      discovery_rules:
        -
          uuid: 19efc2164cc546908c62d1a4b01f00af
          name: Datasets
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},.1.3.6.1.4.1.50536.1.2.1.1.2]'
          key: datasetDescr
          delay: '3600'
          description: 'Discover the datasets available on the FreeNAS system'
          item_prototypes:
            -
              uuid: c102c21e67c7472d8cc56799b6cb955d
              name: 'Available bytes on dataset {#SNMPVALUE}'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.50536.1.2.1.1.6.{#SNMPINDEX}'
              key: 'vfs.fs.size[{#SNMPVALUE},free ]'
              delay: 60s
              units: B
              description: |
                The available bytes of each dataset. This is multiplied by the datasetAllocationUnits which is usually 4096.
                
                The OID for this is .1.3.6.1.4.1.50536.1.2.1.1.3
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '4096'
              tags:
                -
                  tag: Application
                  value: 'Zpool Datasets'
            -
              uuid: f17922dd3e9140dc95cf544691d71533
              name: 'Usage of dataset {#SNMPVALUE}'
              type: CALCULATED
              key: 'vfs.fs.size[{#SNMPVALUE},pfree ]'
              delay: 60s
              value_type: FLOAT
              units: '%'
              params: '100*last(//vfs.fs.size[{#SNMPVALUE},used ])/last(//vfs.fs.size[{#SNMPVALUE}])'
              description: 'Used percentage of the datasets capacity'
              tags:
                -
                  tag: Application
                  value: 'Zpool Datasets'
              trigger_prototypes:
                -
                  uuid: 9c8e2c49724641dcb419e4fcf0eaafb6
                  expression: 'last(/SNMP FreeNAS 11/vfs.fs.size[{#SNMPVALUE},pfree ])>70'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'last(/SNMP FreeNAS 11/vfs.fs.size[{#SNMPVALUE},pfree ])<65'
                  name: 'Dataset {#SNMPVALUE} usage is over 70%'
                  priority: WARNING
                  description: 'Your dataset is starting to get full. You might want to increase it''s quota or increase the disk space.'
            -
              uuid: 18440d5c943642b7b3b8669de7eef13c
              name: 'Used bytes on dataset {#SNMPVALUE}'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.50536.1.2.1.1.5.{#SNMPINDEX}'
              key: 'vfs.fs.size[{#SNMPVALUE},used ]'
              delay: 60s
              units: B
              description: |
                The used bytes in each dataset. This is multiplied by the datasetAllocationUnits which is usually 4096.
                
                The OID for this is .1.3.6.1.4.1.50536.1.2.1.1.3
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '4096'
              tags:
                -
                  tag: Application
                  value: 'Zpool Datasets'
            -
              uuid: 5e52f5fdc2a64c3697f108276d5a08e0
              name: 'Size of dataset {#SNMPVALUE}'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.50536.1.2.1.1.4.{#SNMPINDEX}'
              key: 'vfs.fs.size[{#SNMPVALUE}]'
              delay: 60s
              units: B
              description: |
                The size of each dataset. This is multiplied by the datasetAllocationUnits which is usually 4096.
                
                The OID for this is .1.3.6.1.4.1.50536.1.2.1.1.3
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '4096'
              tags:
                -
                  tag: Application
                  value: 'Zpool Datasets'
          graph_prototypes:
            -
              uuid: ceb6ba76fffd4a7089999098157f8edc
              name: 'Dataset {#SNMPVALUE} Available'
              show_work_period: 'NO'
              ymin_type_1: FIXED
              ymax_type_1: FIXED
              graph_items:
                -
                  drawtype: GRADIENT_LINE
                  color: 2774A4
                  item:
                    host: 'SNMP FreeNAS 11'
                    key: 'vfs.fs.size[{#SNMPVALUE},pfree ]'
            -
              uuid: 16164eb113bb4297b3c4bda2e74df52f
              name: 'Dataset {#SNMPVALUE} Pie'
              height: '500'
              yaxismax: '0'
              show_work_period: 'NO'
              show_triggers: 'NO'
              type: EXPLODED
              show_3d: 'YES'
              graph_items:
                -
                  color: 1A7C11
                  item:
                    host: 'SNMP FreeNAS 11'
                    key: 'vfs.fs.size[{#SNMPVALUE},used ]'
                -
                  sortorder: '1'
                  color: F63100
                  item:
                    host: 'SNMP FreeNAS 11'
                    key: 'vfs.fs.size[{#SNMPVALUE},free ]'
            -
              uuid: 7955eb6ce5b44a23822c5fc3e273a185
              name: 'Dataset {#SNMPVALUE} Usage'
              type: STACKED
              graph_items:
                -
                  color: 1A7C11
                  item:
                    host: 'SNMP FreeNAS 11'
                    key: 'vfs.fs.size[{#SNMPVALUE},used ]'
                -
                  sortorder: '1'
                  color: F63100
                  item:
                    host: 'SNMP FreeNAS 11'
                    key: 'vfs.fs.size[{#SNMPVALUE},free ]'
        -
          uuid: b07241d15d894f97af4aa6d593a1686e
          name: 'ZFS Pools'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},.1.3.6.1.4.1.50536.1.1.1.1.2]'
          key: zpoolDescr
          delay: '3600'
          description: 'ZFS pools'
          item_prototypes:
            -
              uuid: 42873d86f2c84b609ad4bf6288894784
              name: 'Read bandwidth on pool {#SNMPVALUE}'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.50536.1.1.1.1.14.{#SNMPINDEX}'
              key: 'vfs.fs.bandwidth[{#SNMPVALUE},read]'
              delay: '60'
              units: B/s
              description: 'The bandwidth of all read operations (including metadata), expressed as units per second (over 1 second interval)'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '4096'
              tags:
                -
                  tag: Application
                  value: 'Zpool statistics'
            -
              uuid: f5006e3788ea49f594f2d0eac6e8d810
              name: 'Total read bandwidth on pool {#SNMPVALUE}'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.50536.1.1.1.1.10.{#SNMPINDEX}'
              key: 'vfs.fs.bandwidth[{#SNMPVALUE},read ]'
              delay: '60'
              units: B
              description: 'The bandwidth of all read operations (including metadata), expressed as units per second (averaged since system booted)'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '4096'
              tags:
                -
                  tag: Application
                  value: 'Zpool statistics'
            -
              uuid: 4cc698eb27a6466c88a60f96f2eedb7e
              name: 'Write bandwidth on pool {#SNMPVALUE}'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.50536.1.1.1.1.15.{#SNMPINDEX}'
              key: 'vfs.fs.bandwidth[{#SNMPVALUE},write]'
              delay: '60'
              units: B/s
              description: 'The bandwidth of all write operations, expressed as units per second (over 1 second interval).'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '4096'
              tags:
                -
                  tag: Application
                  value: 'Zpool statistics'
            -
              uuid: ae95036732bc49c2b084d49c9a3d9a29
              name: 'Total write bandwidth on pool {#SNMPVALUE}'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.50536.1.1.1.1.11.{#SNMPINDEX}'
              key: 'vfs.fs.bandwidth[{#SNMPVALUE},write ]'
              delay: '60'
              units: B
              description: 'The bandwidth of all write operations, expressed as units per second (averaged since system booted).'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '4096'
              tags:
                -
                  tag: Application
                  value: 'Zpool statistics'
            -
              uuid: c8ee457d7c854114805014b01fc69caa
              name: 'Total IO Read Ops on pool {#SNMPVALUE}'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.50536.1.1.1.1.8.{#SNMPINDEX}'
              key: 'vfs.fs.iops[{#SNMPVALUE},read ]'
              delay: '60'
              units: IO
              description: 'The number of read I/O operations sent to the pool or device, including metadata requests (averaged since system booted).'
              tags:
                -
                  tag: Application
                  value: 'Zpool statistics'
            -
              uuid: 71c1f42f0c8347f48bd0b0110183cbe8
              name: 'IO Read Ops on pool {#SNMPVALUE}'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.50536.1.1.1.1.12.{#SNMPINDEX}'
              key: 'vfs.fs.iops[{#SNMPVALUE},read]'
              delay: '60'
              units: IO/s
              description: 'The number of read I/O operations sent to the pool or device, including metadata requests (over 1 second interval).'
              tags:
                -
                  tag: Application
                  value: 'Zpool statistics'
            -
              uuid: d7495399e70a40b0a1fc19d01ef4acec
              name: 'Total IO Write Ops on pool {#SNMPVALUE}'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.50536.1.1.1.1.9.{#SNMPINDEX}'
              key: 'vfs.fs.iops[{#SNMPVALUE},write ]'
              delay: '60'
              units: IO/s
              description: 'The number of write I/O operations sent to the pool or device (averaged since system booted).'
              tags:
                -
                  tag: Application
                  value: 'Zpool statistics'
            -
              uuid: 5ad31b27d3b5438a8fd5113e8e61c7f8
              name: 'IO Write Ops on pool {#SNMPVALUE}'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.50536.1.1.1.1.13.{#SNMPINDEX}'
              key: 'vfs.fs.iops[{#SNMPVALUE},write]'
              delay: '60'
              units: IO/s
              description: 'The number of write I/O operations sent to the pool or device (over 1 second interval).'
              tags:
                -
                  tag: Application
                  value: 'Zpool statistics'
            -
              uuid: e6734d890fe24cbb93cf8be02f3a3368
              name: 'Available bytes on pool {#SNMPVALUE}'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.50536.1.1.1.1.6.{#SNMPINDEX}'
              key: 'vfs.fs.size[{#SNMPVALUE},free]'
              delay: '60'
              units: B
              description: |
                The number of available bytes on the pool.
                
                This is multiplied by the datasetAllocationUnits which is usually 4096.
                
                The OID for this is .1.3.6.1.4.1.50536.1.2.1.1.3
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '4096'
              tags:
                -
                  tag: Application
                  value: 'Zpool statistics'
            -
              uuid: 42ce8aa5dd074280b99170928b510483
              name: 'Usage of pool {#SNMPVALUE}'
              type: CALCULATED
              key: 'vfs.fs.size[{#SNMPVALUE},pfree]'
              delay: '60'
              value_type: FLOAT
              units: '%'
              params: '100*last(//vfs.fs.size[{#SNMPVALUE},used])/last(//vfs.fs.size[{#SNMPVALUE},total])'
              description: 'Used percentage of the pools capacity'
              tags:
                -
                  tag: Application
                  value: 'Zpool statistics'
              trigger_prototypes:
                -
                  uuid: ae59c3c9ed984a65bd1c82bd4c27ef44
                  expression: 'last(/SNMP FreeNAS 11/vfs.fs.size[{#SNMPVALUE},pfree])>80'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'last(/SNMP FreeNAS 11/vfs.fs.size[{#SNMPVALUE},pfree])<78'
                  name: 'Pool {#SNMPVALUE} usage is over 80%'
                  url: 'http://everycity.co.uk/alasdair/2010/07/zfs-runs-really-slowly-when-free-disk-usage-goes-above-80/'
                  priority: AVERAGE
                  description: 'Your pool {#SNMPVALUE} is more than 80% full! It is a known fact that performance will degrade significantly. Please free up some space.'
            -
              uuid: 64d0b98108fb450288f941bb0432e483
              name: 'Size of pool {#SNMPVALUE}'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.50536.1.1.1.1.4.{#SNMPINDEX}'
              key: 'vfs.fs.size[{#SNMPVALUE},total]'
              delay: '60'
              units: B
              description: 'The size of the pool expressed as bytes'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '4096'
              tags:
                -
                  tag: Application
                  value: 'Zpool statistics'
            -
              uuid: 1f5beca9d5cd477596b0fc330aadaf4a
              name: 'Used bytes on pool {#SNMPVALUE}'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.50536.1.1.1.1.5.{#SNMPINDEX}'
              key: 'vfs.fs.size[{#SNMPVALUE},used]'
              delay: '60'
              units: B
              description: 'The number of used bytes in the pool.'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '4096'
              tags:
                -
                  tag: Application
                  value: 'Zpool statistics'
            -
              uuid: af0189832568425b80c60d0790c2f2e2
              name: 'Health of pool {#SNMPVALUE}'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.50536.1.1.1.1.7.{#SNMPINDEX}'
              key: 'zfsPoolHealth[{#SNMPVALUE}]'
              delay: '60'
              description: |
                The current health of the containing pool, as reported by zpool status.
                online(0), degraded(1), faulted(2), offline(3), unavail(4), removed(5)
              valuemap:
                name: 'FreeNAS Health'
              tags:
                -
                  tag: Application
                  value: 'Zpool statistics'
              trigger_prototypes:
                -
                  uuid: 56a56b52678e4a83861eb9307a83060f
                  expression: 'last(/SNMP FreeNAS 11/zfsPoolHealth[{#SNMPVALUE}])=1'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'last(/SNMP FreeNAS 11/zfsPoolHealth[{#SNMPVALUE}])=0'
                  name: 'Pool {#SNMPVALUE} is DEGRADED!'
                  url: 'http://docs.oracle.com/cd/E19253-01/819-5461/gbbzy/index.html'
                  priority: HIGH
                  description: |
                    Your pool {#SNMPVALUE} is in degraded state. 
                    online(0), degraded(1), faulted(2), offline(3), unavail(4), removed(5)
                -
                  uuid: 8a75ca01bd0f4ff29ae419eb0d2256b2
                  expression: 'last(/SNMP FreeNAS 11/zfsPoolHealth[{#SNMPVALUE}])=2'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'last(/SNMP FreeNAS 11/zfsPoolHealth[{#SNMPVALUE}])=0'
                  name: 'Pool {#SNMPVALUE} is FAULTED!'
                  url: 'http://docs.oracle.com/cd/E19253-01/819-5461/gbbzy/index.html'
                  priority: DISASTER
                  description: 'Your pool {#SNMPVALUE} is in faulted state. You are in trouble'
                -
                  uuid: 1a457ad1494740968d99a6e0bbcd7e97
                  expression: 'last(/SNMP FreeNAS 11/zfsPoolHealth[{#SNMPVALUE}])=3'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'last(/SNMP FreeNAS 11/zfsPoolHealth[{#SNMPVALUE}])=0'
                  name: 'Pool {#SNMPVALUE} is in OFFLINE state'
                  url: 'https://forums.freenas.org/index.php?threads/help-warning-the-volume-zfs-status-is-unknown.22023/'
                  priority: HIGH
                  description: 'Your pool {#SNMPVALUE} is in offline state. Maybe your pool is locked?'
                -
                  uuid: d539dc2e33eb40d7b82ab5f515e09b58
                  expression: 'last(/SNMP FreeNAS 11/zfsPoolHealth[{#SNMPVALUE}])=5'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'last(/SNMP FreeNAS 11/zfsPoolHealth[{#SNMPVALUE}])=0'
                  name: 'Pool {#SNMPVALUE} is in REMOVED state'
                  url: 'https://forums.freenas.org/index.php?threads/help-warning-the-volume-zfs-status-is-unknown.22023/'
                  priority: HIGH
                  description: 'Your pool {#SNMPVALUE} is in removed state.'
                -
                  uuid: 1d5243544d6e4e12ace712c84a9de2a5
                  expression: 'last(/SNMP FreeNAS 11/zfsPoolHealth[{#SNMPVALUE}])=4'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'last(/SNMP FreeNAS 11/zfsPoolHealth[{#SNMPVALUE}])=0'
                  name: 'Pool {#SNMPVALUE} is in UNAVAILABLE state'
                  url: 'https://forums.freenas.org/index.php?threads/help-warning-the-volume-zfs-status-is-unknown.22023/'
                  priority: DISASTER
                  description: 'Your pool {#SNMPVALUE} is in unavailable state.'
            -
              uuid: d2df375860f6469581c283ed3be9da32
              name: 'Name of pool #$1'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.50536.1.1.1.1.2.{#SNMPINDEX}'
              key: 'zpoolDescr[{#SNMPINDEX}]'
              delay: '3600'
              trends: '0'
              value_type: CHAR
              description: 'The name of the ZFS Pool'
              tags:
                -
                  tag: Application
                  value: 'Zpool statistics'
          graph_prototypes:
            -
              uuid: cfd719cc5b164318b5d2a9d34ec47c3d
              name: 'Pool {#SNMPVALUE} IO statistics'
              graph_items:
                -
                  drawtype: GRADIENT_LINE
                  color: 00C800
                  item:
                    host: 'SNMP FreeNAS 11'
                    key: 'vfs.fs.bandwidth[{#SNMPVALUE},read]'
                -
                  sortorder: '1'
                  drawtype: GRADIENT_LINE
                  color: C80000
                  item:
                    host: 'SNMP FreeNAS 11'
                    key: 'vfs.fs.bandwidth[{#SNMPVALUE},write]'
                -
                  sortorder: '2'
                  color: 0000C8
                  yaxisside: RIGHT
                  item:
                    host: 'SNMP FreeNAS 11'
                    key: 'vfs.fs.iops[{#SNMPVALUE},read]'
                -
                  sortorder: '3'
                  color: C800C8
                  yaxisside: RIGHT
                  item:
                    host: 'SNMP FreeNAS 11'
                    key: 'vfs.fs.iops[{#SNMPVALUE},write]'
            -
              uuid: 00581c71856046d8a2eaebc76cb48427
              name: 'Pool {#SNMPVALUE} Usage'
              type: STACKED
              graph_items:
                -
                  color: C80000
                  item:
                    host: 'SNMP FreeNAS 11'
                    key: 'vfs.fs.size[{#SNMPVALUE},used]'
                -
                  sortorder: '1'
                  color: 00C800
                  item:
                    host: 'SNMP FreeNAS 11'
                    key: 'vfs.fs.size[{#SNMPVALUE},free]'
        -
          uuid: 5af8e2d3c2294a688e36fbd608256dc6
          name: ZVols
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},.1.3.6.1.4.1.50536.1.3.1.1.2]'
          key: zvolDescr
          delay: '3600'
          description: 'Find all the zvols on the FreeNAS system'
          item_prototypes:
            -
              uuid: c62e5e09a87346aba779b91abb0a55ee
              name: 'Available bytes on zvol {#SNMPVALUE}'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.50536.1.3.1.1.6.{#SNMPINDEX}'
              key: 'vfs.fs.size[{#SNMPVALUE},free  ]'
              delay: 60s
              units: B
              description: |
                The available bytes of each zvol. This is multiplied by the datasetAllocationUnits which is usually 4096.
                
                The OID for this is .1.3.6.1.4.1.50536.1.2.1.1.3
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '4096'
              tags:
                -
                  tag: Application
                  value: 'Zpool Zvols'
            -
              uuid: 2b78479cc5614f9f8bad39f775f0d22e
              name: 'Usage of zvol {#SNMPVALUE}'
              type: CALCULATED
              key: 'vfs.fs.size[{#SNMPVALUE}, pfree]'
              delay: 60s
              value_type: FLOAT
              units: '%'
              params: '100*last(//vfs.fs.size[{#SNMPVALUE}, used])/last(//vfs.fs.size[{#SNMPVALUE}, total])'
              description: 'Used percentage of the zvols capacity'
              tags:
                -
                  tag: Application
                  value: 'Zpool Zvols'
              trigger_prototypes:
                -
                  uuid: 3bf5466741344c23a4afe612cb29d67b
                  expression: 'last(/SNMP FreeNAS 11/vfs.fs.size[{#SNMPVALUE}, pfree])>70'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'last(/SNMP FreeNAS 11/vfs.fs.size[{#SNMPVALUE}, pfree])<65'
                  name: 'Zvol {#SNMPVALUE} usage is over 70%'
                  priority: WARNING
                  description: 'The zvol is getting full, you may want to increase its space.'
            -
              uuid: 6c7b7ab4cd4c427cb4a4d094e79f63e7
              name: 'Size of zvol {#SNMPVALUE}'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.50536.1.3.1.1.4.{#SNMPINDEX}'
              key: 'vfs.fs.size[{#SNMPVALUE}, total]'
              delay: 60s
              units: B
              description: |
                The size of each zvol. This is multiplied by the datasetAllocationUnits which is usually 4096.
                
                The OID for this is .1.3.6.1.4.1.50536.1.2.1.1.3
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '4096'
              tags:
                -
                  tag: Application
                  value: 'Zpool Zvols'
            -
              uuid: 072cb648e86e41d8b77fae58b420fecf
              name: 'Used bytes on zvol {#SNMPVALUE}'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.50536.1.3.1.1.5.{#SNMPINDEX}'
              key: 'vfs.fs.size[{#SNMPVALUE}, used]'
              delay: 60s
              units: B
              description: |
                The used bytes in each zvol. This is multiplied by the datasetAllocationUnits which is usually 4096.
                
                The OID for this is .1.3.6.1.4.1.50536.1.2.1.1.3
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '4096'
              tags:
                -
                  tag: Application
                  value: 'Zpool Zvols'
          graph_prototypes:
            -
              uuid: 62c83354db0d4aa5a9dde156b23e12d6
              name: 'ZVol {#SNMPVALUE} Available'
              ymin_type_1: FIXED
              ymax_type_1: FIXED
              graph_items:
                -
                  drawtype: GRADIENT_LINE
                  color: 9999FF
                  item:
                    host: 'SNMP FreeNAS 11'
                    key: 'vfs.fs.size[{#SNMPVALUE}, pfree]'
            -
              uuid: 501ec11684e94089a2e8809fb44434dd
              name: 'ZVol {#SNMPVALUE} Pie'
              height: '500'
              yaxismax: '0'
              show_work_period: 'NO'
              show_triggers: 'NO'
              type: EXPLODED
              show_3d: 'YES'
              graph_items:
                -
                  color: 1A7C11
                  item:
                    host: 'SNMP FreeNAS 11'
                    key: 'vfs.fs.size[{#SNMPVALUE}, used]'
                -
                  sortorder: '1'
                  color: F63100
                  item:
                    host: 'SNMP FreeNAS 11'
                    key: 'vfs.fs.size[{#SNMPVALUE},free  ]'
            -
              uuid: f3c7f95462c0467bb86d313f01c9fb6c
              name: 'ZVol {#SNMPVALUE} Usage'
              type: STACKED
              graph_items:
                -
                  color: 1A7C11
                  item:
                    host: 'SNMP FreeNAS 11'
                    key: 'vfs.fs.size[{#SNMPVALUE}, used]'
                -
                  sortorder: '1'
                  color: F63100
                  item:
                    host: 'SNMP FreeNAS 11'
                    key: 'vfs.fs.size[{#SNMPVALUE},free  ]'
      valuemaps:
        -
          uuid: e82ce55983594626bc78f373cca5c7ca
          name: FreeBSD-SWAP-ERR
          mappings:
            -
              value: '0'
              newvalue: Okay
            -
              value: '1'
              newvalue: Error
        -
          uuid: 0246aeaa7ceb4b5ba12da05566b14e7e
          name: 'FreeNAS Health'
          mappings:
            -
              value: '0'
              newvalue: Online
            -
              value: '1'
              newvalue: Degraded
            -
              value: '2'
              newvalue: Faulted
            -
              value: '3'
              newvalue: Offline
            -
              value: '4'
              newvalue: Unavailable
            -
              value: '5'
              newvalue: Removed
    -
      uuid: 42f6a132882a4bf99450a8ea27b325db
      template: 'Template SNMP Generic'
      name: 'Template SNMP Generic'
      groups:
        -
          name: Templates
      items:
        -
          uuid: 5da03964ab3c451386e70734b551c5af
          name: 'Device contact details'
          type: SNMP_AGENT
          snmp_oid: 'SNMPv2-MIB::sysContact.0'
          key: sysContact
          delay: '3600'
          history: 7d
          trends: '0'
          value_type: CHAR
          description: 'The textual identification of the contact person for this managed node, together with information on how to contact this person.  If no contact information is known, the value is the zero-length string.'
          inventory_link: CONTACT
          tags:
            -
              tag: Application
              value: General
        -
          uuid: ca0621184f99443d874c93ed813bdca5
          name: 'Device description'
          type: SNMP_AGENT
          snmp_oid: 'SNMPv2-MIB::sysDescr.0'
          key: sysDescr
          delay: '3600'
          history: 7d
          trends: '0'
          value_type: CHAR
          description: 'A textual description of the entity.  This value should include the full name and version identification of the system''s hardware type, software operating-system, and networking software.'
          inventory_link: HARDWARE
          tags:
            -
              tag: Application
              value: General
        -
          uuid: 8f380080ea434586b23136736441bbc5
          name: 'Device location'
          type: SNMP_AGENT
          snmp_oid: 'SNMPv2-MIB::sysLocation.0'
          key: sysLocation
          delay: '3600'
          history: 7d
          trends: '0'
          value_type: CHAR
          description: 'The physical location of this node (e.g., `telephone closet, 3rd floor'').  If the location is unknown, the value is the zero-length string.'
          inventory_link: LOCATION
          tags:
            -
              tag: Application
              value: General
        -
          uuid: 653eb3015c204cfe89a0322dbfe1b3c5
          name: 'Device name'
          type: SNMP_AGENT
          snmp_oid: 'SNMPv2-MIB::sysName.0'
          key: sysName
          delay: '3600'
          history: 7d
          trends: '0'
          value_type: CHAR
          description: 'An administratively-assigned name for this managed node. By convention, this is the node''s fully-qualified domain name.  If the name is unknown, the value is the zero-length string.'
          inventory_link: NAME
          tags:
            -
              tag: Application
              value: General
        -
          uuid: aa055d57bb664fad9a22bb9adf73b01f
          name: 'Device uptime'
          type: SNMP_AGENT
          snmp_oid: 'SNMPv2-MIB::sysUpTime.0'
          key: sysUpTime
          delay: '60'
          history: 7d
          units: uptime
          description: 'The time since the network management portion of the system was last re-initialized.'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            -
              tag: Application
              value: General
    -
      uuid: e39d65dd7cf34c219fe68a15c96867dc
      template: 'Template SNMP Interfaces'
      name: 'Template SNMP Interfaces'
      groups:
        -
          name: Templates
      items:
        -
          uuid: 6ac7449cdb624301be26c54ce0847973
          name: 'Number of network interfaces'
          type: SNMP_AGENT
          snmp_oid: 'IF-MIB::ifNumber.0'
          key: ifNumber
          delay: '3600'
          history: 7d
          description: 'The number of network interfaces (regardless of their current state) present on this system.'
          tags:
            -
              tag: Application
              value: Interfaces
      discovery_rules:
        -
          uuid: b36d3cf745754e0ead91281f10d6820d
          name: 'Network interfaces'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},IF-MIB::ifDescr]'
          key: ifDescr
          delay: '3600'
          description: |
            You may also consider using IF-MIB::ifType or IF-MIB::ifAlias for discovery depending on your filtering needs.
            
            {$SNMP_COMMUNITY} is a global macro.
          item_prototypes:
            -
              uuid: 119a2c20969447bca620ea6ac4cdd122
              name: 'Admin status of interface $1'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifAdminStatus.{#SNMPINDEX}'
              key: 'ifAdminStatus[{#SNMPVALUE}]'
              delay: '60'
              history: 7d
              description: 'The desired state of the interface.'
              valuemap:
                name: 'SNMP interface status (ifAdminStatus)'
              tags:
                -
                  tag: Application
                  value: Interfaces
            -
              uuid: f5ff7d94adc6466082eb2a3e747e5e5d
              name: 'Alias of interface $1'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifAlias.{#SNMPINDEX}'
              key: 'ifAlias[{#SNMPVALUE}]'
              delay: '3600'
              history: 7d
              trends: '0'
              value_type: CHAR
              tags:
                -
                  tag: Application
                  value: Interfaces
            -
              uuid: be6f787beda040559f89c0d8d88f3f29
              name: 'Description of interface $1'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifDescr.{#SNMPINDEX}'
              key: 'ifDescr[{#SNMPVALUE}]'
              delay: '3600'
              history: 7d
              trends: '0'
              value_type: CHAR
              description: 'A textual string containing information about the interface.  This string should include the name of the manufacturer, the product name and the version of the interface hardware/software.'
              tags:
                -
                  tag: Application
                  value: Interfaces
            -
              uuid: 717ec9345ac04756b77617fa0120c763
              name: 'Inbound errors on interface $1'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifInErrors.{#SNMPINDEX}'
              key: 'ifInErrors[{#SNMPVALUE}]'
              delay: '60'
              history: 7d
              description: 'For packet-oriented interfaces, the number of inbound packets that contained errors preventing them from being deliverable to a higher-layer protocol.  For character-oriented or fixed-length interfaces, the number of inbound transmission units that contained errors preventing them from being deliverable to a higher-layer protocol.'
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                -
                  tag: Application
                  value: Interfaces
            -
              uuid: dba0dfd1e91e476b890766b77dd5a72c
              name: 'Incoming traffic on interface $1'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifInOctets.{#SNMPINDEX}'
              key: 'ifInOctets[{#SNMPVALUE}]'
              delay: '60'
              history: 7d
              units: bps
              description: 'The number of octets in valid MAC frames received on this interface, including the MAC header and FCS.'
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
                -
                  type: MULTIPLIER
                  parameters:
                    - '8'
              tags:
                -
                  tag: Application
                  value: Interfaces
            -
              uuid: 7cb3461c7c7f43e1b4bc30364622eab5
              name: 'Operational status of interface $1'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifOperStatus.{#SNMPINDEX}'
              key: 'ifOperStatus[{#SNMPVALUE}]'
              delay: '60'
              history: 7d
              description: 'The current operational state of the interface.'
              valuemap:
                name: 'SNMP interface status (ifOperStatus)'
              tags:
                -
                  tag: Application
                  value: Interfaces
              trigger_prototypes:
                -
                  uuid: 107c4d02d77b4e04bd6e015bc559910a
                  expression: '(last(/Template SNMP Interfaces/ifOperStatus[{#SNMPVALUE}],#1)<>last(/Template SNMP Interfaces/ifOperStatus[{#SNMPVALUE}],#2))=1'
                  name: 'Operational status was changed on {HOST.NAME} interface {#SNMPVALUE}'
                  priority: INFO
            -
              uuid: c8604c4f93b1458d8e3413e111312eb3
              name: 'Outbound errors on interface $1'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifOutErrors.{#SNMPINDEX}'
              key: 'ifOutErrors[{#SNMPVALUE}]'
              delay: '60'
              history: 7d
              description: 'For packet-oriented interfaces, the number of outbound packets that could not be transmitted because of errors. For character-oriented or fixed-length interfaces, the number of outbound transmission units that could not be transmitted because of errors.'
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                -
                  tag: Application
                  value: Interfaces
            -
              uuid: ca63beff31bf444c84065bd23f5ced1d
              name: 'Outgoing traffic on interface $1'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifOutOctets.{#SNMPINDEX}'
              key: 'ifOutOctets[{#SNMPVALUE}]'
              delay: '60'
              history: 7d
              units: bps
              description: 'The number of octets transmitted in MAC frames on this interface, including the MAC header and FCS.'
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
                -
                  type: MULTIPLIER
                  parameters:
                    - '8'
              tags:
                -
                  tag: Application
                  value: Interfaces
          graph_prototypes:
            -
              uuid: 6b9bea9a3e864ab484a49efd5f3b7f77
              name: 'Traffic on interface {#SNMPVALUE}'
              graph_items:
                -
                  drawtype: GRADIENT_LINE
                  color: 00AA00
                  item:
                    host: 'Template SNMP Interfaces'
                    key: 'ifInOctets[{#SNMPVALUE}]'
                -
                  sortorder: '1'
                  drawtype: GRADIENT_LINE
                  color: 3333FF
                  item:
                    host: 'Template SNMP Interfaces'
                    key: 'ifOutOctets[{#SNMPVALUE}]'
      valuemaps:
        -
          uuid: d0753188eaee40b38bbaacab3746ffe8
          name: 'SNMP interface status (ifAdminStatus)'
          mappings:
            -
              value: '1'
              newvalue: up
            -
              value: '2'
              newvalue: down
            -
              value: '3'
              newvalue: testing
        -
          uuid: 4465602008b8407fab95881b77db2043
          name: 'SNMP interface status (ifOperStatus)'
          mappings:
            -
              value: '1'
              newvalue: up
            -
              value: '2'
              newvalue: down
            -
              value: '3'
              newvalue: testing
            -
              value: '4'
              newvalue: unknown
            -
              value: '5'
              newvalue: dormant
            -
              value: '6'
              newvalue: notPresent
            -
              value: '7'
              newvalue: lowerLayerDown
    -
      uuid: a97317fb902643d1a83e2eca5ed4b3e9
      template: 'Template SNMP Processors'
      name: 'Template SNMP Processors'
      groups:
        -
          name: Templates
      discovery_rules:
        -
          uuid: b5ee99eb77c1444d926b68ac20a84251
          name: Processors
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},HOST-RESOURCES-MIB::hrProcessorLoad]'
          key: hrProcessorLoad
          delay: '3600'
          description: '{$SNMP_COMMUNITY} is a global macro.'
          item_prototypes:
            -
              uuid: 183c1a3e57a64187bd53ada7b92c58c6
              name: 'Utilization of processor #$1'
              type: SNMP_AGENT
              snmp_oid: 'HOST-RESOURCES-MIB::hrProcessorLoad.{#SNMPINDEX}'
              key: 'hrProcessorLoad[{#SNMPINDEX}]'
              delay: '60'
              history: 7d
              units: '%'
              description: 'The average, over the last minute, of the percentage of time that this processor was not idle. Implementations may approximate this one minute smoothing period if necessary.'
              tags:
                -
                  tag: Application
                  value: Processors
  graphs:
    -
      uuid: 63fe4bd886f34655a37b83cf161c1744
      name: 'Arc data'
      graph_items:
        -
          color: 00C800
          item:
            host: 'SNMP FreeNAS 11'
            key: zfs.ArcC
        -
          sortorder: '1'
          color: C80000
          item:
            host: 'SNMP FreeNAS 11'
            key: zfs.ArcData
        -
          sortorder: '2'
          color: 0000C8
          item:
            host: 'SNMP FreeNAS 11'
            key: zfs.Arcmeta
        -
          sortorder: '3'
          color: C800C8
          item:
            host: 'SNMP FreeNAS 11'
            key: zfs.ArcP
    -
      uuid: 0b14ebcf8674462194c0dd7b04157070
      name: 'Arc hit ratio'
      show_triggers: 'NO'
      type: STACKED
      graph_items:
        -
          color: 00C800
          item:
            host: 'SNMP FreeNAS 11'
            key: zfs.ArcHitratio
        -
          sortorder: '1'
          color: C80000
          item:
            host: 'SNMP FreeNAS 11'
            key: zfs.ArcMissratio
    -
      uuid: 0f8d0505e53c464ebcb4f89cd9cce6a9
      name: 'Available Real Memory'
      height: '300'
      show_work_period: 'NO'
      show_triggers: 'NO'
      graph_items:
        -
          drawtype: DASHED_LINE
          color: FC6EA3
          item:
            host: 'SNMP FreeNAS 11'
            key: memTotalReal
        -
          sortorder: '1'
          color: 1A7C11
          item:
            host: 'SNMP FreeNAS 11'
            key: memAvailReal
        -
          sortorder: '2'
          color: F63100
          item:
            host: 'SNMP FreeNAS 11'
            key: memBuff
        -
          sortorder: '3'
          color: 2774A4
          item:
            host: 'SNMP FreeNAS 11'
            key: memCached
        -
          sortorder: '4'
          color: A54F10
          item:
            host: 'SNMP FreeNAS 11'
            key: memShared
    -
      uuid: 37f9f0287d7f4d78bab8a626baf222c0
      name: 'Available Swap Memory'
      graph_items:
        -
          drawtype: DASHED_LINE
          color: 2774A4
          item:
            host: 'SNMP FreeNAS 11'
            key: memTotalSwap
        -
          sortorder: '1'
          drawtype: GRADIENT_LINE
          color: 1A7C11
          item:
            host: 'SNMP FreeNAS 11'
            key: memAvailSwap
        -
          sortorder: '2'
          drawtype: DASHED_LINE
          color: F63100
          item:
            host: 'SNMP FreeNAS 11'
            key: memMinSwap
