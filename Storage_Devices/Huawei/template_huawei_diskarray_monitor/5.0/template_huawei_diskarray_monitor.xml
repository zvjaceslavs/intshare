<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
  <version>5.0</version>
  <date>2021-10-26T04:46:14Z</date>
  <groups>
    <group>
      <name>Templates/DiskArray</name>
    </group>
  </groups>
  <templates>
    <template>
      <template>Huawei_DiskArray_monitor</template>
      <name>Huawei DiskArray Monitor</name>
      <description>Huawei_DiskArray_monitor_template Known Issues: device : OceanStor-2600, OceanStor-5300, OceanStor-5600, OceanStor-6800, OceanStor-Dorado6000</description>
      <groups>
        <group>
          <name>Templates/DiskArray</name>
        </group>
      </groups>
      <applications>
        <application>
          <name>Controller Status</name>
        </application>
        <application>
          <name>Disk Status</name>
        </application>
        <application>
          <name>Fan Status</name>
        </application>
        <application>
          <name>Power Status</name>
        </application>
      </applications>
      <discovery_rules>
        <discovery_rule>
          <name>Controller Discovery</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.34774.4.1.23.5.2.1.5]</snmp_oid>
          <key>ControllerDiscovery</key>
          <delay>12h</delay>
          <lifetime>0d</lifetime>
          <item_prototypes>
            <item_prototype>
              <name>ControllerHealthStatus {#SNMPVALUE}</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.34774.4.1.23.5.2.1.2.{#SNMPINDEX}</snmp_oid>
              <key>ControllerHealthStatus.[{#SNMPINDEX}]</key>
              <delay>10m</delay>
              <history>3d</history>
              <trends>0d</trends>
              <applications>
                <application>
                  <name>Controller Status</name>
                </application>
              </applications>
              <valuemap>
                <name>Huawei_HEALTH_STATUS_E</name>
              </valuemap>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()}&lt;>1</expression>
                  <name>Controller Abnormal</name>
                  <priority>HIGH</priority>
                  <type>MULTIPLE</type>
                  <manual_close>YES</manual_close>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
          </item_prototypes>
        </discovery_rule>
        <discovery_rule>
          <name>Disk Discovery</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.34774.4.1.23.5.1.1.4]</snmp_oid>
          <key>DiskDiscovery</key>
          <delay>12h</delay>
          <lifetime>0d</lifetime>
          <item_prototypes>
            <item_prototype>
              <name>DiskHealthStatus {#SNMPVALUE}</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.34774.4.1.23.5.1.1.2.{#SNMPINDEX}</snmp_oid>
              <key>DiskHealthStatus.[{#SNMPINDEX}]</key>
              <delay>10m</delay>
              <history>3d</history>
              <trends>0d</trends>
              <applications>
                <application>
                  <name>Disk Status</name>
                </application>
              </applications>
              <valuemap>
                <name>Huawei_HEALTH_STATUS_E</name>
              </valuemap>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()}&lt;>1</expression>
                  <name>Disk Abnormal</name>
                  <priority>HIGH</priority>
                  <type>MULTIPLE</type>
                  <manual_close>YES</manual_close>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
          </item_prototypes>
        </discovery_rule>
        <discovery_rule>
          <name>Fan Discovery</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.34774.4.1.23.5.4.1.2]</snmp_oid>
          <key>FanDiscovery</key>
          <delay>12h</delay>
          <lifetime>0d</lifetime>
          <item_prototypes>
            <item_prototype>
              <name>FanHealthStatus {#SNMPVALUE}</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.34774.4.1.23.5.4.1.3.{#SNMPINDEX}</snmp_oid>
              <key>FanHealthStatus.[{#SNMPINDEX}]</key>
              <delay>10m</delay>
              <history>3d</history>
              <trends>0d</trends>
              <applications>
                <application>
                  <name>Fan Status</name>
                </application>
              </applications>
              <valuemap>
                <name>Huawei_HEALTH_STATUS_E</name>
              </valuemap>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()}&lt;>1</expression>
                  <name>Fan Abnormal</name>
                  <priority>HIGH</priority>
                  <type>MULTIPLE</type>
                  <manual_close>YES</manual_close>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
          </item_prototypes>
        </discovery_rule>
        <discovery_rule>
          <name>Power Discovery</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.34774.4.1.23.5.3.1.2]</snmp_oid>
          <key>PowerDiscovery</key>
          <delay>12h</delay>
          <lifetime>0d</lifetime>
          <item_prototypes>
            <item_prototype>
              <name>PowerHealthStatus {#SNMPVALUE}</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.34774.4.1.23.5.3.1.3.{#SNMPINDEX}</snmp_oid>
              <key>PowerHealthStatus.[{#SNMPINDEX}]</key>
              <delay>10m</delay>
              <history>3d</history>
              <trends>0d</trends>
              <applications>
                <application>
                  <name>Power Status</name>
                </application>
              </applications>
              <valuemap>
                <name>Huawei_HEALTH_STATUS_E</name>
              </valuemap>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()}&lt;>1</expression>
                  <name>Power Abnormal</name>
                  <priority>HIGH</priority>
                  <type>MULTIPLE</type>
                  <manual_close>YES</manual_close>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
          </item_prototypes>
        </discovery_rule>
      </discovery_rules>
      <macros>
        <macro>
          <macro>{$CLOUD_SNMP_COMMUNITY}</macro>
          <value>public</value>
        </macro>
      </macros>
    </template>
  </templates>
  <value_maps>
    <value_map>
      <name>Huawei_HEALTH_STATUS_E</name>
      <mappings>
        <mapping>
          <value>0</value>
          <newvalue>Unknown</newvalue>
        </mapping>
        <mapping>
          <value>1</value>
          <newvalue>Normal</newvalue>
        </mapping>
        <mapping>
          <value>2</value>
          <newvalue>Fault</newvalue>
        </mapping>
        <mapping>
          <value>3</value>
          <newvalue>Pre-Fail</newvalue>
        </mapping>
        <mapping>
          <value>4</value>
          <newvalue>partially broken</newvalue>
        </mapping>
        <mapping>
          <value>5</value>
          <newvalue>Degraded</newvalue>
        </mapping>
        <mapping>
          <value>6</value>
          <newvalue>Bad sectors found</newvalue>
        </mapping>
        <mapping>
          <value>7</value>
          <newvalue>Bit errors found</newvalue>
        </mapping>
        <mapping>
          <value>8</value>
          <newvalue>Consistent</newvalue>
        </mapping>
        <mapping>
          <value>9</value>
          <newvalue>Inconsistent</newvalue>
        </mapping>
        <mapping>
          <value>10</value>
          <newvalue>Busy</newvalue>
        </mapping>
        <mapping>
          <value>11</value>
          <newvalue>No input</newvalue>
        </mapping>
        <mapping>
          <value>12</value>
          <newvalue>Low battery</newvalue>
        </mapping>
        <mapping>
          <value>13</value>
          <newvalue>Single link fault</newvalue>
        </mapping>
        <mapping>
          <value>14</value>
          <newvalue>Invalid</newvalue>
        </mapping>
        <mapping>
          <value>15</value>
          <newvalue>WRITE_PROTECT</newvalue>
        </mapping>
      </mappings>
    </value_map>
  </value_maps>
</zabbix_export>