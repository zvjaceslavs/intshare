zabbix_export:
  version: '5.4'
  date: '2021-11-09T05:10:09Z'
  groups:
    -
      uuid: 7df96b18c230490a9a0a9e2307226338
      name: Templates
  templates:
    -
      uuid: e39d65dd7cf34c219fe68a15c96867dc
      template: 'SNMP Interfaces'
      name: 'SNMP Interfaces'
      groups:
        -
          name: Templates
      items:
        -
          uuid: 6ac7449cdb624301be26c54ce0847973
          name: 'Number of network interfaces'
          type: SNMP_AGENT
          snmp_oid: 'IF-MIB::ifNumber.0'
          key: ifNumber
          delay: 1h
          history: 1w
          description: 'The number of network interfaces (regardless of their current state) present on this system.'
          tags:
            -
              tag: Application
              value: Interfaces
      discovery_rules:
        -
          uuid: b36d3cf745754e0ead91281f10d6820d
          name: 'Network interfaces'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},IF-MIB::ifDescr]'
          key: ifDescr
          delay: '3600'
          lifetime: 7d
          description: |
            You may also consider using IF-MIB::ifType or IF-MIB::ifAlias for discovery depending on your filtering needs.
            
            {$SNMP_COMMUNITY} is a global macro.
          item_prototypes:
            -
              uuid: 3dfcbb843f5e4017a71e6852fedd7306
              name: 'Incoming traffic on interface $1'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifHCInOctets.{#SNMPINDEX}'
              key: 'ifHCInOctets[{#SNMPVALUE}]'
              delay: '60'
              history: 1w
              units: bps
              description: 'The number of octets in valid MAC frames received on this interface, including the MAC header and FCS.'
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
                -
                  type: MULTIPLIER
                  parameters:
                    - '8'
              tags:
                -
                  tag: Application
                  value: Interfaces
            -
              uuid: eeb94b47ab4c4f8f9ca7f063bd2fbff4
              name: 'Outgoing traffic on interface $1'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifHCOutOctets.{#SNMPINDEX}'
              key: 'ifHCOutOctets[{#SNMPVALUE}]'
              delay: '60'
              history: 1w
              units: bps
              description: 'The number of octets transmitted in MAC frames on this interface, including the MAC header and FCS.'
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
                -
                  type: MULTIPLIER
                  parameters:
                    - '8'
              tags:
                -
                  tag: Application
                  value: Interfaces
            -
              uuid: 7cb3461c7c7f43e1b4bc30364622eab5
              name: 'Operational status of interface $1'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifOperStatus.{#SNMPINDEX}'
              key: 'ifOperStatus[{#SNMPVALUE}]'
              delay: '60'
              history: 1w
              description: 'The current operational state of the interface.'
              valuemap:
                name: 'SNMP interface status (ifOperStatus)'
              tags:
                -
                  tag: Application
                  value: Interfaces
              trigger_prototypes:
                -
                  uuid: f8e8e68f51c445b78af1e223818302c6
                  expression: '(last(/SNMP Interfaces/ifOperStatus[{#SNMPVALUE}],#1)<>last(/SNMP Interfaces/ifOperStatus[{#SNMPVALUE}],#2))=1'
                  name: 'O status operacional foi alterado no {HOST.NAME} na interface {#SNMPVALUE}'
                  priority: INFO
          graph_prototypes:
            -
              uuid: 6b9bea9a3e864ab484a49efd5f3b7f77
              name: 'Traffic on interface {#SNMPVALUE}'
              graph_items:
                -
                  drawtype: GRADIENT_LINE
                  color: FF6600
                  item:
                    host: 'SNMP Interfaces'
                    key: 'ifHCInOctets[{#SNMPVALUE}]'
                -
                  sortorder: '1'
                  drawtype: GRADIENT_LINE
                  color: 002B60
                  item:
                    host: 'SNMP Interfaces'
                    key: 'ifHCOutOctets[{#SNMPVALUE}]'
      valuemaps:
        -
          uuid: 4465602008b8407fab95881b77db2043
          name: 'SNMP interface status (ifOperStatus)'
          mappings:
            -
              value: '1'
              newvalue: up
            -
              value: '2'
              newvalue: down
            -
              value: '3'
              newvalue: testing
            -
              value: '4'
              newvalue: unknown
            -
              value: '5'
              newvalue: dormant
            -
              value: '6'
              newvalue: notPresent
            -
              value: '7'
              newvalue: lowerLayerDown
