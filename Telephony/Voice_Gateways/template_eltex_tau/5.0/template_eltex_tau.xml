<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
  <version>5.0</version>
  <date>2021-10-22T10:55:03Z</date>
  <groups>
    <group>
      <name>eltex</name>
    </group>
    <group>
      <name>Templates</name>
    </group>
  </groups>
  <templates>
    <template>
      <template>Template Eltex TAU SNMPv2</template>
      <name>Template Eltex TAU SNMPv2</name>
      <groups>
        <group>
          <name>eltex</name>
        </group>
        <group>
          <name>Templates</name>
        </group>
      </groups>
      <applications>
        <application>
          <name>Calls</name>
        </application>
        <application>
          <name>CPU</name>
        </application>
        <application>
          <name>General</name>
        </application>
        <application>
          <name>ICMP</name>
        </application>
        <application>
          <name>Interfaces</name>
        </application>
        <application>
          <name>SFP</name>
        </application>
      </applications>
      <items>
        <item>
          <name>activeCallCount</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>SNMPv2-SMI::enterprises.35265.1.29.42.1.0</snmp_oid>
          <key>activeCallCount</key>
          <delay>30s</delay>
          <applications>
            <application>
              <name>Calls</name>
            </application>
          </applications>
        </item>
        <item>
          <name>fxsCpuUsage1min</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>SNMPv2-SMI::enterprises.35265.1.9.8.0</snmp_oid>
          <key>fxsCpuUsageLast1Minutes</key>
          <value_type>FLOAT</value_type>
          <units>%</units>
          <applications>
            <application>
              <name>CPU</name>
            </application>
          </applications>
          <triggers>
            <trigger>
              <expression>{last()}>70</expression>
              <name>{HOST.NAME} CPU Utilization 5min > 70%</name>
              <priority>WARNING</priority>
            </trigger>
            <trigger>
              <expression>{last()}>90</expression>
              <name>{HOST.NAME} CPU Utilization 5min > 90%</name>
              <priority>HIGH</priority>
              <type>MULTIPLE</type>
            </trigger>
          </triggers>
        </item>
        <item>
          <name>Свободная оперативная память</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>1.3.6.1.4.1.35265.1.9.5.0</snmp_oid>
          <key>fxsFreeRam</key>
          <applications>
            <application>
              <name>General</name>
            </application>
          </applications>
          <preprocessing>
            <step>
              <type>RTRIM</type>
              <params>kB</params>
            </step>
          </preprocessing>
        </item>
        <item>
          <name>Свободное дисковое пространство</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>1.3.6.1.4.1.35265.1.9.4.0</snmp_oid>
          <key>fxsFreeSpace</key>
          <delay>30m</delay>
          <history>60d</history>
          <trends>0</trends>
          <value_type>TEXT</value_type>
          <applications>
            <application>
              <name>General</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Temperature fxsMonitoringTemp1</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>SNMPv2-SMI::enterprises.35265.1.9.10.5.0</snmp_oid>
          <key>fxsMonitoringTemp1</key>
          <delay>5m</delay>
          <history>365d</history>
          <units>C</units>
          <applications>
            <application>
              <name>CPU</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Temperature fxsMonitoringTemp2</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>SNMPv2-SMI::enterprises.35265.1.9.10.6.0</snmp_oid>
          <key>fxsMonitoringTemp2</key>
          <delay>5m</delay>
          <history>365d</history>
          <units>C</units>
          <applications>
            <application>
              <name>CPU</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Temperature fxsMonitoringTemp3</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>SNMPv2-SMI::enterprises.35265.1.9.10.7.0</snmp_oid>
          <key>fxsMonitoringTemp3</key>
          <delay>5m</delay>
          <history>365d</history>
          <units>C</units>
          <applications>
            <application>
              <name>CPU</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Temperature fxsMonitoringTemp4</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>SNMPv2-SMI::enterprises.35265.1.9.10.8.0</snmp_oid>
          <key>fxsMonitoringTemp4</key>
          <delay>5m</delay>
          <history>365d</history>
          <units>C</units>
          <applications>
            <application>
              <name>CPU</name>
            </application>
          </applications>
        </item>
        <item>
          <name>ICMP ping</name>
          <type>SIMPLE</type>
          <key>icmpping</key>
          <history>1w</history>
          <trends>60d</trends>
          <applications>
            <application>
              <name>ICMP</name>
            </application>
          </applications>
          <valuemap>
            <name>Service state</name>
          </valuemap>
          <triggers>
            <trigger>
              <expression>{max(#3)}=0</expression>
              <name>{HOST.NAME} is unavailable by ICMP</name>
              <priority>HIGH</priority>
            </trigger>
          </triggers>
        </item>
        <item>
          <name>ICMP loss</name>
          <type>SIMPLE</type>
          <key>icmppingloss</key>
          <delay>2m</delay>
          <history>1w</history>
          <trends>60d</trends>
          <value_type>FLOAT</value_type>
          <units>%</units>
          <applications>
            <application>
              <name>ICMP</name>
            </application>
          </applications>
          <triggers>
            <trigger>
              <expression>{min(5m)}>20</expression>
              <name>Ping loss is too high on {HOST.NAME}</name>
              <priority>WARNING</priority>
              <dependencies>
                <dependency>
                  <name>{HOST.NAME} is unavailable by ICMP</name>
                  <expression>{Template Eltex TAU SNMPv2:icmpping.max(#3)}=0</expression>
                </dependency>
              </dependencies>
            </trigger>
          </triggers>
        </item>
        <item>
          <name>ICMP response time</name>
          <type>SIMPLE</type>
          <key>icmppingsec</key>
          <delay>2m</delay>
          <history>1w</history>
          <trends>60d</trends>
          <value_type>FLOAT</value_type>
          <units>s</units>
          <applications>
            <application>
              <name>ICMP</name>
            </application>
          </applications>
          <triggers>
            <trigger>
              <expression>{avg(5m)}>0.15</expression>
              <name>Response time is too high on {HOST.NAME}</name>
              <priority>WARNING</priority>
              <dependencies>
                <dependency>
                  <name>{HOST.NAME} is unavailable by ICMP</name>
                  <expression>{Template Eltex TAU SNMPv2:icmpping.max(#3)}=0</expression>
                </dependency>
              </dependencies>
            </trigger>
          </triggers>
        </item>
        <item>
          <name>registrationCount</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>1.3.6.1.4.1.35265.1.29.42.2.0</snmp_oid>
          <key>registrationCount</key>
          <delay>30s</delay>
          <applications>
            <application>
              <name>Calls</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Device MAC</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>1.3.6.1.4.1.89.53.4.1.7.1</snmp_oid>
          <key>rlPhdStackMacAddr</key>
          <delay>1h</delay>
          <history>1w</history>
          <trends>0</trends>
          <value_type>TEXT</value_type>
          <description>MAC adress Device</description>
          <inventory_link>MACADDRESS_A</inventory_link>
          <applications>
            <application>
              <name>General</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Serial number</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>1.3.6.1.4.1.89.53.14.1.5.1</snmp_oid>
          <key>rlPhdUnitGenParamSerialNum</key>
          <delay>1h</delay>
          <history>1w</history>
          <trends>0</trends>
          <value_type>TEXT</value_type>
          <description>Serial number</description>
          <inventory_link>SERIALNO_A</inventory_link>
          <applications>
            <application>
              <name>General</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Device firmware</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>1.3.6.1.4.1.89.2.4.0</snmp_oid>
          <key>rndBrgVersion</key>
          <delay>1h</delay>
          <history>1w</history>
          <trends>0</trends>
          <value_type>TEXT</value_type>
          <description>Version firmware</description>
          <inventory_link>OS</inventory_link>
          <applications>
            <application>
              <name>General</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Device contact details</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>SNMPv2-MIB::sysContact.0</snmp_oid>
          <key>sysContact</key>
          <delay>1h</delay>
          <history>1w</history>
          <trends>0</trends>
          <value_type>CHAR</value_type>
          <description>The textual identification of the contact person for this managed node, together with information on how to contact this person. If no contact information is known, the value is the zero-length string.</description>
          <inventory_link>CONTACT</inventory_link>
          <applications>
            <application>
              <name>General</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Device description</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>SNMPv2-MIB::sysDescr.0</snmp_oid>
          <key>sysDescr</key>
          <delay>1h</delay>
          <history>1w</history>
          <trends>0</trends>
          <value_type>CHAR</value_type>
          <description>A textual description of the entity. This value should include the full name and version identification of the system's hardware type, software operating-system, and networking software.</description>
          <inventory_link>HARDWARE</inventory_link>
          <applications>
            <application>
              <name>General</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Device location</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>SNMPv2-MIB::sysLocation.0</snmp_oid>
          <key>sysLocation</key>
          <delay>1h</delay>
          <history>1w</history>
          <trends>0</trends>
          <value_type>CHAR</value_type>
          <description>The physical location of this node (e.g., `telephone closet, 3rd floor'). If the location is unknown, the value is the zero-length string.</description>
          <inventory_link>LOCATION</inventory_link>
          <applications>
            <application>
              <name>General</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Device name</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>SNMPv2-MIB::sysName.0</snmp_oid>
          <key>sysName</key>
          <delay>1h</delay>
          <history>1w</history>
          <trends>0</trends>
          <value_type>CHAR</value_type>
          <description>An administratively-assigned name for this managed node. By convention, this is the node's fully-qualified domain name. If the name is unknown, the value is the zero-length string.</description>
          <inventory_link>NAME</inventory_link>
          <applications>
            <application>
              <name>General</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Device uptime</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>SNMPv2-MIB::sysUpTime.0</snmp_oid>
          <key>sysUpTime</key>
          <delay>5m</delay>
          <history>1w</history>
          <trends>60d</trends>
          <units>uptime</units>
          <description>The time since the network management portion of the system was last re-initialized.</description>
          <applications>
            <application>
              <name>General</name>
            </application>
          </applications>
          <preprocessing>
            <step>
              <type>MULTIPLIER</type>
              <params>0.01</params>
            </step>
          </preprocessing>
        </item>
        <item>
          <name>smgVoip0busyChannels</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>1.3.6.1.4.1.35265.1.29.40.1.0</snmp_oid>
          <key>Voip0busyChannels</key>
          <delay>30s</delay>
          <applications>
            <application>
              <name>Calls</name>
            </application>
          </applications>
        </item>
      </items>
      <discovery_rules>
        <discovery_rule>
          <name>fxsPortStateTAU</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#FXSSTATE},1.3.6.1.4.1.35265.1.9.12.1.1.3,{#FXSNAME},1.3.6.1.4.1.35265.1.9.12.1.1.2]</snmp_oid>
          <key>fxsPortState</key>
          <item_prototypes>
            <item_prototype>
              <name>Статус FXS {#FXSNAME}</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.35265.1.9.12.1.1.3.{#SNMPINDEX}</snmp_oid>
              <key>fxsPort.[{#SNMPINDEX}]</key>
              <delay>30s</delay>
              <applications>
                <application>
                  <name>Calls</name>
                </application>
              </applications>
              <application_prototypes>
                <application_prototype>
                  <name>FsxCalls</name>
                </application_prototype>
              </application_prototypes>
              <valuemap>
                <name>Eltex TAU calls</name>
              </valuemap>
            </item_prototype>
          </item_prototypes>
          <graph_prototypes>
            <graph_prototype>
              <name>FxsCalls {#FXSNAME}</name>
              <graph_items>
                <graph_item>
                  <color>F63100</color>
                  <calc_fnc>MAX</calc_fnc>
                  <item>
                    <host>Template Eltex TAU SNMPv2</host>
                    <key>fxsPort.[{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>1</sortorder>
                  <color>BF00FF</color>
                  <item>
                    <host>Template Eltex TAU SNMPv2</host>
                    <key>fxsMonitoringTemp1</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>2</sortorder>
                  <color>2774A4</color>
                  <item>
                    <host>Template Eltex TAU SNMPv2</host>
                    <key>fxsMonitoringTemp2</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>3</sortorder>
                  <color>A54F10</color>
                  <item>
                    <host>Template Eltex TAU SNMPv2</host>
                    <key>fxsMonitoringTemp3</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>4</sortorder>
                  <color>FC6EA3</color>
                  <item>
                    <host>Template Eltex TAU SNMPv2</host>
                    <key>fxsMonitoringTemp4</key>
                  </item>
                </graph_item>
              </graph_items>
            </graph_prototype>
          </graph_prototypes>
        </discovery_rule>
      </discovery_rules>
      <macros>
        <macro>
          <macro>{$SNMP_COMMUNITY}</macro>
          <value>public</value>
        </macro>
      </macros>
    </template>
  </templates>
  <graphs>
    <graph>
      <name>CPU Utilization</name>
      <graph_items>
        <graph_item>
          <color>CC0000</color>
          <item>
            <host>Template Eltex TAU SNMPv2</host>
            <key>fxsCpuUsageLast1Minutes</key>
          </item>
        </graph_item>
      </graph_items>
    </graph>
    <graph>
      <name>Memory</name>
      <graph_items>
        <graph_item>
          <color>FF0000</color>
          <item>
            <host>Template Eltex TAU SNMPv2</host>
            <key>fxsFreeRam</key>
          </item>
        </graph_item>
      </graph_items>
    </graph>
    <graph>
      <name>smgCalls</name>
      <graph_items>
        <graph_item>
          <sortorder>1</sortorder>
          <color>F63100</color>
          <item>
            <host>Template Eltex TAU SNMPv2</host>
            <key>Voip0busyChannels</key>
          </item>
        </graph_item>
        <graph_item>
          <sortorder>2</sortorder>
          <color>2774A4</color>
          <item>
            <host>Template Eltex TAU SNMPv2</host>
            <key>activeCallCount</key>
          </item>
        </graph_item>
        <graph_item>
          <sortorder>3</sortorder>
          <color>A54F10</color>
          <item>
            <host>Template Eltex TAU SNMPv2</host>
            <key>registrationCount</key>
          </item>
        </graph_item>
      </graph_items>
    </graph>
    <graph>
      <name>Temperature</name>
      <graph_items>
        <graph_item>
          <color>F63100</color>
          <item>
            <host>Template Eltex TAU SNMPv2</host>
            <key>fxsMonitoringTemp1</key>
          </item>
        </graph_item>
        <graph_item>
          <sortorder>1</sortorder>
          <color>FF8000</color>
          <item>
            <host>Template Eltex TAU SNMPv2</host>
            <key>fxsMonitoringTemp2</key>
          </item>
        </graph_item>
        <graph_item>
          <sortorder>2</sortorder>
          <color>2774A4</color>
          <item>
            <host>Template Eltex TAU SNMPv2</host>
            <key>fxsMonitoringTemp3</key>
          </item>
        </graph_item>
        <graph_item>
          <sortorder>3</sortorder>
          <color>BF00FF</color>
          <item>
            <host>Template Eltex TAU SNMPv2</host>
            <key>fxsMonitoringTemp4</key>
          </item>
        </graph_item>
      </graph_items>
    </graph>
    <graph>
      <name>Uptime</name>
      <graph_items>
        <graph_item>
          <color>1A7C11</color>
          <item>
            <host>Template Eltex TAU SNMPv2</host>
            <key>sysUpTime</key>
          </item>
        </graph_item>
      </graph_items>
    </graph>
    <graph>
      <name>Voip0busyChannels</name>
      <graph_items>
        <graph_item>
          <color>1A7C11</color>
          <item>
            <host>Template Eltex TAU SNMPv2</host>
            <key>Voip0busyChannels</key>
          </item>
        </graph_item>
      </graph_items>
    </graph>
  </graphs>
  <value_maps>
    <value_map>
      <name>Eltex TAU calls</name>
      <mappings>
        <mapping>
          <value>0</value>
          <newvalue>1</newvalue>
        </mapping>
        <mapping>
          <value>1</value>
          <newvalue>0</newvalue>
        </mapping>
        <mapping>
          <value>2</value>
          <newvalue>1</newvalue>
        </mapping>
        <mapping>
          <value>3</value>
          <newvalue>1</newvalue>
        </mapping>
        <mapping>
          <value>4</value>
          <newvalue>1</newvalue>
        </mapping>
        <mapping>
          <value>5</value>
          <newvalue>1</newvalue>
        </mapping>
        <mapping>
          <value>6</value>
          <newvalue>1</newvalue>
        </mapping>
        <mapping>
          <value>7</value>
          <newvalue>1</newvalue>
        </mapping>
        <mapping>
          <value>8</value>
          <newvalue>1</newvalue>
        </mapping>
        <mapping>
          <value>9</value>
          <newvalue>1</newvalue>
        </mapping>
        <mapping>
          <value>10</value>
          <newvalue>0</newvalue>
        </mapping>
        <mapping>
          <value>11</value>
          <newvalue>0</newvalue>
        </mapping>
        <mapping>
          <value>12</value>
          <newvalue>0</newvalue>
        </mapping>
        <mapping>
          <value>13</value>
          <newvalue>1</newvalue>
        </mapping>
        <mapping>
          <value>14</value>
          <newvalue>1</newvalue>
        </mapping>
        <mapping>
          <value>15</value>
          <newvalue>0</newvalue>
        </mapping>
        <mapping>
          <value>16</value>
          <newvalue>1</newvalue>
        </mapping>
        <mapping>
          <value>17</value>
          <newvalue>0</newvalue>
        </mapping>
        <mapping>
          <value>255</value>
          <newvalue>0</newvalue>
        </mapping>
      </mappings>
    </value_map>
    <value_map>
      <name>Service state</name>
      <mappings>
        <mapping>
          <value>0</value>
          <newvalue>Down</newvalue>
        </mapping>
        <mapping>
          <value>1</value>
          <newvalue>Up</newvalue>
        </mapping>
      </mappings>
    </value_map>
  </value_maps>
</zabbix_export>