<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
  <version>5.0</version>
  <date>2021-10-22T10:57:26Z</date>
  <groups>
    <group>
      <name>Templates</name>
    </group>
    <group>
      <name>Templates/Modules</name>
    </group>
  </groups>
  <templates>
    <template>
      <template>Template Module Generic SNMP</template>
      <name>Template Module Generic SNMP</name>
      <description>Template Module Generic MIBs used: SNMPv2-MIB Template tooling version used: 0.36</description>
      <templates>
        <template>
          <name>Template Module ICMP Ping</name>
        </template>
      </templates>
      <groups>
        <group>
          <name>Templates/Modules</name>
        </group>
      </groups>
      <applications>
        <application>
          <name>General</name>
        </application>
      </applications>
      <items>
        <item>
          <name>SNMP traps (fallback)</name>
          <type>SNMP_TRAP</type>
          <key>snmptrap.fallback</key>
          <history>2w</history>
          <trends>0</trends>
          <value_type>LOG</value_type>
          <description>Item is used to collect all SNMP traps unmatched by other snmptrap items</description>
          <applications>
            <application>
              <name>General</name>
            </application>
          </applications>
          <logtimefmt>hh:mm:sszyyyy/MM/dd</logtimefmt>
        </item>
        <item>
          <name>System contact details</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>1.3.6.1.2.1.1.4.0</snmp_oid>
          <key>system.contact[sysContact.0]</key>
          <delay>1h</delay>
          <history>2w</history>
          <trends>0</trends>
          <value_type>CHAR</value_type>
          <description>MIB: SNMPv2-MIB The textual identification of the contact person for this managed node, together with information on how to contact this person. If no contact information is known, the value is the zero-length string.</description>
          <inventory_link>CONTACT</inventory_link>
          <applications>
            <application>
              <name>General</name>
            </application>
          </applications>
          <preprocessing>
            <step>
              <type>DISCARD_UNCHANGED_HEARTBEAT</type>
              <params>1d</params>
            </step>
          </preprocessing>
        </item>
        <item>
          <name>System description</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>1.3.6.1.2.1.1.1.0</snmp_oid>
          <key>system.descr[sysDescr.0]</key>
          <delay>1h</delay>
          <history>2w</history>
          <trends>0</trends>
          <value_type>CHAR</value_type>
          <description>MIB: SNMPv2-MIB A textual description of the entity. This value should include the full name and version identification of the system's hardware type, software operating-system, and networking software.</description>
          <applications>
            <application>
              <name>General</name>
            </application>
          </applications>
          <preprocessing>
            <step>
              <type>DISCARD_UNCHANGED_HEARTBEAT</type>
              <params>1d</params>
            </step>
          </preprocessing>
        </item>
        <item>
          <name>System location</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>1.3.6.1.2.1.1.6.0</snmp_oid>
          <key>system.location[sysLocation.0]</key>
          <delay>1h</delay>
          <history>2w</history>
          <trends>0</trends>
          <value_type>CHAR</value_type>
          <description>MIB: SNMPv2-MIB The physical location of this node (e.g., `telephone closet, 3rd floor'). If the location is unknown, the value is the zero-length string.</description>
          <inventory_link>LOCATION</inventory_link>
          <applications>
            <application>
              <name>General</name>
            </application>
          </applications>
          <preprocessing>
            <step>
              <type>DISCARD_UNCHANGED_HEARTBEAT</type>
              <params>1h</params>
            </step>
          </preprocessing>
        </item>
        <item>
          <name>System name</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>1.3.6.1.2.1.1.5.0</snmp_oid>
          <key>system.name</key>
          <delay>1h</delay>
          <history>2w</history>
          <trends>0</trends>
          <value_type>CHAR</value_type>
          <description>MIB: SNMPv2-MIB An administratively-assigned name for this managed node.By convention, this is the node's fully-qualified domain name. If the name is unknown, the value is the zero-length string.</description>
          <inventory_link>NAME</inventory_link>
          <applications>
            <application>
              <name>General</name>
            </application>
          </applications>
          <preprocessing>
            <step>
              <type>DISCARD_UNCHANGED_HEARTBEAT</type>
              <params>1h</params>
            </step>
          </preprocessing>
          <triggers>
            <trigger>
              <expression>{diff()}=1 and {strlen()}>0</expression>
              <name>System name has changed (new name: {ITEM.VALUE})</name>
              <priority>INFO</priority>
              <description>System name has changed. Ack to close.</description>
              <manual_close>YES</manual_close>
            </trigger>
          </triggers>
        </item>
        <item>
          <name>System object ID</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>1.3.6.1.2.1.1.2.0</snmp_oid>
          <key>system.objectid[sysObjectID.0]</key>
          <delay>15m</delay>
          <history>2w</history>
          <trends>0</trends>
          <value_type>CHAR</value_type>
          <description>MIB: SNMPv2-MIB The vendor's authoritative identification of the network management subsystem contained in the entity. This value is allocated within the SMI enterprises subtree (1.3.6.1.4.1) and provides an easy and unambiguous means for determining`what kind of box' is being managed. For example, if vendor`Flintstones, Inc.' was assigned the subtree1.3.6.1.4.1.4242, it could assign the identifier 1.3.6.1.4.1.4242.1.1 to its `Fred Router'.</description>
          <applications>
            <application>
              <name>General</name>
            </application>
          </applications>
          <preprocessing>
            <step>
              <type>DISCARD_UNCHANGED_HEARTBEAT</type>
              <params>1h</params>
            </step>
          </preprocessing>
        </item>
        <item>
          <name>Uptime</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>1.3.6.1.2.1.1.3.0</snmp_oid>
          <key>system.uptime[sysUpTime.0]</key>
          <delay>30s</delay>
          <history>2w</history>
          <trends>0d</trends>
          <units>uptime</units>
          <description>MIB: SNMPv2-MIB The time (in hundredths of a second) since the network management portion of the system was last re-initialized.</description>
          <applications>
            <application>
              <name>Status</name>
            </application>
          </applications>
          <preprocessing>
            <step>
              <type>MULTIPLIER</type>
              <params>0.01</params>
            </step>
          </preprocessing>
          <triggers>
            <trigger>
              <expression>{last()}&lt;10m</expression>
              <name>{HOST.NAME} has been restarted (uptime &lt; 10m)</name>
              <priority>WARNING</priority>
              <description>Uptime is less than 10 minutes</description>
              <manual_close>YES</manual_close>
              <dependencies>
                <dependency>
                  <name>No SNMP data collection</name>
                  <expression>{Template Module Generic SNMP:zabbix[host,snmp,available].max({$SNMP.TIMEOUT})}=0</expression>
                </dependency>
              </dependencies>
            </trigger>
          </triggers>
        </item>
        <item>
          <name>SNMP agent availability</name>
          <type>INTERNAL</type>
          <key>zabbix[host,snmp,available]</key>
          <history>7d</history>
          <applications>
            <application>
              <name>Status</name>
            </application>
          </applications>
          <valuemap>
            <name>zabbix.host.available</name>
          </valuemap>
          <triggers>
            <trigger>
              <expression>{max({$SNMP.TIMEOUT})}=0</expression>
              <name>No SNMP data collection</name>
              <opdata>Current state: {ITEM.LASTVALUE1}</opdata>
              <priority>WARNING</priority>
              <description>SNMP is not available for polling. Please check device connectivity and SNMP settings.</description>
              <dependencies>
                <dependency>
                  <name>Unavailable by ICMP ping</name>
                  <expression>{Template Module Generic SNMP:icmpping.max(#3)}=0</expression>
                </dependency>
              </dependencies>
            </trigger>
          </triggers>
        </item>
      </items>
      <macros>
        <macro>
          <macro>{$SNMP.TIMEOUT}</macro>
          <value>5m</value>
        </macro>
      </macros>
    </template>
    <template>
      <template>Template Module ICMP Ping</template>
      <name>Template Module ICMP Ping</name>
      <description>Template Module ICMP Ping version: 0.12</description>
      <groups>
        <group>
          <name>Templates/Modules</name>
        </group>
      </groups>
      <applications>
        <application>
          <name>Status</name>
        </application>
      </applications>
      <items>
        <item>
          <name>ICMP ping</name>
          <type>SIMPLE</type>
          <key>icmpping</key>
          <delay>60</delay>
          <history>1w</history>
          <applications>
            <application>
              <name>Status</name>
            </application>
          </applications>
          <valuemap>
            <name>Service state</name>
          </valuemap>
          <triggers>
            <trigger>
              <expression>{max(#3)}=0</expression>
              <name>Unavailable by ICMP ping</name>
              <priority>HIGH</priority>
              <description>Last value: {ITEM.LASTVALUE1}. Last three attempts returned timeout. Please check device connectivity.</description>
            </trigger>
          </triggers>
        </item>
        <item>
          <name>ICMP loss</name>
          <type>SIMPLE</type>
          <key>icmppingloss</key>
          <delay>60</delay>
          <history>1w</history>
          <value_type>FLOAT</value_type>
          <units>%</units>
          <applications>
            <application>
              <name>Status</name>
            </application>
          </applications>
          <triggers>
            <trigger>
              <expression>{min(5m)}>{$ICMP_LOSS_WARN} and {min(5m)}&lt;100</expression>
              <name>High ICMP ping loss</name>
              <priority>WARNING</priority>
              <dependencies>
                <dependency>
                  <name>Unavailable by ICMP ping</name>
                  <expression>{Template Module ICMP Ping:icmpping.max(#3)}=0</expression>
                </dependency>
              </dependencies>
            </trigger>
          </triggers>
        </item>
        <item>
          <name>ICMP response time</name>
          <type>SIMPLE</type>
          <key>icmppingsec</key>
          <delay>60</delay>
          <history>1w</history>
          <value_type>FLOAT</value_type>
          <units>s</units>
          <applications>
            <application>
              <name>Status</name>
            </application>
          </applications>
          <triggers>
            <trigger>
              <expression>{avg(5m)}>{$ICMP_RESPONSE_TIME_WARN}</expression>
              <name>High ICMP ping response time</name>
              <priority>WARNING</priority>
              <dependencies>
                <dependency>
                  <name>High ICMP ping loss</name>
                  <expression>{Template Module ICMP Ping:icmppingloss.min(5m)}>{$ICMP_LOSS_WARN} and {Template Module ICMP Ping:icmppingloss.min(5m)}&lt;100</expression>
                </dependency>
                <dependency>
                  <name>Unavailable by ICMP ping</name>
                  <expression>{Template Module ICMP Ping:icmpping.max(#3)}=0</expression>
                </dependency>
              </dependencies>
            </trigger>
          </triggers>
        </item>
      </items>
      <macros>
        <macro>
          <macro>{$ICMP_LOSS_WARN}</macro>
          <value>20</value>
        </macro>
        <macro>
          <macro>{$ICMP_RESPONSE_TIME_WARN}</macro>
          <value>0.15</value>
        </macro>
      </macros>
    </template>
    <template>
      <template>Template_Rittal_PDU 1Phase EN</template>
      <name>Template_Rittal_PDU 1Phase EN</name>
      <description>IT Infrastructure Monitoring.</description>
      <templates>
        <template>
          <name>Template Module Generic SNMP</name>
        </template>
      </templates>
      <groups>
        <group>
          <name>Templates</name>
        </group>
      </groups>
      <applications>
        <application>
          <name>CMCIII</name>
        </application>
        <application>
          <name>Power-Sensors</name>
        </application>
        <application>
          <name>WalkSNMP-PDU</name>
        </application>
      </applications>
      <items>
        <item>
          <name>Serial number</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.2.1.47.1.1.1.1.11.1</snmp_oid>
          <key>entPhysicalSerialNum</key>
          <delay>1h</delay>
          <inventory_link>SERIALNO_A</inventory_link>
          <applications>
            <application>
              <name>General</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Firmware</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>.1.3.6.1.2.1.47.1.1.1.1.10.1000</snmp_oid>
          <key>entPhysicalSoftwareRev</key>
          <delay>1h</delay>
          <trends>0</trends>
          <value_type>TEXT</value_type>
          <inventory_link>OS_SHORT</inventory_link>
          <applications>
            <application>
              <name>General</name>
            </application>
          </applications>
        </item>
      </items>
      <discovery_rules>
        <discovery_rule>
          <name>Discovery Access</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.2606.7.4.2.2.1.3]</snmp_oid>
          <key>cmcIIIVarName.Access</key>
          <delay>1h</delay>
          <filter>
            <evaltype>OR</evaltype>
            <conditions>
              <condition>
                <macro>{#SNMPVALUE}</macro>
                <value>^Access.Status</value>
                <formulaid>A</formulaid>
              </condition>
            </conditions>
          </filter>
          <lifetime>7d</lifetime>
          <item_prototypes>
            <item_prototype>
              <name>Door status</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.2606.7.4.2.2.1.11.3.5</snmp_oid>
              <key>cmcIIIVarValueInt.Access.Status</key>
              <applications>
                <application>
                  <name>CMCIII</name>
                </application>
              </applications>
              <valuemap>
                <name>Rittal-CMC3DoorStatus</name>
              </valuemap>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()}&lt;>13</expression>
                  <name>Open door warning</name>
                  <priority>WARNING</priority>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
            <item_prototype>
              <name>Access DescName</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.2606.7.4.2.2.1.10.3.1</snmp_oid>
              <key>cmcIIIVarValueStrg.Access.DescName</key>
              <delay>1h</delay>
              <trends>0</trends>
              <value_type>TEXT</value_type>
              <applications>
                <application>
                  <name>CMCIII</name>
                </application>
              </applications>
            </item_prototype>
          </item_prototypes>
          <graph_prototypes>
            <graph_prototype>
              <name>Access</name>
              <graph_items>
                <graph_item>
                  <color>199C0D</color>
                  <item>
                    <host>Template_Rittal_PDU 1Phase EN</host>
                    <key>cmcIIIVarValueInt.Access.Status</key>
                  </item>
                </graph_item>
              </graph_items>
            </graph_prototype>
          </graph_prototypes>
        </discovery_rule>
        <discovery_rule>
          <name>Discovery Analog</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.2606.7.4.2.2.1.3]</snmp_oid>
          <key>cmcIIIVarName.Analog</key>
          <delay>1h</delay>
          <filter>
            <conditions>
              <condition>
                <macro>{#SNMPVALUE}</macro>
                <value>^Analog.Status</value>
                <formulaid>A</formulaid>
              </condition>
            </conditions>
          </filter>
          <lifetime>7d</lifetime>
          <item_prototypes>
            <item_prototype>
              <name>Analog DescName</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.2606.7.4.2.2.1.10.4.12</snmp_oid>
              <key>cmcIIIVarValueStrg.Analog.DescName[{#SNMPINDEX}]</key>
              <delay>1h</delay>
              <trends>0</trends>
              <value_type>TEXT</value_type>
              <applications>
                <application>
                  <name>CMCIII</name>
                </application>
              </applications>
            </item_prototype>
            <item_prototype>
              <name>Analog Status - AirFlow</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.2606.7.4.2.2.1.11.4.10</snmp_oid>
              <key>cmcIIIVarValueStrg.Analog.Status[{#SNMPINDEX}]</key>
              <applications>
                <application>
                  <name>CMCIII</name>
                </application>
              </applications>
              <valuemap>
                <name>Rittal-CMC3SensorStatus</name>
              </valuemap>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()}&lt;>4</expression>
                  <name>AirFlow Status alarm</name>
                  <priority>HIGH</priority>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
          </item_prototypes>
          <graph_prototypes>
            <graph_prototype>
              <name>Analog Sensor</name>
              <graph_items>
                <graph_item>
                  <color>199C0D</color>
                  <item>
                    <host>Template_Rittal_PDU 1Phase EN</host>
                    <key>cmcIIIVarValueStrg.Analog.Status[{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
              </graph_items>
            </graph_prototype>
          </graph_prototypes>
        </discovery_rule>
        <discovery_rule>
          <name>Discovery Climate</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.2606.7.4.2.2.1.3]</snmp_oid>
          <key>cmcIIIVarName.Climate</key>
          <delay>1h</delay>
          <filter>
            <conditions>
              <condition>
                <macro>{#SNMPVALUE}</macro>
                <value>^Temperature.Value</value>
                <formulaid>A</formulaid>
              </condition>
            </conditions>
          </filter>
          <lifetime>7d</lifetime>
          <item_prototypes>
            <item_prototype>
              <name>Climate Status</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.2606.7.4.2.2.1.11.2.2</snmp_oid>
              <key>cmcIIIVarValueInt.Climate[{#SNMPINDEX}]</key>
              <value_type>FLOAT</value_type>
              <units>Â°C</units>
              <applications>
                <application>
                  <name>CMCIII</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.01</params>
                </step>
              </preprocessing>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()}>=40</expression>
                  <name>Climate alarm HIGH {ITEM.LASTVALUE}</name>
                  <priority>DISASTER</priority>
                </trigger_prototype>
                <trigger_prototype>
                  <expression>{last()}>=35</expression>
                  <name>Climate alarm {ITEM.LASTVALUE}</name>
                  <priority>HIGH</priority>
                  <dependencies>
                    <dependency>
                      <name>Climate alarm HIGH {ITEM.LASTVALUE}</name>
                      <expression>{Template_Rittal_PDU 1Phase EN:cmcIIIVarValueInt.Climate[{#SNMPINDEX}].last()}>=40</expression>
                    </dependency>
                  </dependencies>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
          </item_prototypes>
          <graph_prototypes>
            <graph_prototype>
              <name>Climate</name>
              <graph_items>
                <graph_item>
                  <color>199C0D</color>
                  <item>
                    <host>Template_Rittal_PDU 1Phase EN</host>
                    <key>cmcIIIVarValueInt.Climate[{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
              </graph_items>
            </graph_prototype>
          </graph_prototypes>
        </discovery_rule>
        <discovery_rule>
          <name>Energy Meter 1</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.2606.7.4.2.2.1.11.2]</snmp_oid>
          <key>cmcIIIVarName.EnergyMeter1</key>
          <delay>1h</delay>
          <filter>
            <evaltype>AND</evaltype>
            <conditions>
              <condition>
                <macro>{#SNMPVALUE}</macro>
                <value>^Energy Meter 1.Status</value>
                <formulaid>A</formulaid>
              </condition>
            </conditions>
          </filter>
          <lifetime>7d</lifetime>
          <item_prototypes>
            <item_prototype>
              <name>Energy Meter 1 status</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.2606.7.4.2.2.1.10.4.32</snmp_oid>
              <key>cmcIIIVarValueStrg.EnergyMeter1.Status[{#SNMPINDEX}]</key>
              <delay>10m</delay>
              <trends>0</trends>
              <value_type>TEXT</value_type>
              <applications>
                <application>
                  <name>CMCIII</name>
                </application>
              </applications>
            </item_prototype>
            <item_prototype>
              <name>Energy Meter 1 value</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.2606.7.4.2.2.1.11.4.30</snmp_oid>
              <key>cmcIIIVarValueStrg.EnergyMeter1.Value[{#SNMPINDEX}]</key>
              <delay>5m</delay>
              <units>kWh</units>
              <applications>
                <application>
                  <name>CMCIII</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.001</params>
                </step>
              </preprocessing>
            </item_prototype>
          </item_prototypes>
          <graph_prototypes>
            <graph_prototype>
              <name>Energie Meter 1</name>
              <graph_items>
                <graph_item>
                  <color>199C0D</color>
                  <item>
                    <host>Template_Rittal_PDU 1Phase EN</host>
                    <key>cmcIIIVarValueStrg.EnergyMeter1.Value[{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
              </graph_items>
            </graph_prototype>
          </graph_prototypes>
        </discovery_rule>
        <discovery_rule>
          <name>Energy Meter 2</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.2606.7.4.2.2.1.3]</snmp_oid>
          <key>cmcIIIVarName.EnergyMeter2</key>
          <delay>1h</delay>
          <filter>
            <evaltype>AND</evaltype>
            <conditions>
              <condition>
                <macro>{#SNMPVALUE}</macro>
                <value>^Energy Meter 2.Status</value>
                <formulaid>A</formulaid>
              </condition>
            </conditions>
          </filter>
          <lifetime>7d</lifetime>
          <item_prototypes>
            <item_prototype>
              <name>Energy Meter 2 status</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.2606.7.4.2.2.1.10.4.37</snmp_oid>
              <key>cmcIIIVarValueStrg.EnergyMeter2.Status[{#SNMPINDEX}]</key>
              <delay>10m</delay>
              <trends>0</trends>
              <value_type>TEXT</value_type>
              <applications>
                <application>
                  <name>CMCIII</name>
                </application>
              </applications>
            </item_prototype>
            <item_prototype>
              <name>Energy Meter 2 value</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.2606.7.4.2.2.1.11.4.35</snmp_oid>
              <key>cmcIIIVarValueStrg.EnergyMeter2.Value[{#SNMPINDEX}]</key>
              <delay>5m</delay>
              <units>kWh</units>
              <applications>
                <application>
                  <name>CMCIII</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.001</params>
                </step>
              </preprocessing>
            </item_prototype>
          </item_prototypes>
          <graph_prototypes>
            <graph_prototype>
              <name>Energie Meter 2</name>
              <graph_items>
                <graph_item>
                  <color>199C0D</color>
                  <item>
                    <host>Template_Rittal_PDU 1Phase EN</host>
                    <key>cmcIIIVarValueStrg.EnergyMeter2.Value[{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
              </graph_items>
            </graph_prototype>
          </graph_prototypes>
        </discovery_rule>
        <discovery_rule>
          <name>Discovery Humidity</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.2606.7.4.2.2.1.3]</snmp_oid>
          <key>cmcIIIVarName.Humidity</key>
          <delay>1h</delay>
          <filter>
            <evaltype>AND</evaltype>
            <conditions>
              <condition>
                <macro>{#SNMPVALUE}</macro>
                <value>^Humidity.Status</value>
                <formulaid>A</formulaid>
              </condition>
            </conditions>
          </filter>
          <lifetime>7d</lifetime>
          <item_prototypes>
            <item_prototype>
              <name>Humidity Status</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.2606.7.4.2.2.1.11.2.19</snmp_oid>
              <key>cmcIIIVarValueInt.Humidity.Status[{#SNMPINDEX}]</key>
              <applications>
                <application>
                  <name>CMCIII</name>
                </application>
              </applications>
              <valuemap>
                <name>Rittal-CMC3SensorStatus</name>
              </valuemap>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()}&lt;>4</expression>
                  <name>Alarm Humidity Status</name>
                  <priority>HIGH</priority>
                  <description>The humidity status is not OK</description>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
            <item_prototype>
              <name>Humidity Value</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.2606.7.4.2.2.1.11.2.12</snmp_oid>
              <key>cmcIIIVarValueInt.Humidity.Value[{#SNMPINDEX}]</key>
              <delay>10m</delay>
              <value_type>FLOAT</value_type>
              <units>%</units>
              <applications>
                <application>
                  <name>CMCIII</name>
                </application>
              </applications>
              <valuemap>
                <name>Rittal-CMC3SensorStatus</name>
              </valuemap>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.01</params>
                </step>
              </preprocessing>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()}>75 and {last()}&lt;80</expression>
                  <name>Humidity Above Normal {ITEM.LASTVALUE}</name>
                  <priority>AVERAGE</priority>
                  <description>The humidity is above normal</description>
                </trigger_prototype>
                <trigger_prototype>
                  <expression>{last()}&lt;=30 and {last()}>25</expression>
                  <name>Humidity Below Normal {ITEM.LASTVALUE}</name>
                  <priority>AVERAGE</priority>
                  <description>The humidity is below normal</description>
                </trigger_prototype>
                <trigger_prototype>
                  <expression>{last()}>=80</expression>
                  <name>Humidity Very Above Normal {ITEM.LASTVALUE}</name>
                  <priority>HIGH</priority>
                  <description>Humidity is too high</description>
                </trigger_prototype>
                <trigger_prototype>
                  <expression>{last()}&lt;=25</expression>
                  <name>Humidity Very Below Normal {ITEM.LASTVALUE}</name>
                  <priority>HIGH</priority>
                  <description>Humidity is too low</description>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
          </item_prototypes>
          <graph_prototypes>
            <graph_prototype>
              <name>Humidity</name>
              <graph_items>
                <graph_item>
                  <color>F63100</color>
                  <item>
                    <host>Template_Rittal_PDU 1Phase EN</host>
                    <key>cmcIIIVarValueInt.Humidity.Value[{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
              </graph_items>
            </graph_prototype>
          </graph_prototypes>
        </discovery_rule>
        <discovery_rule>
          <name>Discovery Input 1</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.2606.7.4.2.2.1.3]</snmp_oid>
          <key>cmcIIIVarName.Input1</key>
          <delay>1h</delay>
          <filter>
            <evaltype>AND</evaltype>
            <conditions>
              <condition>
                <macro>{#SNMPVALUE}</macro>
                <value>^Input 1.Status</value>
                <formulaid>A</formulaid>
              </condition>
            </conditions>
          </filter>
          <lifetime>7d</lifetime>
          <item_prototypes>
            <item_prototype>
              <name>Input 1.DescName</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.2606.7.4.2.2.1.10.4.17</snmp_oid>
              <key>cmcIIIVarStrg.Input1.DescName[{#SNMPINDEX}]</key>
              <delay>1h</delay>
              <trends>0</trends>
              <value_type>TEXT</value_type>
              <applications>
                <application>
                  <name>CMCIII</name>
                </application>
              </applications>
            </item_prototype>
            <item_prototype>
              <name>Input 1 Status</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.2606.7.4.2.2.1.11.4.21</snmp_oid>
              <key>cmcIIIVarStrg.Input1.Status[{#SNMPINDEX}]</key>
              <delay>2m</delay>
              <applications>
                <application>
                  <name>CMCIII</name>
                </application>
              </applications>
              <valuemap>
                <name>Rittal-CMC3InputStatus</name>
              </valuemap>
            </item_prototype>
            <item_prototype>
              <name>Input 1 Value</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.2606.7.4.2.2.1.11.4.18</snmp_oid>
              <key>cmcIIIVarStrg.Input1.Value[{#SNMPINDEX}]</key>
              <applications>
                <application>
                  <name>CMCIII</name>
                </application>
              </applications>
            </item_prototype>
          </item_prototypes>
          <trigger_prototypes>
            <trigger_prototype>
              <expression>{Template_Rittal_PDU 1Phase EN:cmcIIIVarStrg.Input1.Status[{#SNMPINDEX}].last()}=4 and {Template_Rittal_PDU 1Phase EN:cmcIIIVarStrg.Input1.Value[{#SNMPINDEX}].last()}&lt;>1</expression>
              <name>Input 1 status alarm</name>
              <priority>HIGH</priority>
            </trigger_prototype>
          </trigger_prototypes>
          <graph_prototypes>
            <graph_prototype>
              <name>Input 1</name>
              <graph_items>
                <graph_item>
                  <color>199C0D</color>
                  <item>
                    <host>Template_Rittal_PDU 1Phase EN</host>
                    <key>cmcIIIVarStrg.Input1.Value[{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
              </graph_items>
            </graph_prototype>
          </graph_prototypes>
        </discovery_rule>
        <discovery_rule>
          <name>Discovery Input 2</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.2606.7.4.2.2.1.3]</snmp_oid>
          <key>cmcIIIVarName.Input2</key>
          <delay>1h</delay>
          <filter>
            <evaltype>AND</evaltype>
            <conditions>
              <condition>
                <macro>{#SNMPVALUE}</macro>
                <value>^Input 2.Status</value>
                <formulaid>A</formulaid>
              </condition>
            </conditions>
          </filter>
          <lifetime>7d</lifetime>
          <item_prototypes>
            <item_prototype>
              <name>Input 2.DescName</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.2606.7.4.2.2.1.10.4.23</snmp_oid>
              <key>cmcIIIVarStrg.Input2.DescName[{#SNMPINDEX}]</key>
              <delay>1h</delay>
              <trends>0</trends>
              <value_type>TEXT</value_type>
              <applications>
                <application>
                  <name>CMCIII</name>
                </application>
              </applications>
            </item_prototype>
            <item_prototype>
              <name>Input 2 Status</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.2606.7.4.2.2.1.11.4.27</snmp_oid>
              <key>cmcIIIVarStrg.Input2.Status[{#SNMPINDEX}]</key>
              <delay>2m</delay>
              <applications>
                <application>
                  <name>CMCIII</name>
                </application>
              </applications>
              <valuemap>
                <name>Rittal-CMC3InputStatus</name>
              </valuemap>
            </item_prototype>
            <item_prototype>
              <name>Input 2 Value</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.2606.7.4.2.2.1.11.4.24</snmp_oid>
              <key>cmcIIIVarStrg.Input2.Value[{#SNMPINDEX}]</key>
              <applications>
                <application>
                  <name>CMCIII</name>
                </application>
              </applications>
            </item_prototype>
          </item_prototypes>
          <trigger_prototypes>
            <trigger_prototype>
              <expression>{Template_Rittal_PDU 1Phase EN:cmcIIIVarStrg.Input2.Status[{#SNMPINDEX}].last()}=4 and {Template_Rittal_PDU 1Phase EN:cmcIIIVarStrg.Input2.Value[{#SNMPINDEX}].last()}&lt;>1</expression>
              <name>Input 2 status alarm</name>
              <priority>HIGH</priority>
            </trigger_prototype>
          </trigger_prototypes>
          <graph_prototypes>
            <graph_prototype>
              <name>Input 2</name>
              <graph_items>
                <graph_item>
                  <color>199C0D</color>
                  <item>
                    <host>Template_Rittal_PDU 1Phase EN</host>
                    <key>cmcIIIVarStrg.Input2.Value[{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
              </graph_items>
            </graph_prototype>
          </graph_prototypes>
        </discovery_rule>
        <discovery_rule>
          <name>Discovery Leakage</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.2606.7.4.2.2.1.3]</snmp_oid>
          <key>cmcIIIVarName.Leakage</key>
          <delay>1h</delay>
          <filter>
            <conditions>
              <condition>
                <macro>{#SNMPVALUE}</macro>
                <value>^Leakage.Status</value>
                <formulaid>A</formulaid>
              </condition>
            </conditions>
          </filter>
          <lifetime>7d</lifetime>
          <item_prototypes>
            <item_prototype>
              <name>Leakage Status</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2606.7.4.2.2.1.11.5.4</snmp_oid>
              <key>cmcIIIVarValueInt.Leakage.Status[{#SNMPINDEX}]</key>
              <applications>
                <application>
                  <name>CMCIII</name>
                </application>
              </applications>
              <valuemap>
                <name>Rittal-CMC3SensorStatus</name>
              </valuemap>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()}&lt;>4</expression>
                  <name>Alarm Leakage Status</name>
                  <priority>DISASTER</priority>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
          </item_prototypes>
          <graph_prototypes>
            <graph_prototype>
              <name>Leakage</name>
              <graph_items>
                <graph_item>
                  <color>199C0D</color>
                  <item>
                    <host>Template_Rittal_PDU 1Phase EN</host>
                    <key>cmcIIIVarValueInt.Leakage.Status[{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
              </graph_items>
            </graph_prototype>
          </graph_prototypes>
        </discovery_rule>
        <discovery_rule>
          <name>Phase L1 Energy</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.2606.7.4.2.2.1.3]</snmp_oid>
          <key>cmcIIIVarName.PhaseL1.Energy</key>
          <delay>1h</delay>
          <filter>
            <conditions>
              <condition>
                <macro>{#SNMPVALUE}</macro>
                <value>^Phase L1.Energy.Active.Value</value>
                <formulaid>A</formulaid>
              </condition>
            </conditions>
          </filter>
          <lifetime>7d</lifetime>
          <item_prototypes>
            <item_prototype>
              <name>L1 Energy Active Custom Value</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2606.7.4.2.2.1.11.1.47</snmp_oid>
              <key>cmcIIIVarValueInt.L1.Energy.Active.Custom.Value</key>
              <delay>5m</delay>
              <units>kWh</units>
              <applications>
                <application>
                  <name>Power-Sensors</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.1</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>L1 Energy Active Value</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2606.7.4.2.2.1.11.1.46</snmp_oid>
              <key>cmcIIIVarValueInt.L1.Energy.Active.Value</key>
              <delay>5m</delay>
              <units>kWh</units>
              <applications>
                <application>
                  <name>Power-Sensors</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.1</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>L1 Energy Apparent Value</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2606.7.4.2.2.1.11.1.48</snmp_oid>
              <key>cmcIIIVarValueInt.L1.Energy.Apparent.Value</key>
              <delay>5m</delay>
              <units>kVAh</units>
              <applications>
                <application>
                  <name>Power-Sensors</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.1</params>
                </step>
              </preprocessing>
            </item_prototype>
          </item_prototypes>
          <graph_prototypes>
            <graph_prototype>
              <name>Phase L1 Energie</name>
              <graph_items>
                <graph_item>
                  <color>199C0D</color>
                  <item>
                    <host>Template_Rittal_PDU 1Phase EN</host>
                    <key>cmcIIIVarValueInt.L1.Energy.Active.Custom.Value</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>1</sortorder>
                  <color>F63100</color>
                  <item>
                    <host>Template_Rittal_PDU 1Phase EN</host>
                    <key>cmcIIIVarValueInt.L1.Energy.Active.Value</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>2</sortorder>
                  <color>2774A4</color>
                  <item>
                    <host>Template_Rittal_PDU 1Phase EN</host>
                    <key>cmcIIIVarValueInt.L1.Energy.Apparent.Value</key>
                  </item>
                </graph_item>
              </graph_items>
            </graph_prototype>
          </graph_prototypes>
        </discovery_rule>
        <discovery_rule>
          <name>Phase L1 Power</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.2606.7.4.2.2.1.3]</snmp_oid>
          <key>cmcIIIVarName.PhaseL1.Power</key>
          <delay>1h</delay>
          <filter>
            <evaltype>AND</evaltype>
            <conditions>
              <condition>
                <macro>{#SNMPVALUE}</macro>
                <value>^Phase L1.Power.Active.Status</value>
                <formulaid>A</formulaid>
              </condition>
            </conditions>
          </filter>
          <lifetime>7d</lifetime>
          <item_prototypes>
            <item_prototype>
              <name>Phase L1 Current Status</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2606.7.4.2.2.1.11.1.41</snmp_oid>
              <key>cmcIIIVarValueInt.PhaseL1.Current.Status[{#SNMPINDEX}]</key>
              <applications>
                <application>
                  <name>Power-Sensors</name>
                </application>
              </applications>
              <valuemap>
                <name>Rittal-CMC3PowerStatus</name>
              </valuemap>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()}&lt;>10</expression>
                  <name>Alarm Current Status Phase L1</name>
                  <priority>HIGH</priority>
                </trigger_prototype>
                <trigger_prototype>
                  <expression>{last()}&lt;>10</expression>
                  <name>Alarm Power Status Phase L1</name>
                  <priority>HIGH</priority>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
            <item_prototype>
              <name>Phase L1 Current Value</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2606.7.4.2.2.1.11.1.26</snmp_oid>
              <key>cmcIIIVarValueInt.PhaseL1.Current.Value[{#SNMPINDEX}]</key>
              <value_type>FLOAT</value_type>
              <units>A</units>
              <applications>
                <application>
                  <name>Power-Sensors</name>
                </application>
              </applications>
              <valuemap>
                <name>Rittal-CMC3PowerStatus</name>
              </valuemap>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.01</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Phase L1 Power Active Status</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2606.7.4.2.2.1.11.1.41</snmp_oid>
              <key>cmcIIIVarValueInt.PhaseL1.Power.Active.Status[{#SNMPINDEX}]</key>
              <applications>
                <application>
                  <name>Power-Sensors</name>
                </application>
              </applications>
              <valuemap>
                <name>Rittal-CMC3PowerStatus</name>
              </valuemap>
            </item_prototype>
            <item_prototype>
              <name>Phase L1 Power Active Value</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2606.7.4.2.2.1.11.1.45</snmp_oid>
              <key>cmcIIIVarValueInt.PhaseL1.Power.Active.Value[{#SNMPINDEX}]</key>
              <delay>5m</delay>
              <units>W</units>
              <applications>
                <application>
                  <name>Power-Sensors</name>
                </application>
              </applications>
            </item_prototype>
            <item_prototype>
              <name>Phase L1 Voltage Status</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2606.7.4.2.2.1.11.1.32</snmp_oid>
              <key>cmcIIIVarValueInt.PhaseL1.Voltage.Status[{#SNMPINDEX}]</key>
              <applications>
                <application>
                  <name>Power-Sensors</name>
                </application>
              </applications>
              <valuemap>
                <name>Rittal-CMC3PowerStatus</name>
              </valuemap>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()}&lt;>4</expression>
                  <name>Alarm Voltage Status Phase L1</name>
                  <priority>HIGH</priority>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
            <item_prototype>
              <name>Phase L1 Voltage Value</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2606.7.4.2.2.1.11.1.17</snmp_oid>
              <key>cmcIIIVarValueInt.PhaseL1.Voltage.Value[{#SNMPINDEX}]</key>
              <value_type>FLOAT</value_type>
              <units>V</units>
              <applications>
                <application>
                  <name>Power-Sensors</name>
                </application>
              </applications>
              <valuemap>
                <name>Rittal-CMC3PowerStatus</name>
              </valuemap>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.1</params>
                </step>
              </preprocessing>
            </item_prototype>
          </item_prototypes>
          <graph_prototypes>
            <graph_prototype>
              <name>Voltage and Current Usage Phase L1</name>
              <graph_items>
                <graph_item>
                  <color>199C0D</color>
                  <item>
                    <host>Template_Rittal_PDU 1Phase EN</host>
                    <key>cmcIIIVarValueInt.PhaseL1.Voltage.Value[{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>1</sortorder>
                  <color>F63100</color>
                  <item>
                    <host>Template_Rittal_PDU 1Phase EN</host>
                    <key>cmcIIIVarValueInt.PhaseL1.Current.Value[{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
              </graph_items>
            </graph_prototype>
          </graph_prototypes>
        </discovery_rule>
        <discovery_rule>
          <name>Discovery Temperature</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.2606.7.4.2.2.1.3]</snmp_oid>
          <key>cmcIIIVarName.Temperature</key>
          <delay>1h</delay>
          <filter>
            <evaltype>AND</evaltype>
            <conditions>
              <condition>
                <macro>{#SNMPVALUE}</macro>
                <value>^Temperature.Status</value>
                <formulaid>A</formulaid>
              </condition>
            </conditions>
          </filter>
          <lifetime>7d</lifetime>
          <item_prototypes>
            <item_prototype>
              <name>Temperature Status</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.2606.7.4.2.2.1.11.2.9</snmp_oid>
              <key>cmcIIIVarValueInt.Temperature.Status[{#SNMPINDEX}]</key>
              <applications>
                <application>
                  <name>CMCIII</name>
                </application>
              </applications>
              <valuemap>
                <name>Rittal-CMC3SensorStatus</name>
              </valuemap>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()}&lt;>4</expression>
                  <name>Temparture status alarm</name>
                  <priority>HIGH</priority>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
            <item_prototype>
              <name>Temperature Value</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.2606.7.4.2.2.1.11.2.2</snmp_oid>
              <key>cmcIIIVarValueInt.Temperature.Value[{#SNMPINDEX}]</key>
              <applications>
                <application>
                  <name>CMCIII</name>
                </application>
              </applications>
              <valuemap>
                <name>Rittal-CMC3SensorStatus</name>
              </valuemap>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.01</params>
                </step>
              </preprocessing>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()}>=25 and {last()}&lt;26</expression>
                  <name>Temperature Above Normal {ITEM.LASTVALUE}Â°C</name>
                  <priority>AVERAGE</priority>
                </trigger_prototype>
                <trigger_prototype>
                  <expression>{last()}&lt;=15 and {last()}>13</expression>
                  <name>Temperature Below Normal {ITEM.LASTVALUE}Â°C</name>
                  <priority>AVERAGE</priority>
                </trigger_prototype>
                <trigger_prototype>
                  <expression>{last()}&lt;=13</expression>
                  <name>Temperature Far Below Normal {ITEM.LASTVALUE}Â°C</name>
                  <priority>HIGH</priority>
                  <description>Temperature too low</description>
                </trigger_prototype>
                <trigger_prototype>
                  <expression>{last()}>=26</expression>
                  <name>Temperature Very Above Normal {ITEM.LASTVALUE}Â°C</name>
                  <priority>HIGH</priority>
                  <description>Temperature too high</description>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
          </item_prototypes>
          <graph_prototypes>
            <graph_prototype>
              <name>Temparature</name>
              <graph_items>
                <graph_item>
                  <color>199C0D</color>
                  <item>
                    <host>Template_Rittal_PDU 1Phase EN</host>
                    <key>cmcIIIVarValueInt.Temperature.Value[{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
              </graph_items>
            </graph_prototype>
          </graph_prototypes>
        </discovery_rule>
        <discovery_rule>
          <name>Discovery Unit Energy</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.2606.7.4.2.2.1.3]</snmp_oid>
          <key>cmcIIIVarName.Unit.Energy</key>
          <delay>1h</delay>
          <filter>
            <evaltype>AND</evaltype>
            <conditions>
              <condition>
                <macro>{#SNMPVALUE}</macro>
                <value>^Unit.Energy.Active.Value</value>
                <formulaid>A</formulaid>
              </condition>
            </conditions>
          </filter>
          <lifetime>7d</lifetime>
          <item_prototypes>
            <item_prototype>
              <name>Unit Energie Custom kWh</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2606.7.4.2.2.1.11.1.13</snmp_oid>
              <key>Unit.Energy.Active.Custom.Value[{#SNMPINDEX}]</key>
              <delay>2m</delay>
              <value_type>FLOAT</value_type>
              <units>Wh</units>
              <applications>
                <application>
                  <name>CMCIII</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.1</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Unit Energie Runtime</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2606.7.4.2.2.1.11.1.12</snmp_oid>
              <key>Unit.Energy.Active.Runtime.Value[{#SNMPINDEX}]</key>
              <delay>2m</delay>
              <value_type>FLOAT</value_type>
              <units>uptime</units>
              <applications>
                <application>
                  <name>CMCIII</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.04166666666666666667</params>
                </step>
              </preprocessing>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()}&lt;5m</expression>
                  <name>PDU has been restartet (uptime &lt; 5m)</name>
                  <priority>AVERAGE</priority>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
            <item_prototype>
              <name>Unit Energie Active kWh</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2606.7.4.2.2.1.11.1.11</snmp_oid>
              <key>Unit.Energy.Active.Value[{#SNMPINDEX}]</key>
              <delay>2m</delay>
              <value_type>FLOAT</value_type>
              <units>Wh</units>
              <applications>
                <application>
                  <name>CMCIII</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.1</params>
                </step>
              </preprocessing>
            </item_prototype>
          </item_prototypes>
          <graph_prototypes>
            <graph_prototype>
              <name>Energie usages</name>
              <graph_items>
                <graph_item>
                  <color>199C0D</color>
                  <item>
                    <host>Template_Rittal_PDU 1Phase EN</host>
                    <key>Unit.Energy.Active.Value[{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>1</sortorder>
                  <color>F63100</color>
                  <item>
                    <host>Template_Rittal_PDU 1Phase EN</host>
                    <key>Unit.Energy.Active.Custom.Value[{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
              </graph_items>
            </graph_prototype>
          </graph_prototypes>
        </discovery_rule>
        <discovery_rule>
          <name>Discovery Unit Power</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.2606.7.4.2.2.1.3]</snmp_oid>
          <key>cmcIIIVarName.Unit.Power</key>
          <delay>1h</delay>
          <filter>
            <conditions>
              <condition>
                <macro>{#SNMPVALUE}</macro>
                <value>^Unit.Power.Active.Value</value>
                <formulaid>A</formulaid>
              </condition>
            </conditions>
          </filter>
          <lifetime>7d</lifetime>
          <item_prototypes>
            <item_prototype>
              <name>Unit Power Active Status</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2606.7.4.2.2.1.11.1.9</snmp_oid>
              <key>Unit.Power.Active.Status[{#SNMPINDEX}]</key>
              <delay>2m</delay>
              <applications>
                <application>
                  <name>CMCIII</name>
                </application>
              </applications>
              <valuemap>
                <name>Rittal-CMC3PowerStatus</name>
              </valuemap>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()}&lt;>4</expression>
                  <name>Alarm Unit Power Active Status</name>
                  <priority>DISASTER</priority>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
            <item_prototype>
              <name>Unit Power Active Value</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2606.7.4.2.2.1.11.1.3</snmp_oid>
              <key>Unit.Power.Active.Value[{#SNMPINDEX}]</key>
              <delay>2m</delay>
              <units>W</units>
              <applications>
                <application>
                  <name>CMCIII</name>
                </application>
              </applications>
            </item_prototype>
          </item_prototypes>
          <graph_prototypes>
            <graph_prototype>
              <name>Unit Power</name>
              <graph_items>
                <graph_item>
                  <color>199C0D</color>
                  <item>
                    <host>Template_Rittal_PDU 1Phase EN</host>
                    <key>Unit.Power.Active.Value[{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
              </graph_items>
            </graph_prototype>
          </graph_prototypes>
        </discovery_rule>
        <discovery_rule>
          <name>Discovery cmsIIIVarName Settings</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.2606.7.4.2.2.1.3]</snmp_oid>
          <key>cmsIIIVarNames.WalkSNMP</key>
          <delay>1h</delay>
          <filter>
            <conditions>
              <condition>
                <macro>{#SNMPVALUE}</macro>
                <value>Socket</value>
                <operator>NOT_MATCHES_REGEX</operator>
                <formulaid>A</formulaid>
              </condition>
            </conditions>
          </filter>
          <lifetime>7d</lifetime>
          <item_prototypes>
            <item_prototype>
              <name>$1</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2606.7.4.2.2.1.10.{#SNMPINDEX}</snmp_oid>
              <key>Walk-SNMP[{#SNMPVALUE} ({#SNMPINDEX})]</key>
              <trends>0</trends>
              <value_type>TEXT</value_type>
              <applications>
                <application>
                  <name>WalkSNMP-PDU</name>
                </application>
              </applications>
              <application_prototypes>
                <application_prototype>
                  <name>WalkSNMP-PDU</name>
                </application_prototype>
              </application_prototypes>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{str(OK)}&lt;>1</expression>
                  <name>{HOST.NAME} $1</name>
                  <status>DISABLED</status>
                  <discover>NO_DISCOVER</discover>
                  <priority>DISASTER</priority>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
          </item_prototypes>
        </discovery_rule>
      </discovery_rules>
    </template>
  </templates>
  <value_maps>
    <value_map>
      <name>Rittal-CMC3DoorStatus</name>
      <mappings>
        <mapping>
          <value>1</value>
          <newvalue>Open</newvalue>
        </mapping>
        <mapping>
          <value>13</value>
          <newvalue>Closed</newvalue>
        </mapping>
      </mappings>
    </value_map>
    <value_map>
      <name>Rittal-CMC3InputStatus</name>
      <mappings>
        <mapping>
          <value>0</value>
          <newvalue>Failure</newvalue>
        </mapping>
        <mapping>
          <value>1</value>
          <newvalue>OK</newvalue>
        </mapping>
        <mapping>
          <value>4</value>
          <newvalue>OK</newvalue>
        </mapping>
        <mapping>
          <value>10</value>
          <newvalue>inactive</newvalue>
        </mapping>
      </mappings>
    </value_map>
    <value_map>
      <name>Rittal-CMC3PowerStatus</name>
      <mappings>
        <mapping>
          <value>0</value>
          <newvalue>off</newvalue>
        </mapping>
        <mapping>
          <value>1</value>
          <newvalue>off</newvalue>
        </mapping>
        <mapping>
          <value>4</value>
          <newvalue>OK</newvalue>
        </mapping>
        <mapping>
          <value>10</value>
          <newvalue>OK</newvalue>
        </mapping>
      </mappings>
    </value_map>
    <value_map>
      <name>Rittal-CMC3SensorStatus</name>
      <mappings>
        <mapping>
          <value>0</value>
          <newvalue>failure</newvalue>
        </mapping>
        <mapping>
          <value>1</value>
          <newvalue>N/A</newvalue>
        </mapping>
        <mapping>
          <value>4</value>
          <newvalue>OK</newvalue>
        </mapping>
      </mappings>
    </value_map>
    <value_map>
      <name>Service state</name>
      <mappings>
        <mapping>
          <value>0</value>
          <newvalue>Down</newvalue>
        </mapping>
        <mapping>
          <value>1</value>
          <newvalue>Up</newvalue>
        </mapping>
      </mappings>
    </value_map>
    <value_map>
      <name>zabbix.host.available</name>
      <mappings>
        <mapping>
          <value>0</value>
          <newvalue>not available</newvalue>
        </mapping>
        <mapping>
          <value>1</value>
          <newvalue>available</newvalue>
        </mapping>
        <mapping>
          <value>2</value>
          <newvalue>unknown</newvalue>
        </mapping>
      </mappings>
    </value_map>
  </value_maps>
</zabbix_export>