<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>5.0</version><date>2021-11-21T22:00:58Z</date><groups><group><name>Templates/Printers</name></group></groups><templates><template><template>SNMP Riello NetMan204 UPS</template><name>SNMP Riello NetMan204 UPS</name><description>## Overview

Riello NetMan204 SNMP Template


 


This template is for the monitoring of Riello NetMan204 UPS hardware via SNMP.


Monitors the following items:


* Battery Current
* Battery Status
* Battery Temperature
* Battery Voltage
* Bypass Freq
* Input Line Bads
* Output Freq
* Alarms Present
* Estimated Charge Remaining
* Estimated Charge Remaining

&lt;li style=&quot;line-height: 20px; margin: 0px; padding: 0px; border: 0

## Author

balmag

</description><groups><group><name>Templates/Printers</name></group></groups><applications><application><name>Batery</name></application><application><name>Battery</name></application><application><name>Bypass Lines</name></application><application><name>General</name></application><application><name>Input Lines</name></application><application><name>Output Lines</name></application><application><name>SNMP agent</name></application><application><name>UPS Status</name></application></applications><items><item><name>Battery Current</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.33.1.2.6.0</snmp_oid><key>rupsBatteryCurrent.0</key><delay>60s</delay><history>30d</history><trends>60d</trends><units>A</units><applications><application><name>Battery</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>0.1</params></step></preprocessing></item><item><name>Battery Status</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.33.1.2.1.0</snmp_oid><key>rupsBatteryStatus.0</key><delay>60s</delay><history>30d</history><trends>60d</trends><applications><application><name>Battery</name></application></applications><valuemap><name>upsBatteryStatus</name></valuemap></item><item><name>Battery Temperature</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.33.1.2.7.0</snmp_oid><key>rupsBatteryTemperature.0</key><delay>60s</delay><history>30d</history><trends>60d</trends><units>ºC</units><applications><application><name>Battery</name></application></applications><triggers><trigger><expression>{min(300)}&gt;45</expression><name>Temperature of batteries above 45ºC</name><priority>WARNING</priority><tags><tag><tag>POWER</tag></tag></tags></trigger><trigger><expression>{min(300)}&gt;55</expression><name>Temperature of batteries above 55ºC</name><priority>HIGH</priority><description>All batteries have a rated capacity which is determined based on specified conditions.  The rated capacity of a UPS battery is based on an ambient temperature of 25°C (77°F).  Operating the UPS under these conditions will maximize the life of the UPS and result in optimal performance.  While a UPS will continue to operate in varying temperatures, it is important to note that this will likely result in diminishing the performance and lifespan of your battery.  A general rule to remember is that for every 8.3°C (15°F) above the ambient temperature of 25°C (77°F), the life of the battery will be reduced by 50 percent.  Therefore, keeping a UPS at a comfortable temperature is crucial to maximizing UPS life and capabilities.</description><tags><tag><tag>POWER</tag></tag></tags></trigger><trigger><expression>{max(300)}&lt;15</expression><name>Temperature of batteries below 15ºC</name><priority>AVERAGE</priority><description>Under 19º battery capacity will get reduced although life will be extended</description><tags><tag><tag>POWER</tag></tag></tags></trigger></triggers></item><item><name>Battery Voltage</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.33.1.2.5.0</snmp_oid><key>rupsBatteryVoltage.0</key><delay>60s</delay><history>30d</history><trends>60d</trends><units>V</units><applications><application><name>Battery</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>0.1</params></step></preprocessing><triggers><trigger><expression>{max(#2)}&lt;({$NOMINAL_VOLTAGE}*0.9)</expression><name>Battery voltage under {$NOMINAL_VOLTAGE}</name><priority>HIGH</priority><tags><tag><tag>POWER</tag></tag></tags></trigger></triggers></item><item><name>Bypass frequency</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.33.1.5.1.0</snmp_oid><key>rupsBypassFrequency.0</key><delay>60s</delay><history>30d</history><trends>60d</trends><units>Hz</units><applications><application><name>Bypass Lines</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>0.1</params></step></preprocessing><triggers><trigger><expression>{min(#2)}&gt;{$NOMINAL_FREQUENCY}+1 or {max(#2)}&lt;{$NOMINAL_FREQUENCY}-1</expression><name>Bypass frecuency is not {$NOMINAL_FREQUENCY}</name><priority>HIGH</priority><tags><tag><tag>POWER</tag></tag></tags></trigger></triggers></item><item><name>Estimated Charge Remaining</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.33.1.2.4.0</snmp_oid><key>rupsEstimatedChargeRemaining.0</key><delay>60s</delay><history>30d</history><trends>60d</trends><units>%</units><applications><application><name>UPS Status</name></application></applications><triggers><trigger><expression>{change()}&gt;0 and {last()}&lt;100</expression><name>Batteries are charging</name><priority>INFO</priority><tags><tag><tag>POWER</tag></tag></tags></trigger><trigger><expression>{change()}&lt;0 and {last()}&gt;0</expression><name>Batteries are discharging</name><priority>WARNING</priority><tags><tag><tag>POWER</tag></tag></tags></trigger></triggers></item><item><name>Estimated Minutes Remaining</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.33.1.2.3.0</snmp_oid><key>rupsEstimatedMinutesRemaining.0</key><delay>60s</delay><history>30d</history><trends>60d</trends><units>minutes</units><applications><application><name>UPS Status</name></application></applications><triggers><trigger><expression>{max(#2)}&lt;5</expression><name>Estimated battery minutes remaining &lt; 5</name><priority>AVERAGE</priority><tags><tag><tag>POWER</tag></tag></tags></trigger></triggers></item><item><name>Ups Agent Version</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.33.1.1.4.0</snmp_oid><key>rupsIdentAgentSoftwareVersion.0</key><delay>1d</delay><history>30d</history><trends>0</trends><value_type>CHAR</value_type><inventory_link>SOFTWARE</inventory_link><applications><application><name>General</name></application></applications></item><item><name>Model name</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.5491.5.1.1.8.0</snmp_oid><key>rupsIdentModel.0</key><delay>1d</delay><history>30d</history><trends>0</trends><value_type>CHAR</value_type><inventory_link>MODEL</inventory_link><applications><application><name>General</name></application></applications></item><item><name>Software version</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.5491.5.1.1.3.0</snmp_oid><key>rupsIdentUPSSoftwareVersion.0</key><delay>1d</delay><history>30d</history><trends>0</trends><value_type>CHAR</value_type><inventory_link>OS</inventory_link><applications><application><name>General</name></application></applications></item><item><name>Input Line Bads</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.33.1.3.1.0</snmp_oid><key>rupsInputLineBads.0</key><delay>60s</delay><history>30d</history><trends>60d</trends><applications><application><name>Input Lines</name></application></applications><triggers><trigger><expression>{change()}&gt;0</expression><name>Input Line Bads detected</name><priority>WARNING</priority><tags><tag><tag>POWER</tag></tag></tags></trigger></triggers></item><item><name>Output frequency</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.33.1.4.2.0</snmp_oid><key>rupsOutputFrequency.0</key><delay>60s</delay><history>30d</history><trends>60d</trends><value_type>FLOAT</value_type><units>Hz</units><applications><application><name>Output Lines</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>0.1</params></step></preprocessing><triggers><trigger><expression>{min(#2)}&gt;{$NOMINAL_FREQUENCY}+1 or {max(#2)}&lt;{$NOMINAL_FREQUENCY}-1</expression><name>Output frecuency is not {$NOMINAL_FREQUENCY}</name><priority>HIGH</priority><tags><tag><tag>POWER</tag></tag></tags></trigger></triggers></item><item><name>Output source</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.33.1.4.1.0</snmp_oid><key>rupsOutputSource.0</key><delay>60s</delay><history>30d</history><trends>60d</trends><applications><application><name>Output Lines</name></application></applications><valuemap><name>upsOutputSource</name></valuemap><triggers><trigger><expression>{last()}&lt;&gt;3 and {prev()}&lt;&gt;3</expression><name>Output source has changed!</name><status>DISABLED</status><priority>AVERAGE</priority><tags><tag><tag>POWER</tag></tag></tags></trigger></triggers></item><item><name>Seconds on Battery</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.33.1.2.2.0</snmp_oid><key>rupsSecondsOnBattery.0</key><delay>60s</delay><history>30d</history><trends>60d</trends><units>seconds</units><applications><application><name>UPS Status</name></application></applications></item><item><name>System Temperature</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.5491.10.1.10.1.0</snmp_oid><key>rupsSystemTemperature.0</key><delay>30s</delay><status>DISABLED</status><units>°C</units><applications><application><name>UPS Status</name></application></applications></item><item><name>Alarms Present</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.33.1.6.1.0</snmp_oid><key>upsAlarmsPresent.0</key><delay>60s</delay><history>30d</history><trends>60d</trends><units>alarms</units><applications><application><name>UPS Status</name></application></applications><triggers><trigger><expression>{last()}&gt;0</expression><name>Alarm present!</name><priority>HIGH</priority><tags><tag><tag>POWER</tag></tag></tags></trigger></triggers></item><item><name>Agent availability</name><type>INTERNAL</type><key>zabbix[host,snmp,available]</key><delay>30s</delay><history>7d</history><description>The agent always returns 1 for this item. It could be used in combination with nodata() for availability check.</description><applications><application><name>SNMP agent</name></application></applications><valuemap><name>Host availability</name></valuemap></item></items><discovery_rules><discovery_rule><name>Bypass Lines</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#BYPASSV},.1.3.6.1.4.1.5491.10.1.5.3.1.2]</snmp_oid><key>BypassLinesD</key><delay>30s</delay><item_prototypes><item_prototype><name>Line {#SNMPINDEX} Bypass Current</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.5491.10.1.5.3.1.3.{#SNMPINDEX}</snmp_oid><key>rupsBypassCurrent[{#SNMPINDEX}]</key><delay>30s</delay><value_type>FLOAT</value_type><units>A</units><applications><application><name>Bypass Lines</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>.1</params></step></preprocessing></item_prototype><item_prototype><name>Line {#SNMPINDEX} Bypass Power</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.5491.10.1.5.3.1.4.{#SNMPINDEX}</snmp_oid><key>rupsBypassPower[{#SNMPINDEX}]</key><delay>30s</delay><units>w</units><applications><application><name>Bypass Lines</name></application></applications></item_prototype><item_prototype><name>Line {#SNMPINDEX} Bypass Voltage</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.5491.10.1.5.3.1.2.{#SNMPINDEX}</snmp_oid><key>rupsBypassVoltage[{#SNMPINDEX}]</key><delay>30s</delay><units>V</units><applications><application><name>Bypass Lines</name></application></applications></item_prototype></item_prototypes></discovery_rule><discovery_rule><name>Input Lines</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#INPUTF},.1.3.6.1.4.1.5491.10.1.3.3.1.2]</snmp_oid><key>InputLinesD</key><delay>30s</delay><item_prototypes><item_prototype><name>Line {#SNMPINDEX} Input Current</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.5491.10.1.3.3.1.4.{#SNMPINDEX}</snmp_oid><key>rupsInputCurrent.[{#SNMPINDEX}]</key><delay>30s</delay><value_type>FLOAT</value_type><units>A</units><applications><application><name>Input Lines</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>.1</params></step></preprocessing></item_prototype><item_prototype><name>Line {#SNMPINDEX} Input Frequency</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.5491.10.1.3.3.1.2.{#SNMPINDEX}</snmp_oid><key>rupsInputFrequency.[{#SNMPINDEX}]</key><delay>30s</delay><value_type>FLOAT</value_type><units>Hz</units><applications><application><name>Input Lines</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>.1</params></step></preprocessing></item_prototype><item_prototype><name>Line {#SNMPINDEX} Input  True Power</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.5491.10.1.3.3.1.5.{#SNMPINDEX}</snmp_oid><key>rupsInputTruePower.[{#SNMPINDEX}]</key><delay>30s</delay><units>W</units><applications><application><name>Input Lines</name></application></applications></item_prototype><item_prototype><name>Line {#SNMPINDEX} Input  Voltage</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.5491.10.1.3.3.1.3.{#SNMPINDEX}</snmp_oid><key>rupsInputVolage.[{#SNMPINDEX}]</key><delay>30s</delay><units>V</units><applications><application><name>Input Lines</name></application></applications><trigger_prototypes><trigger_prototype><expression>{max(#2)}&lt;({$NOMINAL_VOLTAGE}*0.9)</expression><name>Bypass voltage on line {#SNMPINDEX} below {$NOMINAL_VOLTAGE}</name><priority>HIGH</priority></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes></discovery_rule><discovery_rule><name>Output Lines</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#OUTPUTV},.1.3.6.1.4.1.5491.10.1.4.4.1.2]</snmp_oid><key>OutputLinesD</key><delay>30s</delay><item_prototypes><item_prototype><name>Line {#SNMPINDEX} Output Current</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.5491.10.1.4.4.1.3.{#SNMPINDEX}</snmp_oid><key>rupsOutputCurrent.[{#SNMPINDEX}]</key><delay>30s</delay><value_type>FLOAT</value_type><units>A</units><applications><application><name>Output Lines</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>.1</params></step></preprocessing></item_prototype><item_prototype><name>Line {#SNMPINDEX} Output Peak Current</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.5491.10.1.4.4.1.6.{#SNMPINDEX}</snmp_oid><key>rupsOutputPeakCurrent.[{#SNMPINDEX}]</key><delay>30s</delay><value_type>FLOAT</value_type><units>A</units><applications><application><name>Output Lines</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>.1</params></step></preprocessing></item_prototype><item_prototype><name>Line {#SNMPINDEX} Output % Load</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.5491.10.1.4.4.1.5.{#SNMPINDEX}</snmp_oid><key>rupsOutputPercetLoad.[{#SNMPINDEX}]</key><delay>30s</delay><units>%</units><applications><application><name>Output Lines</name></application></applications></item_prototype><item_prototype><name>Line {#SNMPINDEX} Output Power</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.5491.10.1.4.4.1.4.{#SNMPINDEX}</snmp_oid><key>rupsOutputPower.[{#SNMPINDEX}]</key><delay>30s</delay><units>w</units><applications><application><name>Output Lines</name></application></applications></item_prototype><item_prototype><name>Line {#SNMPINDEX} Output Voltage</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.4.1.5491.10.1.4.4.1.2.{#SNMPINDEX}</snmp_oid><key>rupsOutputVoltage.[{#SNMPINDEX}]</key><delay>30s</delay><units>V</units><applications><application><name>Output Lines</name></application></applications></item_prototype></item_prototypes></discovery_rule></discovery_rules><macros><macro><macro>{$NOMINAL_FREQUENCY}</macro><value>50</value></macro><macro><macro>{$NOMINAL_VOLTAGE}</macro><value>230</value></macro></macros></template></templates><graphs><graph><name>Battery Status</name><graph_items><graph_item><drawtype>BOLD_LINE</drawtype><color>1A7C11</color><item><host>SNMP Riello NetMan204 UPS</host><key>rupsBatteryStatus.0</key></item></graph_item></graph_items></graph><graph><name>Battery Temperature</name><graph_items><graph_item><drawtype>BOLD_LINE</drawtype><color>1A7C11</color><item><host>SNMP Riello NetMan204 UPS</host><key>rupsBatteryTemperature.0</key></item></graph_item></graph_items></graph></graphs><value_maps><value_map><name>Host availability</name><mappings><mapping><value>0</value><newvalue>not available</newvalue></mapping><mapping><value>1</value><newvalue>available</newvalue></mapping><mapping><value>2</value><newvalue>unknown</newvalue></mapping></mappings></value_map><value_map><name>upsBatteryStatus</name><mappings><mapping><value>1</value><newvalue>Unknown</newvalue></mapping><mapping><value>2</value><newvalue>Normal</newvalue></mapping><mapping><value>3</value><newvalue>Low</newvalue></mapping><mapping><value>4</value><newvalue>Depleted</newvalue></mapping></mappings></value_map><value_map><name>upsOutputSource</name><mappings><mapping><value>1</value><newvalue>Other</newvalue></mapping><mapping><value>2</value><newvalue>None</newvalue></mapping><mapping><value>3</value><newvalue>Normal</newvalue></mapping><mapping><value>4</value><newvalue>Bypass</newvalue></mapping><mapping><value>5</value><newvalue>Battery</newvalue></mapping><mapping><value>6</value><newvalue>Booster</newvalue></mapping><mapping><value>7</value><newvalue>Reducer</newvalue></mapping></mappings></value_map></value_maps></zabbix_export>
