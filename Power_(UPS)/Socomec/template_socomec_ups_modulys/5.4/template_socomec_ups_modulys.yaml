zabbix_export:
  version: '5.4'
  date: '2021-10-22T10:58:41Z'
  groups:
    -
      uuid: 0e60ac85bc3941e2a1d66a048ff164da
      name: UPS
  templates:
    -
      uuid: 74f11e2f99ee4007baa58e0dad5e014d
      template: 'Socomec UPS'
      name: 'Socomec UPS'
      groups:
        -
          name: UPS
      items:
        -
          uuid: e0b1909480f64b0790b489dbca1f5ee7
          name: 'Alarms Present'
          type: SNMP_AGENT
          snmp_oid: iso.3.6.1.4.1.4555.1.1.1.1.6.1.0
          key: get.alarms.status
          tags:
            -
              tag: Application
              value: Alarms
          triggers:
            -
              uuid: 6f58775b8fbb4e1c9662b081a3468ac1
              expression: 'last(/Socomec UPS/get.alarms.status)>=1'
              name: 'An alarm has been detected on the UPS'
              priority: WARNING
              tags:
                -
                  tag: Application
                  value: Alarms
        -
          uuid: 35c129acc90a469797d11c41d52d900c
          name: 'Bypass Frequency'
          type: SNMP_AGENT
          snmp_oid: iso.3.6.1.4.1.4555.1.1.1.1.5.1.0
          key: get.bypass.frequency
          delay: 30m
          value_type: FLOAT
          units: Hz
          tags:
            -
              tag: Application
              value: Bypass
        -
          uuid: 533606e081f74f718c2bfe80d1b3539f
          name: 'Bypass Number of Lines'
          type: SNMP_AGENT
          snmp_oid: iso.3.6.1.4.1.4555.1.1.1.1.5.2.0
          key: get.bypass.nbrlines
          delay: 30m
          value_type: FLOAT
          tags:
            -
              tag: Application
              value: Bypass
        -
          uuid: 5cb8c099e65742ce83fc63fa4ab26606
          name: Model
          type: SNMP_AGENT
          snmp_oid: iso.3.6.1.4.1.4555.1.1.1.1.1.1.0
          key: get.ident.model
          delay: 1h
          trends: '0'
          value_type: TEXT
          tags:
            -
              tag: Application
              value: Information
        -
          uuid: 65c45e01fe9848508f3f6504c470dcaa
          name: 'Serial Number'
          type: SNMP_AGENT
          snmp_oid: iso.3.6.1.4.1.4555.1.1.1.1.1.4.0
          key: get.ident.serial
          delay: 1d
          trends: '0'
          value_type: TEXT
          tags:
            -
              tag: Application
              value: Information
        -
          uuid: f3f1ebb8705b447b83bad665a266b1e3
          name: 'Output Frequency'
          type: SNMP_AGENT
          snmp_oid: iso.3.6.1.4.1.4555.1.1.1.1.4.2.0
          key: get.output.frequency
          value_type: FLOAT
          units: Hz
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.1'
          tags:
            -
              tag: Application
              value: Output
        -
          uuid: 1939d6578a3341c991acf095c17ba1ee
          name: 'Output Number Lines'
          type: SNMP_AGENT
          snmp_oid: iso.3.6.1.4.1.4555.1.1.1.1.4.3.0
          key: 'get.output.lines[]'
          delay: 30m
          value_type: FLOAT
          tags:
            -
              tag: Application
              value: Output
        -
          uuid: 286dbc2625f3423a9a834c2677856083
          name: 'UPS Alive'
          type: SIMPLE
          key: 'icmpping[]'
          delay: 30s
          history: 2d
          tags:
            -
              tag: Application
              value: Status
        -
          uuid: 8fc436e025a8490fbda898c093ceb7fd
          name: 'Battery Temperature'
          type: SNMP_AGENT
          snmp_oid: iso.3.6.1.4.1.4555.1.1.1.1.2.6.0
          key: upsBatteryTemperature
          delay: 30m
          value_type: FLOAT
          units: '° C'
          tags:
            -
              tag: Application
              value: Status
        -
          uuid: ba6ce027a217468f9513ae42aac5f328
          name: 'Estimated Charge Remaining'
          type: SNMP_AGENT
          snmp_oid: iso.3.6.1.4.1.4555.1.1.1.1.2.4.0
          key: upsEstimatedChargeRemaining
          delay: 30m
          value_type: FLOAT
          units: '%'
          tags:
            -
              tag: Application
              value: Status
        -
          uuid: a5f26b9b6b4148df9a31779c2388b138
          name: 'Estimated  Minutes Remaining'
          type: SNMP_AGENT
          snmp_oid: iso.3.6.1.4.1.4555.1.1.1.1.2.3.0
          key: upsEstimatedMinutesRemaining
          delay: 30m
          value_type: FLOAT
          units: min
          tags:
            -
              tag: Application
              value: Status
        -
          uuid: b62432d3812741978becced94edaef9f
          name: 'Input Frequency'
          type: SNMP_AGENT
          snmp_oid: iso.3.6.1.4.1.4555.1.1.1.1.3.2.0
          key: upsInputFrequency
          delay: 30m
          value_type: FLOAT
          units: Hz
          description: 'Hz * 10'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.1'
          tags:
            -
              tag: Application
              value: Input
        -
          uuid: 125acde928a74a53a71c792f6bd80d29
          name: 'Input Num Lines'
          type: SNMP_AGENT
          snmp_oid: iso.3.6.1.4.1.4555.1.1.1.1.3.1.0
          key: upsInputNumLines
          delay: 30m
          value_type: FLOAT
          tags:
            -
              tag: Application
              value: Input
        -
          uuid: 1ecb26928e924690bec4205ddd00ce85
          name: 'Output Source Status'
          type: SNMP_AGENT
          snmp_oid: iso.3.6.1.4.1.4555.1.1.1.1.4.1.0
          key: upsOutputSource
          delay: 30m
          value_type: FLOAT
          valuemap:
            name: 'Output Source Status'
          tags:
            -
              tag: Application
              value: Output
        -
          uuid: 82bc7b21e7a6401292672cc2d9e01422
          name: 'Seconds on Battery'
          type: SNMP_AGENT
          snmp_oid: iso.3.6.1.4.1.4555.1.1.1.1.2.2.0
          key: upsSecondsOnBattery
          value_type: FLOAT
          units: s
          tags:
            -
              tag: Application
              value: Status
      discovery_rules:
        -
          uuid: f65f2cde94614030b924d00d87b91663
          name: Alarms
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#ALARM},1.3.6.1.4.1.4555.1.1.1.1.6.1]'
          key: alarms.discovery
          filter:
            conditions:
              -
                macro: '{#ALARM}'
                value: ^0
                operator: NOT_MATCHES_REGEX
                formulaid: A
          item_prototypes:
            -
              uuid: d38d9cc7a8e447ad8b508e32fc7a199f
              name: 'Alarms Description'
              type: SNMP_AGENT
              snmp_oid: 1.3.6.1.4.1.4555.1.1.1.1.6.2.1.2
              key: 'get.alarms.description[{#ALARM}]'
              trends: '0'
              value_type: TEXT
              tags:
                -
                  tag: Application
                  value: Alarms
            -
              uuid: fe7157f655594ffeb63eb90a0fccf31a
              name: 'Alarms ID'
              type: SNMP_AGENT
              snmp_oid: 1.3.6.1.4.1.4555.1.1.1.1.6.2.1.1
              key: 'get.alarms.id[{#ALARM}]'
              tags:
                -
                  tag: Application
                  value: Alarms
        -
          uuid: 81af0d2ebdac46b08773781a3bd882f8
          name: Bypass
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#INDEX},1.3.6.1.4.1.4555.1.1.1.1.5.3.1.1]'
          key: bypass.discovery
          item_prototypes:
            -
              uuid: 21f24c1338de4051bd60892d6714141b
              name: 'Bypass {#INDEX}: A'
              type: SNMP_AGENT
              snmp_oid: 'iso.3.6.1.4.1.4555.1.1.1.1.5.3.1.3.{#INDEX}'
              key: 'get.bypass.amps[{#INDEX}]'
              delay: 30m
              value_type: FLOAT
              units: V
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.1'
              tags:
                -
                  tag: Application
                  value: Bypass
            -
              uuid: b1dacfd6d55a4b4c8e675e10100903a2
              name: 'Bypass {#INDEX}: Voltage'
              type: SNMP_AGENT
              snmp_oid: 'iso.3.6.1.4.1.4555.1.1.1.1.5.3.1.2.{#INDEX}'
              key: 'get.bypass.voltage[{#INDEX}]'
              delay: 30m
              value_type: FLOAT
              units: V
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.1'
              tags:
                -
                  tag: Application
                  value: Bypass
          graph_prototypes:
            -
              uuid: bb2ea6522b704da09ebb2107de0ea5e5
              name: 'Bypass {#INDEX}'
              graph_items:
                -
                  sortorder: '1'
                  color: 009FDB
                  item:
                    host: 'Socomec UPS'
                    key: 'get.bypass.voltage[{#INDEX}]'
        -
          uuid: e71b5cc7aee64664b5981d0f849b4705
          name: Input
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#INDEX},1.3.6.1.4.1.4555.1.1.1.1.3.3.1.1]'
          key: input.discovery
          item_prototypes:
            -
              uuid: e4bf91c194a44aef90fbffe2967a443c
              name: 'Input {#INDEX}: A'
              type: SNMP_AGENT
              snmp_oid: 'iso.3.6.1.4.1.4555.1.1.1.1.3.3.1.3.{#INDEX}'
              key: 'get.input.current[{#INDEX}]'
              delay: 30m
              value_type: FLOAT
              units: A
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.1'
              tags:
                -
                  tag: Application
                  value: Input
            -
              uuid: 302018507c2b49d780817790295d6987
              name: 'Input {#INDEX}: Votage Max'
              type: SNMP_AGENT
              snmp_oid: 'iso.3.6.1.4.1.4555.1.1.1.1.3.3.1.4.{#INDEX}'
              key: 'get.input.voltage.max[{#INDEX}]'
              delay: 30m
              value_type: FLOAT
              units: V
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.1'
              tags:
                -
                  tag: Application
                  value: Input
            -
              uuid: cd50e5de8bf94489b5ffbf8f25812040
              name: 'Input {#INDEX}: Votage Min'
              type: SNMP_AGENT
              snmp_oid: 'iso.3.6.1.4.1.4555.1.1.1.1.3.3.1.5.{#INDEX}'
              key: 'get.input.voltage.min[{#INDEX}]'
              delay: 30m
              value_type: FLOAT
              units: V
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.1'
              tags:
                -
                  tag: Application
                  value: Input
            -
              uuid: f7f2fde54c744bdca38d8062a803016b
              name: 'Input {#INDEX}: Voltage'
              type: SNMP_AGENT
              snmp_oid: 'iso.3.6.1.4.1.4555.1.1.1.1.3.3.1.2.{#INDEX}'
              key: 'get.input.voltage[{#INDEX}]'
              delay: 30m
              value_type: FLOAT
              units: V
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.1'
              tags:
                -
                  tag: Application
                  value: Input
              trigger_prototypes:
                -
                  uuid: 8bc7ff3e59a74a4e97f60039b4f06d5f
                  expression: 'last(/Socomec UPS/get.input.voltage[{#INDEX}])=0'
                  name: 'No power has been detected on input n°{#INDEX}'
                  priority: AVERAGE
                  manual_close: 'YES'
          graph_prototypes:
            -
              uuid: b1038eb9f9244f649c71355116f6f9ed
              name: 'Input {#INDEX} Voltage'
              graph_items:
                -
                  sortorder: '1'
                  color: E30613
                  item:
                    host: 'Socomec UPS'
                    key: 'get.input.voltage.max[{#INDEX}]'
                -
                  sortorder: '2'
                  color: 009FDB
                  item:
                    host: 'Socomec UPS'
                    key: 'get.input.voltage[{#INDEX}]'
                -
                  sortorder: '3'
                  color: 12326E
                  item:
                    host: 'Socomec UPS'
                    key: 'get.input.voltage.min[{#INDEX}]'
        -
          uuid: ac59cfc86ca1431ca42c0ac3590501af
          name: Output
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#INDEX},1.3.6.1.4.1.4555.1.1.1.1.4.4.1.1]'
          key: output.discovery
          item_prototypes:
            -
              uuid: 25ae8d6d787d4a23a382ad562690d3d0
              name: 'Output {#INDEX}: A'
              type: SNMP_AGENT
              snmp_oid: 'iso.3.6.1.4.1.4555.1.1.1.1.4.4.1.3.{#INDEX}'
              key: 'get.output.current[{#INDEX}]'
              delay: 30m
              value_type: FLOAT
              units: A
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.1'
              tags:
                -
                  tag: Application
                  value: Output
            -
              uuid: e14553932531422d93455f4609863829
              name: 'Output {#INDEX}: kVA'
              type: SNMP_AGENT
              snmp_oid: 'iso.3.6.1.4.1.4555.1.1.1.1.4.4.1.5.{#INDEX}'
              key: 'get.output.kva[{#INDEX}]'
              delay: 30m
              value_type: FLOAT
              tags:
                -
                  tag: Application
                  value: Output
            -
              uuid: 744aa139bb5144e3b0c4103697fad3bb
              name: 'Output {#INDEX}: Percentage Load'
              type: SNMP_AGENT
              snmp_oid: 'iso.3.6.1.4.1.4555.1.1.1.1.4.4.1.4.{#INDEX}'
              key: 'get.output.percload[{#INDEX}]'
              delay: 30m
              value_type: FLOAT
              units: '%'
              tags:
                -
                  tag: Application
                  value: Output
              trigger_prototypes:
                -
                  uuid: c374be57544a4b7990ddfa069dcb273a
                  expression: 'last(/Socomec UPS/get.output.percload[{#INDEX}])>=85'
                  name: 'Output {#INDEX} is overloaded'
                  priority: WARNING
            -
              uuid: ca6cfb70f2d54beda8df2650d7c40c67
              name: 'Output {#INDEX}: Voltage'
              type: SNMP_AGENT
              snmp_oid: 'iso.3.6.1.4.1.4555.1.1.1.1.4.4.1.2.{#INDEX}'
              key: 'get.output.voltage[{#INDEX}]'
              value_type: FLOAT
              units: V
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.1'
              tags:
                -
                  tag: Application
                  value: Output
          graph_prototypes:
            -
              uuid: 0c96494e9ab3403cb674dfac37dcd57f
              name: 'Output {#INDEX}'
              graph_items:
                -
                  sortorder: '1'
                  color: E30613
                  item:
                    host: 'Socomec UPS'
                    key: 'get.output.voltage[{#INDEX}]'
                -
                  sortorder: '2'
                  color: 009FDB
                  yaxisside: RIGHT
                  item:
                    host: 'Socomec UPS'
                    key: 'get.output.percload[{#INDEX}]'
      macros:
        -
          macro: '{$SNMP_COMMUNITY}'
          value: public
      dashboards:
        -
          uuid: b2cf01b7f6de4da1af05f272ada3fc33
          name: UPS
          pages:
            -
              widgets:
                -
                  type: GRAPH_PROTOTYPE
                  width: '19'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: columns
                      value: '3'
                    -
                      type: GRAPH_PROTOTYPE
                      name: graphid
                      value:
                        name: 'Input {#INDEX} Voltage'
                        host: 'Socomec UPS'
                -
                  type: GRAPH_PROTOTYPE
                  'y': '5'
                  width: '19'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: columns
                      value: '3'
                    -
                      type: GRAPH_PROTOTYPE
                      name: graphid
                      value:
                        name: 'Output {#INDEX}'
                        host: 'Socomec UPS'
                -
                  type: GRAPH_PROTOTYPE
                  'y': '10'
                  width: '19'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: columns
                      value: '3'
                    -
                      type: GRAPH_PROTOTYPE
                      name: graphid
                      value:
                        name: 'Bypass {#INDEX}'
                        host: 'Socomec UPS'
                -
                  type: CLOCK
                  x: '19'
                  width: '5'
                  height: '5'
                -
                  type: PLAIN_TEXT
                  x: '19'
                  'y': '5'
                  width: '5'
                  fields:
                    -
                      type: INTEGER
                      name: show_as_html
                      value: '1'
                    -
                      type: INTEGER
                      name: show_lines
                      value: '1'
                    -
                      type: ITEM
                      name: itemids
                      value:
                        key: upsOutputSource
                        host: 'Socomec UPS'
      valuemaps:
        -
          uuid: 1da16361c2ea445999a52adc1fe63dd1
          name: 'Output Source Status'
          mappings:
            -
              value: '1'
              newvalue: Unknown
            -
              value: '2'
              newvalue: onMaintenanceBypass
            -
              value: '3'
              newvalue: onInverter
            -
              value: '4'
              newvalue: normalMode
            -
              value: '5'
              newvalue: ecoMode
            -
              value: '6'
              newvalue: onBypass
            -
              value: '7'
              newvalue: standby
            -
              value: '8'
              newvalue: upsOff
