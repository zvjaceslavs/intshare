<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>5.0</version><date>2021-11-21T21:31:41Z</date><groups><group><name>Dynavideo</name></group><group><name>UPS</name></group></groups><templates><template><template>smart-ups</template><name>Nobreak-APC-SMART-UPS-3000BI-BR</name><description>## Description

## In English: Template for Zabbix 3.4 and above. Collects and displays information about voltage, current, power, status, temperature, and battery usage. UPS MIB: http://www.oidview.com/mibs/0/UPS-MIB.html Software SGM Auto-Shutdown V4.1: http://www.apc.com/shop/br/pt/products/Software-SGM-Auto-Shutdown-V4-1-para-Linux-s%C3%B3-Brasil-/P-SFSGM41L?isCurrentSite=true --------- ## Em Português: Template para Zabbix 3.4 ou superior. Coleta e exibe informações da tensão, corrente, potência, status, temperatura e uso da bateria. UPS MIB: http://www.oidview.com/mibs/0/UPS-MIB.html Software SGM Auto-Shutdown V4.1: http://www.apc.com/shop/br/pt/products/Software-SGM-Auto-Shutdown-V4-1-para-Linux-s%C3%B3-Brasil-/P-SFSGM41L?isCurrentSite=true --------- ## Developed by: * Victor Igor (victor.igor.redes@gmail.com), sysadmin; * Aécio Pires (http://aeciopires.com), sysadmin. Shared by **Dynavideo** (http://www.dynavideo.com.br)

## Overview

**## In English:**


Template for Zabbix 3.4 and above.


Collects and displays information about voltage, current, power, status, temperature, and battery usage.


UPS MIB: &lt;http://www.oidview.com/mibs/0/UPS-MIB.html&gt;


Software SGM Auto-Shutdown V4.1:


&lt;http://www.apc.com/shop/br/pt/products/Software-SGM-Auto-Shutdown-V4-1-para-Linux-s%C3%B3-Brasil-/P-SFSGM41L?isCurrentSite=true&gt;


Dashboard Grafana: &lt;https://grafana.com/dashboards/3926&gt;


---------


**## Em Português:**


Template para Zabbix 3.4 ou superior.


Coleta e exibe informações da tensão, corrente, potência, status, temperatura e uso da bateria.


UPS MIB: &lt;http://www.oidview.com/mibs/0/UPS-MIB.html&gt;


Software SGM Auto-Shutdown V4.1:


&lt;http://www.apc.com/shop/br/pt/products/Software-SGM-Auto-Shutdown-V4-1-para-Linux-s%C3%B3-Brasil-/P-SFSGM41L?isCurrentSite=true&gt;


Dashboard Grafana: &lt;https://grafana.com/dashboards/3926&gt;


---------


**## Developed by:**


* Victor Igor (victor.igor.redes@gmail.com), sysadmin;


* Aécio Pires (&lt;http://aeciopires.com&gt;), sysadmin.


Shared by **Dynavideo** (&lt;http://www.dynavideo.com.br&gt;)



## Author

Aécio Pires e Victor Igor

</description><groups><group><name>Dynavideo</name></group><group><name>UPS</name></group></groups><applications><application><name>Battery</name></application><application><name>Electric Current</name></application><application><name>Frequency</name></application><application><name>Power</name></application><application><name>UPS Alarm</name></application><application><name>Voltage</name></application></applications><items><item><name>Real Data at BatteryCurrent</name><type>CALCULATED</type><key>RealDataBatteryCurrent</key><delay>10s</delay><units>A</units><params>0.1*last(&quot;upsBatteryCurrent&quot;)</params><applications><application><name>Battery</name></application></applications></item><item><name>Real Data at BatteryVoltage</name><type>CALCULATED</type><key>RealDataBatteryVoltage</key><delay>10s</delay><units>V</units><params>0.1*last(&quot;upsBatteryVoltage&quot;)</params><applications><application><name>Battery</name></application></applications></item><item><name>Real Data at InputCurrent</name><type>CALCULATED</type><key>RealDataInputCurrent</key><delay>10s</delay><units>A</units><params>0.1*last(&quot;upsInputCurrent&quot;)</params><applications><application><name>Electric Current</name></application></applications></item><item><name>Real Data at InputFrequency</name><type>CALCULATED</type><key>RealDataInputFrequency</key><delay>10s</delay><units>Hz</units><params>0.1*last(&quot;upsInputFrequency&quot;)</params><applications><application><name>Frequency</name></application></applications></item><item><name>Real Data at OutputFrequency</name><type>CALCULATED</type><key>RealDataOutputFrequency</key><delay>10s</delay><units>Hz</units><params>0.1*last(&quot;upsOutputFrequency&quot;)</params><applications><application><name>Frequency</name></application></applications></item><item><name>upsBatteryCurrent</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.2.1.33.1.2.6.0</snmp_oid><key>upsBatteryCurrent</key><delay>10s</delay><units>A</units><applications><application><name>Battery</name></application></applications></item><item><name>Battery Status</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.2.1.33.1.2.1.0</snmp_oid><key>upsBatteryStatus</key><delay>60s</delay><applications><application><name>Battery</name></application></applications><triggers><trigger><expression>{last()}=4</expression><name>Battery Depleted at {HOSTNAME}</name><priority>HIGH</priority></trigger></triggers></item><item><name>upsBatteryTemperature</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.2.1.33.1.2.7.0</snmp_oid><key>upsBatteryTemperature</key><delay>10s</delay><units>ºC</units><applications><application><name>Battery</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>0.1</params></step></preprocessing><triggers><trigger><expression>{last()}&gt;90</expression><name>High Battery Temperature at {HOSTNAME}</name><priority>WARNING</priority></trigger></triggers></item><item><name>upsBatteryVoltage</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.2.1.33.1.2.5.0</snmp_oid><key>upsBatteryVoltage</key><delay>10s</delay><units>V</units><applications><application><name>Battery</name></application></applications></item><item><name>upsConfigInputVoltage</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.2.1.33.1.9.1</snmp_oid><key>upsConfigInputVoltage</key><delay>30s</delay><units>V</units><applications><application><name>Voltage</name></application></applications></item><item><name>upsEstimatedMinutesRemaining</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.2.1.33.1.2.3.0</snmp_oid><key>upsEstimatedMinutesRemaining</key><delay>10s</delay><units>Min</units><applications><application><name>Battery</name></application></applications><triggers><trigger><expression>{last()}&lt;=3</expression><name>Low Battery at {HOSTNAME}</name><priority>HIGH</priority></trigger></triggers></item><item><name>upsInputCurrent</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.2.1.33.1.3.3.1.4.1</snmp_oid><key>upsInputCurrent</key><delay>10s</delay><units>A</units><applications><application><name>Electric Current</name></application></applications></item><item><name>upsInputFrequency</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.2.1.33.1.3.3.1.2.1</snmp_oid><key>upsInputFrequency</key><delay>10s</delay><units>Hz</units><applications><application><name>Frequency</name></application></applications></item><item><name>upsInputLineBads</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.2.1.33.1.3.1.0</snmp_oid><key>upsInputLineBads</key><delay>30s</delay><applications><application><name>UPS Alarm</name></application></applications></item><item><name>upsInputVoltage</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.2.1.33.1.3.3.1.3.1</snmp_oid><key>upsInputVoltage</key><delay>10s</delay><units>V</units><applications><application><name>Voltage</name></application></applications><triggers><trigger><expression>{last()}=0</expression><name>Power Input Failure at {HOSTNAME}</name><priority>DISASTER</priority></trigger></triggers></item><item><name>upsOutputCurrent</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.2.1.33.1.4.4.1.3.1</snmp_oid><key>upsOutputCurrent</key><delay>10s</delay><units>A</units><applications><application><name>Electric Current</name></application></applications></item><item><name>upsOutputFrequency</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.2.1.33.1.4.2.0</snmp_oid><key>upsOutputFrequency</key><delay>10s</delay><units>Hz</units><applications><application><name>Frequency</name></application></applications></item><item><name>upsOutputPercentLoad</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.2.1.33.1.4.4.1.5.1</snmp_oid><key>upsOutputPercentLoad</key><delay>10s</delay><units>%</units><applications><application><name>Power</name></application></applications><triggers><trigger><expression>{last()}&gt;95</expression><name>Power Overload at {HOSTNAME}</name><priority>HIGH</priority></trigger></triggers></item><item><name>upsOutputPower</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.2.1.33.1.4.4.1.4.1</snmp_oid><key>upsOutputPower</key><delay>10s</delay><units>W</units><applications><application><name>Power</name></application></applications></item><item><name>upsOutputVoltage</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.2.1.33.1.4.4.1.2.1</snmp_oid><key>upsOutputVoltage</key><delay>10s</delay><units>V</units><applications><application><name>Voltage</name></application></applications></item></items><macros><macro><macro>{$SNMP_COMMUNITY}</macro><value>public</value></macro><macro><macro>{$SNMP_PORT}</macro><value>161</value></macro></macros><screens><screen><name>Battery Graphs</name><hsize>2</hsize><vsize>4</vsize><screen_items><screen_item><resourcetype>0</resourcetype><style>0</style><resource><name>Battery Temperature</name><host>smart-ups</host></resource><width>600</width><height>200</height><x>0</x><y>0</y><colspan>1</colspan><rowspan>1</rowspan><elements>0</elements><valign>0</valign><halign>0</halign><dynamic>0</dynamic><sort_triggers>0</sort_triggers><url/><application/><max_columns>3</max_columns></screen_item><screen_item><resourcetype>0</resourcetype><style>0</style><resource><name>Remaining Battery Time</name><host>smart-ups</host></resource><width>600</width><height>200</height><x>1</x><y>0</y><colspan>1</colspan><rowspan>1</rowspan><elements>0</elements><valign>0</valign><halign>0</halign><dynamic>0</dynamic><sort_triggers>0</sort_triggers><url/><application/><max_columns>3</max_columns></screen_item><screen_item><resourcetype>0</resourcetype><style>0</style><resource><name>Voltage x Battery Current</name><host>smart-ups</host></resource><width>600</width><height>200</height><x>0</x><y>1</y><colspan>1</colspan><rowspan>1</rowspan><elements>0</elements><valign>0</valign><halign>0</halign><dynamic>0</dynamic><sort_triggers>0</sort_triggers><url/><application/><max_columns>3</max_columns></screen_item></screen_items></screen><screen><name>UPS Graphs</name><hsize>2</hsize><vsize>5</vsize><screen_items><screen_item><resourcetype>0</resourcetype><style>0</style><resource><name>Power Output and Percent Load</name><host>smart-ups</host></resource><width>600</width><height>200</height><x>0</x><y>0</y><colspan>1</colspan><rowspan>1</rowspan><elements>0</elements><valign>0</valign><halign>0</halign><dynamic>0</dynamic><sort_triggers>0</sort_triggers><url/><application/><max_columns>3</max_columns></screen_item><screen_item><resourcetype>0</resourcetype><style>0</style><resource><name>Voltage x Input Current</name><host>smart-ups</host></resource><width>600</width><height>200</height><x>1</x><y>0</y><colspan>1</colspan><rowspan>1</rowspan><elements>0</elements><valign>0</valign><halign>0</halign><dynamic>0</dynamic><sort_triggers>0</sort_triggers><url/><application/><max_columns>3</max_columns></screen_item><screen_item><resourcetype>0</resourcetype><style>0</style><resource><name>Frequency: Input x Output</name><host>smart-ups</host></resource><width>600</width><height>200</height><x>0</x><y>1</y><colspan>1</colspan><rowspan>1</rowspan><elements>0</elements><valign>0</valign><halign>0</halign><dynamic>0</dynamic><sort_triggers>0</sort_triggers><url/><application/><max_columns>3</max_columns></screen_item></screen_items></screen></screens></template></templates><triggers><trigger><expression>{smart-ups:upsConfigInputVoltage.last()}=110 and {smart-ups:upsInputVoltage.last()}&gt;127</expression><name>High Voltage Input &gt; 127 V at {HOSTNAME}</name><priority>HIGH</priority><description>For 110V input voltage</description></trigger><trigger><expression>{smart-ups:upsConfigInputVoltage.last()}=220 and {smart-ups:upsInputVoltage.last()}&gt;245</expression><name>High Voltage Input &gt; 245 V at {HOSTNAME}</name><priority>HIGH</priority><description>For 220V input voltage</description></trigger><trigger><expression>{smart-ups:upsConfigInputVoltage.last()}=110 and {smart-ups:upsInputVoltage.last()}&lt;100</expression><name>Low Voltage Input &lt; 100 V at {HOSTNAME}</name><priority>HIGH</priority><description>For 110V input voltage</description></trigger><trigger><expression>{smart-ups:upsConfigInputVoltage.last()}=220 and {smart-ups:upsInputVoltage.last()}&lt;190</expression><name>Low Voltage Input &lt; 190 V at {HOSTNAME}</name><priority>HIGH</priority><description>For 220V input voltage</description></trigger></triggers><graphs><graph><name>Battery Temperature</name><graph_items><graph_item><color>EEEE00</color><calc_fnc>ALL</calc_fnc><item><host>smart-ups</host><key>upsBatteryTemperature</key></item></graph_item></graph_items></graph><graph><name>Frequency: Input x Output</name><yaxismin>50</yaxismin><ymin_type_1>FIXED</ymin_type_1><graph_items><graph_item><drawtype>BOLD_LINE</drawtype><color>EEEE00</color><calc_fnc>ALL</calc_fnc><item><host>smart-ups</host><key>RealDataInputFrequency</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>BOLD_LINE</drawtype><color>0000EE</color><calc_fnc>ALL</calc_fnc><item><host>smart-ups</host><key>RealDataOutputFrequency</key></item></graph_item></graph_items></graph><graph><name>Power Output and Percent Load</name><graph_items><graph_item><drawtype>BOLD_LINE</drawtype><color>DD00DD</color><calc_fnc>ALL</calc_fnc><item><host>smart-ups</host><key>upsOutputPower</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>BOLD_LINE</drawtype><color>FFFF33</color><yaxisside>RIGHT</yaxisside><calc_fnc>ALL</calc_fnc><item><host>smart-ups</host><key>upsOutputPercentLoad</key></item></graph_item></graph_items></graph><graph><name>Remaining Battery Time</name><graph_items><graph_item><color>33FF33</color><calc_fnc>ALL</calc_fnc><item><host>smart-ups</host><key>upsEstimatedMinutesRemaining</key></item></graph_item></graph_items></graph><graph><name>Voltage x Battery Current</name><graph_items><graph_item><drawtype>BOLD_LINE</drawtype><color>0000EE</color><calc_fnc>ALL</calc_fnc><item><host>smart-ups</host><key>RealDataBatteryVoltage</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>BOLD_LINE</drawtype><color>EE0000</color><yaxisside>RIGHT</yaxisside><calc_fnc>ALL</calc_fnc><item><host>smart-ups</host><key>RealDataBatteryCurrent</key></item></graph_item></graph_items></graph><graph><name>Voltage x Input Current</name><graph_items><graph_item><drawtype>BOLD_LINE</drawtype><color>0000EE</color><calc_fnc>ALL</calc_fnc><item><host>smart-ups</host><key>upsInputVoltage</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>BOLD_LINE</drawtype><color>EE0000</color><yaxisside>RIGHT</yaxisside><calc_fnc>ALL</calc_fnc><item><host>smart-ups</host><key>RealDataInputCurrent</key></item></graph_item></graph_items></graph></graphs></zabbix_export>
