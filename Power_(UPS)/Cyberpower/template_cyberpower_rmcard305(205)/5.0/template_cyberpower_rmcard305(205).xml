<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>5.0</version><date>2021-11-21T21:50:47Z</date><groups><group><name>Templates/Modules</name></group></groups><templates><template><template>Module Cyberpower RMCARD305</template><name>Module Cyberpower RMCARD305</name><description>## Description

SNMPv2 Template for Cyberpower's remote management card ver.305 (205) used in OR and PR-series UPSes. Tested on firmware version 1.3.0. Created by Taurus (https://github.com/RusTaurus) MIBs used: CPS-MIB (v2.9) https://www.cyberpowersystems.com/products/software/mib-files/

## Overview

This is Zabbix SNMPv2 Template for Cyberpower's remote management card ver.305(205) used in OR- and PR-series UPSes.


Tested on Zabbix 4.0 and 4.4, PR3000ELCDRT2U, OR1500ELCDRM1U with RMCARD305 (firmware version 1.3.0).


[Here](https://github.com/RusTaurus/cyberpower-rmcard305) you can find latest firmware and MIB versions of RMCARD305.




---


Enhancements in v2 version of this template:


* New application with UPS configuration settings
* Add discovery of battery Age Recommendation parameter
* Display RMCARD serial number




---


 


MIBs used: CPS-MIB (v2.9)


 



## Author

Sergey Romanov

</description><groups><group><name>Templates/Modules</name></group></groups><applications><application><name>Battery</name></application><application><name>Information</name></application><application><name>Input</name></application><application><name>Output</name></application><application><name>RMCARD</name></application><application><name>UPS Configuration Settings</name></application></applications><items><item><name>Capacity</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.2.2.1.0</snmp_oid><key>battery.Capacity</key><delay>30s</delay><history>30d</history><units>%</units><description>CPS-MIB::upsAdvanceBatteryCapacity - the battery capacity expressed in percentage</description><applications><application><name>Battery</name></application></applications><triggers><trigger><expression>{last()}&lt;=20</expression><name>Battery capacity is low</name><priority>HIGH</priority><dependencies><dependency><name>UPS on battery</name><expression>{Module Cyberpower RMCARD305:output.Status.last()}=3</expression></dependency></dependencies></trigger></triggers></item><item><name>Remaining Runtime</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.2.2.4.0</snmp_oid><key>battery.RemainingRuntime</key><delay>30s</delay><history>30d</history><value_type>FLOAT</value_type><units>min</units><description>CPS-MIB::upsAdvanceBatteryRunTimeRemaining - the UPS battery remaining run time</description><applications><application><name>Battery</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>0.00016666666666</params></step></preprocessing></item><item><name>Replace Indicator</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.2.2.5.0</snmp_oid><key>battery.ReplaceIndicator</key><delay>1h</delay><history>30d</history><trends>0</trends><description>CPS-MIB::upsAdvanceBatteryReplaceIndicator - this value indicates if UPS batteries need to be replaced</description><applications><application><name>Battery</name></application></applications><valuemap><name>CyberPower UPS Battery Replacement Indicator</name></valuemap></item><item><name>Status</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.2.1.1.0</snmp_oid><key>battery.Status</key><delay>15s</delay><history>30d</history><description>CPS-MIB::upsBaseBatteryStatus - the UPS battery status. A batteryLow(3) value means the battery will be exhausted soon under the current load. The amount of low battery run time can be configured by the upsAdvanceConfigLowBatteryRunTime.</description><applications><application><name>Battery</name></application></applications><valuemap><name>CyberPower UPS Battery Status</name></valuemap></item><item><name>Time on Battery</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.2.1.2.0</snmp_oid><key>battery.TimeOnBattery</key><delay>30s</delay><history>30d</history><value_type>FLOAT</value_type><units>min</units><description>CPS-MIB::upsBaseBatteryTimeOnBattery - the UPS wasted battery time since the UPS has transfered to backup mode</description><applications><application><name>Battery</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>0.00016666666666</params></step></preprocessing></item><item><name>Voltage Rating</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.2.2.8.0</snmp_oid><key>battery.VoltageRating</key><delay>1h</delay><history>30d</history><trends>0</trends><units>V</units><description>CPS-MIB::upsAdvanceBatteryVoltageRating - the DC voltage rating of the battery set</description><applications><application><name>Battery</name></application></applications></item><item><name>System - Audible Alarm</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.5.2.4.0</snmp_oid><key>config.audibleAlarm</key><delay>30m</delay><history>30d</history><trends>0</trends><description>CPS-MIB::upsAdvanceConfigAlarm - this value is set to handle audible alarms when power failure.</description><applications><application><name>UPS Configuration Settings</name></application></applications><valuemap><name>CyberPower UPS Config - Audible Alarm</name></valuemap></item><item><name>Battery Low Threshold</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.5.2.18.0</snmp_oid><key>config.batteryLow</key><delay>30m</delay><history>30d</history><trends>0</trends><units>%</units><description>CPS-MIB::upsAdvanceConfigLowBatteryThreshold - when the UPS supplies battery power and the remaining capacity is lower than this threshold, the UPS will sound an alarm. The value expressed in percentage.</description><applications><application><name>UPS Configuration Settings</name></application></applications></item><item><name>System - Over Discharge Protection</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.5.2.16.0</snmp_oid><key>config.dischargeProtection</key><delay>30m</delay><history>30d</history><trends>0</trends><description>CPS-MIB::upsAdvanceConfigDeepDischargeProtection - when the UPS is on Battery Mode with 0% load and the status remains for the time configured, the RMCARD will enforce the UPS to Sleep Mode and the output will be turned off. The possible values are 0, 20, 40, and 60 minutes. If a value other than a possible value is set, it will not be accepted.</description><applications><application><name>UPS Configuration Settings</name></application></applications><valuemap><name>CyberPower UPS Config - Over Discharge Protection</name></valuemap></item><item><name>Output Voltage</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.5.2.1.0</snmp_oid><key>config.outputVoltage</key><delay>30m</delay><history>30d</history><trends>0</trends><units>V</units><description>CPS-MIB::upsAdvanceConfigOutputVoltage - the standard UPS output voltage in Volts. The possible values are 100, 110, 120, 127, 208, 220, 230, and 240. If a value other than a possible value is set, it will not be accepted.</description><applications><application><name>UPS Configuration Settings</name></application></applications></item><item><name>System - Enter Sleep Mode After All Clients Shutdown</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.5.2.17.0</snmp_oid><key>config.sleepMode</key><delay>30m</delay><history>30d</history><trends>0</trends><description>CPS-MIB::upsAdvanceConfigSleepAfterAllClientShut - if this option is enabled, UPS will enter sleep mode after utility power failed and remaining MSDT+2 minutes.More information about MSDT please reference to help page of UPS - &gt; PowerPanel List.</description><applications><application><name>UPS Configuration Settings</name></application></applications><valuemap><name>CyberPower UPS Config - Sleep After All Clients Shutdown</name></valuemap></item><item><name>Last Fail Cause</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.3.2.5.0</snmp_oid><key>input.FailCause</key><delay>1h</delay><history>1w</history><trends>0</trends><description>CPS-MIB::upsAdvanceInputLineFailCause - The reason of UPS power failure. This value is set to: - noTransfer(1), if UPS is in utility mode. - highLineVoltage(2), if UPS switch to battery mode by reason of input voltage over the high transfer vloltage. - brownout(3), if UPS switch to battery mode by reason of input voltage under the low transfer vloltage. - selfTest(4), if the UPS was commanded to do a self test.</description><applications><application><name>Input</name></application></applications><valuemap><name>CyberPower UPS Input Fail Cause</name></valuemap></item><item><name>Frequency</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.3.2.4.0</snmp_oid><key>input.Frequency</key><delay>30s</delay><history>30d</history><units>Hz</units><description>CPS-MIB::upsAdvanceInputFrequency - the input line frequency in Hz</description><applications><application><name>Input</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>0.1</params></step></preprocessing></item><item><name>Status</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.3.2.6.0</snmp_oid><key>input.Status</key><delay>15s</delay><history>30d</history><description>CPS-MIB::upsAdvanceInputStatus - display the present status of the utility power supplied to the UPS</description><applications><application><name>Input</name></application></applications><valuemap><name>CyberPower UPS Input Status</name></valuemap></item><item><name>Voltage</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.3.2.1.0</snmp_oid><key>input.Voltage</key><delay>30s</delay><history>30d</history><units>V</units><description>CPS-MIB::upsAdvanceInputLineVoltage - the input line voltage in Volts</description><applications><application><name>Input</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>0.1</params></step></preprocessing></item><item><name>Frequency</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.4.2.2.0</snmp_oid><key>output.Frequency</key><delay>30s</delay><history>30d</history><units>Hz</units><description>CPS-MIB::upsAdvanceOutputFrequency - the UPS output frequency in Hz</description><applications><application><name>Output</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>0.1</params></step></preprocessing></item><item><name>Load</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.4.2.3.0</snmp_oid><key>output.Load</key><delay>30s</delay><history>30d</history><units>%</units><description>CPS-MIB::upsAdvanceOutputLoad - the UPS output load expressed in percentage</description><applications><application><name>Output</name></application></applications></item><item><name>Load (watts)</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.4.2.5.0</snmp_oid><key>output.LoadW</key><delay>30s</delay><history>30d</history><units>!W</units><description>CPS-MIB::upsAdvanceOutputPower - the total output active power of the UPS system in W</description><applications><application><name>Output</name></application></applications></item><item><name>Status</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.4.1.1.0</snmp_oid><key>output.Status</key><delay>15s</delay><history>30d</history><description>CPS-MIB::upsBaseOutputStatus - the UPS output status</description><applications><application><name>Output</name></application></applications><valuemap><name>CyberPower UPS Output Status</name></valuemap><triggers><trigger><expression>{last()}=3</expression><name>UPS on battery</name><priority>AVERAGE</priority></trigger></triggers></item><item><name>Voltage</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.4.2.1.0</snmp_oid><key>output.Voltage</key><delay>30s</delay><history>30d</history><units>V</units><description>CPS-MIB::upsAdvanceOutputVoltage - the UPS output voltage in Volts</description><applications><application><name>Output</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>0.1</params></step></preprocessing></item><item><name>Firmware Revision</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.1.2.4.0</snmp_oid><key>rmcard.FirmwareRevision</key><delay>1h</delay><history>1w</history><trends>0</trends><value_type>TEXT</value_type><description>CPS-MIB::upsAdvanceIdentAgentFirmwareRevision - the SNMP agent firmware revision</description><applications><application><name>RMCARD</name></application></applications></item><item><name>Serial Number</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.1.2.9.0</snmp_oid><key>rmcard.SerialNumber</key><delay>1h</delay><history>1w</history><trends>0</trends><value_type>TEXT</value_type><description>CPS-MIB::upsAdvanceIdentAgentSerialNumber - a string identifying the serial number of the Agent</description><applications><application><name>RMCARD</name></application></applications></item><item><name>Firmware Version</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.1.2.1.0</snmp_oid><key>ups.info.FirmwareVersion</key><delay>1h</delay><history>1w</history><trends>0</trends><value_type>TEXT</value_type><description>CPS-MIB::upsAdvanceIdentFirmwareRevision - the UPS firmware revision</description><applications><application><name>Information</name></application></applications></item><item><name>Load Power</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.1.2.7.0</snmp_oid><key>ups.info.LoadPower</key><delay>1h</delay><history>1w</history><trends>0</trends><units>!W</units><description>CPS-MIB::upsAdvanceIdentLoadPower - the power rating (Watts) of the UPS</description><applications><application><name>Information</name></application></applications></item><item><name>Model</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.1.1.1.0</snmp_oid><key>ups.info.Model</key><delay>1h</delay><history>1w</history><trends>0</trends><value_type>TEXT</value_type><description>CPS-MIB::upsBaseIdentModel - the UPS model name</description><inventory_link>MODEL</inventory_link><applications><application><name>Information</name></application></applications></item><item><name>Name</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.1.1.2.0</snmp_oid><key>ups.info.Name</key><delay>1h</delay><history>1w</history><trends>0</trends><value_type>TEXT</value_type><description>CPS-MIB::upsBaseIdentName - the UPS identified name could be set by the administrator</description><inventory_link>NAME</inventory_link><applications><application><name>Information</name></application></applications></item><item><name>Power Rating</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.1.2.6.0</snmp_oid><key>ups.info.PowerRating</key><delay>1h</delay><history>1w</history><trends>0</trends><units>!VA</units><description>CPS-MIB::upsAdvanceIdentPowerRating - the Volt-Amp rating of the UPS</description><applications><application><name>Information</name></application></applications></item></items><discovery_rules><discovery_rule><name>Battery Age Recommendation Discovery</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.3808.1.1.1.2.1.4]</snmp_oid><key>BatteryAge.discovery</key><delay>30s</delay><filter><conditions><condition><macro>{#SNMPVALUE}</macro><value>(^0{1})</value><operator>NOT_MATCHES_REGEX</operator><formulaid>A</formulaid></condition></conditions></filter><description>Discovery because CPS-MIB::upsBaseBatteryAgeRecommand returns 0 (zero) on OR-series UPSes.</description><item_prototypes><item_prototype><name>Age Recommendation</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.2.1.4.{#SNMPINDEX}</snmp_oid><key>battery.ageRecommend.[{#SNMPINDEX}]</key><delay>1h</delay><history>1w</history><trends>0</trends><units>months</units><description>CPS-MIB::upsBaseBatteryAgeRecommand - Recommended battery life in months</description><applications><application><name>Battery</name></application></applications></item_prototype><item_prototype><name>Last Replace Date</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.2.1.3.{#SNMPINDEX}</snmp_oid><key>battery.lastReplaceDate.[{#SNMPINDEX}]</key><delay>1h</delay><history>1w</history><trends>0</trends><value_type>CHAR</value_type><description>CPS-MIB::upsBaseBatteryLastReplaceDate - the UPS batteries last replaced date in mm/dd/yyyy format. This value is originally set when manufactured. If batteries replaced, administrator should reset this value.</description><applications><application><name>Battery</name></application></applications><valuemap><name>CyberPower UPS Last Replace Date</name></valuemap></item_prototype></item_prototypes></discovery_rule><discovery_rule><name>Configuration Discovery #1</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.3808.1.1.1.5.2.15]</snmp_oid><key>config.discovery.1</key><delay>30s</delay><filter><conditions><condition><macro>{#SNMPVALUE}</macro><value>(^NULL{1})</value><operator>NOT_MATCHES_REGEX</operator><formulaid>A</formulaid></condition></conditions></filter><description>Discovery because CPS-MIB::upsAdvanceConfigColdStart returns NULL on OR-series UPSes.</description><item_prototypes><item_prototype><name>System - Cold Start</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.5.2.15.{#SNMPINDEX}</snmp_oid><key>config.coldStart.[{#SNMPINDEX}]</key><delay>30m</delay><history>30d</history><trends>0</trends><description>CPS-MIB::upsAdvanceConfigColdStart - set the ability of the UPS can start in the absence of input power. When this option is enabled the UPS can be turned on without having input power.</description><applications><application><name>UPS Configuration Settings</name></application></applications><valuemap><name>CyberPower UPS Config - Cold Start</name></valuemap></item_prototype></item_prototypes></discovery_rule><discovery_rule><name>Configuration Discovery #2</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.3808.1.1.1.5.2.14]</snmp_oid><key>config.discovery.2</key><delay>30s</delay><filter><conditions><condition><macro>{#SNMPVALUE}</macro><value>(^NULL{1})</value><operator>NOT_MATCHES_REGEX</operator><formulaid>A</formulaid></condition></conditions></filter><description>Discovery because CPS-MIB::upsAdvanceConfigRechargedCapacity returns NULL on OR-series UPSes.</description><item_prototypes><item_prototype><name>Power Restore - Recharged Capacity</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.5.2.14.{#SNMPINDEX}</snmp_oid><key>config.rechargedCapacity.[{#SNMPINDEX}]</key><delay>30m</delay><history>30d</history><trends>0</trends><description>CPS-MIB::upsAdvanceConfigRechargedCapacity - when the utility power restores, the UPS will start to recharge until the specified battery capacity in percentage is met before restoring output power. The possible values are 0, 15, 30, 45, 60, 75, and 90. If a value other than a possible value is set, it will not be accepted.</description><applications><application><name>UPS Configuration Settings</name></application></applications><valuemap><name>CyberPower UPS Config - Recharged Capacity</name></valuemap></item_prototype></item_prototypes></discovery_rule><discovery_rule><name>Configuration Discovery #3</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.3808.1.1.1.5.2.9]</snmp_oid><key>config.discovery.3</key><delay>30s</delay><filter><conditions><condition><macro>{#SNMPVALUE}</macro><value>(^NULL{1})</value><operator>NOT_MATCHES_REGEX</operator><formulaid>A</formulaid></condition></conditions></filter><description>Discovery because CPS-MIB::upsAdvanceConfigReturnDelay returns NULL on OR-series UPSes.</description><item_prototypes><item_prototype><name>Power Restore - Returned Delay</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.5.2.9.{#SNMPINDEX}</snmp_oid><key>config.returnedDelay.[{#SNMPINDEX}]</key><delay>30m</delay><history>30d</history><trends>0</trends><value_type>FLOAT</value_type><units>min</units><description>CPS-MIB::upsAdvanceConfigReturnDelay - the delay time the UPS will turn on after power recovery. The value is also used in a 'reboot' or 'wake up' sequence. The possible values are 0 to 600 seconds. If a value other than a supported value is set, the value will not be accepted.</description><applications><application><name>UPS Configuration Settings</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>0.00016666666666</params></step></preprocessing></item_prototype></item_prototypes></discovery_rule><discovery_rule><name>Configuration Discovery #4</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.3808.1.1.1.5.2.10]</snmp_oid><key>config.discovery.4</key><delay>30s</delay><filter><conditions><condition><macro>{#SNMPVALUE}</macro><value>(^NULL{1})</value><operator>NOT_MATCHES_REGEX</operator><formulaid>A</formulaid></condition></conditions></filter><description>Discovery because CPS-MIB::upsAdvanceConfigShutoffDelay returns NULL on OR-series UPSes.</description><item_prototypes><item_prototype><name>Timers - ShutOff Delay</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.5.2.10.{#SNMPINDEX}</snmp_oid><key>config.shutoffDelay.[{#SNMPINDEX}]</key><delay>30m</delay><history>30d</history><trends>0</trends><value_type>FLOAT</value_type><units>min</units><description>CPS-MIB::upsAdvanceConfigShutoffDelay - the delay time the UPS will remain on after receiving a turn off command. The possible values are between 60 to 5940 seconds. If a value other than a supported value is set, the value will not be accepted.</description><applications><application><name>UPS Configuration Settings</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>0.00016666666666</params></step></preprocessing></item_prototype></item_prototypes></discovery_rule><discovery_rule><name>Configuration Discovery #5</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.3808.1.1.1.5.2.11]</snmp_oid><key>config.discovery.5</key><delay>30s</delay><filter><conditions><condition><macro>{#SNMPVALUE}</macro><value>(^NULL{1})</value><operator>NOT_MATCHES_REGEX</operator><formulaid>A</formulaid></condition></conditions></filter><description>Discovery because CPS-MIB::upsAdvanceConfigSleepDelay returns NULL on OR-series UPSes.</description><item_prototypes><item_prototype><name>Timers - Sleep Delay</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.5.2.11.{#SNMPINDEX}</snmp_oid><key>config.sleepDelay.[{#SNMPINDEX}]</key><delay>30m</delay><history>30d</history><trends>0</trends><value_type>FLOAT</value_type><units>min</units><description>CPS-MIB::upsAdvanceConfigSleepDelay - the delay time the UPS will enter sleep mode after receiving a sleep command. The possible values are between 60 to 5940 seconds. If a value other than a supported value is set, the value will not be accepted.</description><applications><application><name>UPS Configuration Settings</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>0.00016666666666</params></step></preprocessing></item_prototype></item_prototypes></discovery_rule><discovery_rule><name>Output Current Discovery</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.3808.1.1.1.4.2.4]</snmp_oid><key>Output.current.discovery</key><delay>30s</delay><filter><conditions><condition><macro>{#SNMPVALUE}</macro><value>(^0{1})</value><operator>NOT_MATCHES_REGEX</operator><formulaid>A</formulaid></condition></conditions></filter><description>Discovery because CPS-MIB::upsAdvanceOutputCurrent returns 0 (zero) on OR-series UPSes.</description><item_prototypes><item_prototype><name>Current</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.4.2.4.{#SNMPINDEX}</snmp_oid><key>output.current.[{#SNMPINDEX}]</key><value_type>FLOAT</value_type><units>A</units><description>CPS-MIB::upsAdvanceOutputCurrent - the UPS output current in Amps</description><applications><application><name>Output</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>0.1</params></step></preprocessing></item_prototype></item_prototypes></discovery_rule><discovery_rule><name>Temperature Discovery</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SNMPVALUE},1.3.6.1.4.1.3808.1.1.1.2.2.3]</snmp_oid><key>Temperature.discovery</key><delay>30s</delay><filter><conditions><condition><macro>{#SNMPVALUE}</macro><value>(^0{1})</value><operator>NOT_MATCHES_REGEX</operator><formulaid>A</formulaid></condition></conditions></filter><description>Discovery because CPS-MIB::upsAdvanceBatteryTemperature returns 0 (zero) on OR-series UPSes.</description><item_prototypes><item_prototype><name>Temperature</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.3808.1.1.1.2.2.3.{#SNMPINDEX}</snmp_oid><key>ups.info.Temperature.[{#SNMPINDEX}]</key><value_type>FLOAT</value_type><units>°C</units><description>CPS-MIB::upsAdvanceBatteryTemperature - the UPS battery temperature expressed in Celsius</description><applications><application><name>Information</name></application></applications></item_prototype></item_prototypes></discovery_rule></discovery_rules><macros><macro><macro>{$SNMP_COMMUNITY}</macro><value>public</value></macro></macros></template></templates><value_maps><value_map><name>CyberPower UPS Battery Replacement Indicator</name><mappings><mapping><value>1</value><newvalue>noBatteryNeedsReplacing</newvalue></mapping><mapping><value>2</value><newvalue>batteryNeedsReplacing</newvalue></mapping></mappings></value_map><value_map><name>CyberPower UPS Battery Status</name><mappings><mapping><value>1</value><newvalue>unknown</newvalue></mapping><mapping><value>2</value><newvalue>batteryNormal</newvalue></mapping><mapping><value>3</value><newvalue>batteryLow</newvalue></mapping><mapping><value>4</value><newvalue>batteryNotPresent</newvalue></mapping></mappings></value_map><value_map><name>CyberPower UPS Config - Audible Alarm</name><mappings><mapping><value>1</value><newvalue>timed</newvalue></mapping><mapping><value>2</value><newvalue>enable</newvalue></mapping><mapping><value>3</value><newvalue>disable</newvalue></mapping><mapping><value>4</value><newvalue>mute</newvalue></mapping></mappings></value_map><value_map><name>CyberPower UPS Config - Cold Start</name><mappings><mapping><value>1</value><newvalue>disable</newvalue></mapping><mapping><value>2</value><newvalue>enable</newvalue></mapping></mappings></value_map><value_map><name>CyberPower UPS Config - Over Discharge Protection</name><mappings><mapping><value>0</value><newvalue>disable</newvalue></mapping></mappings></value_map><value_map><name>CyberPower UPS Config - Recharged Capacity</name><mappings><mapping><value>0</value><newvalue>instant</newvalue></mapping></mappings></value_map><value_map><name>CyberPower UPS Config - Sleep After All Clients Shutdown</name><mappings><mapping><value>1</value><newvalue>disable</newvalue></mapping><mapping><value>2</value><newvalue>enable</newvalue></mapping></mappings></value_map><value_map><name>CyberPower UPS Input Fail Cause</name><mappings><mapping><value>1</value><newvalue>noTransfer</newvalue></mapping><mapping><value>2</value><newvalue>highLineVoltage</newvalue></mapping><mapping><value>3</value><newvalue>brownout</newvalue></mapping><mapping><value>4</value><newvalue>selfTest</newvalue></mapping></mappings></value_map><value_map><name>CyberPower UPS Input Status</name><mappings><mapping><value>1</value><newvalue>normal</newvalue></mapping><mapping><value>2</value><newvalue>overVoltage</newvalue></mapping><mapping><value>3</value><newvalue>underVoltage</newvalue></mapping><mapping><value>4</value><newvalue>frequencyFailure</newvalue></mapping><mapping><value>5</value><newvalue>blackout</newvalue></mapping></mappings></value_map><value_map><name>CyberPower UPS Last Replace Date</name><mappings><mapping><value>NULL</value><newvalue>Pls (re)set this value in web-interface</newvalue></mapping></mappings></value_map><value_map><name>CyberPower UPS Output Status</name><mappings><mapping><value>1</value><newvalue>unknown</newvalue></mapping><mapping><value>2</value><newvalue>onLine</newvalue></mapping><mapping><value>3</value><newvalue>onBattery</newvalue></mapping><mapping><value>4</value><newvalue>onBoost</newvalue></mapping><mapping><value>5</value><newvalue>onSleep</newvalue></mapping><mapping><value>6</value><newvalue>off</newvalue></mapping><mapping><value>7</value><newvalue>rebooting</newvalue></mapping></mappings></value_map></value_maps></zabbix_export>
