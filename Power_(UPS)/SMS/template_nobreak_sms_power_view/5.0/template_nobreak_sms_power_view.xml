<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>5.0</version><date>2021-11-21T22:04:05Z</date><groups><group><name>Templates</name></group></groups><templates><template><template>Nobreak SMS Powerview by HTTP</template><name>Nobreak SMS Powerview by HTTP</name><description>## Description

Version 1.0. Para utilização com o software SMS Power View, testado com o aplicativo versão Versão: V3.00.02.00. Meu Nobreak é Entrada/Saída 220V, portanto para 110V seriam necessários ajustes. Se tiver alguém utilizando eu posso utilizar parâmetros como Macro. Este template funciona realizando o parse do código da página http://localhost:8080/sms/s2/atualizaBlock.action que possui comentários com os dados do Nobreak.

## Overview

Version 1.0.


 


Para utilização com o software SMS Power View, testado com o aplicativo versão Versão: V3.00.02.00.


Meu Nobreak é Entrada/Saída 220V, portanto para 110V seriam necessários ajustes. Se tiver alguém utilizando eu posso utilizar parâmetros como Macro.


 


Este template funciona realizando o parse do código da página http://localhost:8080/sms/s2/atualizaBlock.action que possui comentários com os dados do Nobreak.



## Author

Marlon J dos Anjos

</description><groups><group><name>Templates</name></group></groups><applications><application><name>Nobreaks</name></application></applications><items><item><name>Nobreak SMS: Bateria Baixa</name><type>DEPENDENT</type><key>nobreaksms.bateria.baixa</key><delay>0</delay><history>15d</history><trends>0</trends><value_type>TEXT</value_type><description>Status do alerta Bateria Baixa</description><applications><application><name>Nobreaks</name></application></applications><preprocessing><step><type>REGEX</type><params>Bateria\ Baixa\h+\=\ (\w+)
\1</params></step></preprocessing><master_item><key>nobreaksms.get</key></master_item></item><item><name>Nobreak SMS: Bateria Ligada</name><type>DEPENDENT</type><key>nobreaksms.bateria.ligada</key><delay>0</delay><history>15d</history><trends>0</trends><value_type>TEXT</value_type><description>Alarme de status quando a bateria está em uso, geralmente quando está sem energia ou a qualidade da energia está fora dos parâmetros aceitáveis.</description><applications><application><name>Nobreaks</name></application></applications><preprocessing><step><type>REGEX</type><params>Bateria\ Ligada\h+\=\ (\w+)
\1</params></step></preprocessing><master_item><key>nobreaksms.get</key></master_item><triggers><trigger><expression>{last()}=&quot;true&quot;</expression><name>Nobreak SMS: Operando com Bateria</name><priority>HIGH</priority></trigger></triggers></item><item><name>Nobreak SMS: Bypass</name><type>DEPENDENT</type><key>nobreaksms.bypass</key><delay>0</delay><history>15d</history><trends>0</trends><value_type>TEXT</value_type><description>Indica se o Bypass do Nobreak está ativo, ou seja, utilizando energia direto da rede sem o filtro do nobreak. Geralmente por algum problema na bateria, no nobreak, ou sobrecarga de potencia.</description><applications><application><name>Nobreaks</name></application></applications><preprocessing><step><type>REGEX</type><params>ByPass\h+\=\ (\w+)
\1</params></step></preprocessing><master_item><key>nobreaksms.get</key></master_item><triggers><trigger><expression>{last()}=&quot;true&quot;</expression><name>Nobreak SMS: Bypass ativo</name><priority>AVERAGE</priority></trigger></triggers></item><item><name>Nobreak SMS: Frequencia de Saida</name><type>DEPENDENT</type><key>nobreaksms.frequencia.saida</key><delay>0</delay><history>15d</history><trends>90d</trends><value_type>FLOAT</value_type><units>Hz</units><description>Frequência de saída do Nobreak, geralmente 60Hz +- 1%.</description><applications><application><name>Nobreaks</name></application></applications><preprocessing><step><type>REGEX</type><params>Frequencia\ de\ Saida\h+\=\ (\d*\.?\d*)
\1</params></step></preprocessing><master_item><key>nobreaksms.get</key></master_item><triggers><trigger><expression>{last()}&gt;60.2 or {last()}&lt;59.8</expression><name>Nobreak SMS: Frequencia de Saida Irregular</name><priority>WARNING</priority></trigger></triggers></item><item><name>Nobreak SMS PowerView</name><type>HTTP_AGENT</type><key>nobreaksms.get</key><delay>15s</delay><history>2d</history><trends>0</trends><value_type>TEXT</value_type><description>Item que realiza o GET da página do nobreak.&#13;
A página atualizaBlock.action possui comentários com os parâmetros atuais do nobreak, e é atualizado em tempo real.</description><applications><application><name>Nobreaks</name></application></applications><url>http://{HOST.IP}:8080/sms/s2/atualizaBlock.action</url><retrieve_mode>BOTH</retrieve_mode><triggers><trigger><expression>{nodata(120s)}=1 or {str(&quot;HTTP/1.1 200&quot;)}=0</expression><name>Nobreak SMS: Sem atualização por 2 minutos</name><opdata>{HOST.IP}</opdata><priority>WARNING</priority></trigger></triggers></item><item><name>Nobreak SMS: Potencia de Saida</name><type>DEPENDENT</type><key>nobreaksms.potencia.saida</key><delay>0</delay><history>15d</history><trends>90d</trends><value_type>FLOAT</value_type><units>%</units><description>Potência de saída do nobreak, quanto mais equipamentos ligados maior será a potência e menor a autonomia.</description><applications><application><name>Nobreaks</name></application></applications><preprocessing><step><type>REGEX</type><params>Potencia\ de\ Saida\ \%\h+\=\ (\d*\.?\d*)
\1</params></step></preprocessing><master_item><key>nobreaksms.get</key></master_item><triggers><trigger><expression>{last()}&gt;85</expression><name>Nobreak SMS: Potência de Saída Elevada</name><priority>AVERAGE</priority></trigger></triggers></item><item><name>Nobreak SMS: Temperatura</name><type>DEPENDENT</type><key>nobreaksms.temperatura</key><delay>0</delay><history>15d</history><trends>90d</trends><value_type>FLOAT</value_type><units>C</units><description>Temperatura do nobreak, tende a subir quando utilizado a bateria. Pelos meus testes representa bem uma temperatura do ambiente, portanto eu uso também como alerta se a sala está muito aquecida.</description><applications><application><name>Nobreaks</name></application></applications><preprocessing><step><type>REGEX</type><params>Temperatura\h+\=\ (\d*\.?\d*)
\1</params></step></preprocessing><master_item><key>nobreaksms.get</key></master_item><triggers><trigger><expression>{last()}&gt;25</expression><name>Nobreak SMS: Temperatura Elevada</name><priority>HIGH</priority></trigger></triggers></item><item><name>Nobreak SMS: Tensao da Bateria</name><type>DEPENDENT</type><key>nobreaksms.tensao.bateria</key><delay>0</delay><history>15d</history><trends>90d</trends><value_type>FLOAT</value_type><units>%</units><description>Tensão da bateria reportado em %. Basicamente o nível de carga.</description><applications><application><name>Nobreaks</name></application></applications><preprocessing><step><type>REGEX</type><params>Tensao\ da\ Bateria\ \%\h+\=\ (\d*\.?\d*)
\1</params></step></preprocessing><master_item><key>nobreaksms.get</key></master_item><triggers><trigger><expression>{last()}&lt;70</expression><name>Nobreak SMS: Bateria com pouca carga</name><priority>DISASTER</priority></trigger><trigger><expression>{last()}&lt;&gt;100</expression><name>Nobreak SMS: Bateria não está com carga total</name><priority>INFO</priority></trigger></triggers></item><item><name>Nobreak SMS: Tensao de Entrada</name><type>DEPENDENT</type><key>nobreaksms.tensao.entrada</key><delay>0</delay><history>15d</history><trends>90d</trends><value_type>FLOAT</value_type><units>V</units><description>Tensão de Entrada em Volts.</description><applications><application><name>Nobreaks</name></application></applications><preprocessing><step><type>REGEX</type><params>Tensao\ de\ Entrada\h+\=\ (\d*\.?\d*)
\1</params></step></preprocessing><master_item><key>nobreaksms.get</key></master_item><triggers><trigger><expression>{last()}&lt;=200 or {last()}&gt;=238</expression><name>Nobreak SMS: Falha de Energia na Entrada</name><priority>AVERAGE</priority></trigger></triggers></item><item><name>Nobreak SMS: Tensao de Saida</name><type>DEPENDENT</type><key>nobreaksms.tensao.saida</key><delay>0</delay><history>15d</history><trends>90d</trends><value_type>FLOAT</value_type><units>V</units><description>Tensão de Saída em Volts.</description><applications><application><name>Nobreaks</name></application></applications><preprocessing><step><type>REGEX</type><params>Tensao\ de\ Saida\h+\=\ (\d*\.?\d*)
\1</params></step></preprocessing><master_item><key>nobreaksms.get</key></master_item><triggers><trigger><expression>{last()}&gt;222 or {last()}&lt;218</expression><name>Nobreak SMS: Tensão de Saída fora do padrão 220v</name><priority>AVERAGE</priority></trigger></triggers></item></items><screens><screen><name>Monitoramento Nobreak</name><hsize>2</hsize><vsize>2</vsize><screen_items><screen_item><resourcetype>0</resourcetype><style>0</style><resource><name>Tensões Entrada x Saída</name><host>Nobreak SMS Powerview by HTTP</host></resource><width>500</width><height>100</height><x>0</x><y>0</y><colspan>1</colspan><rowspan>1</rowspan><elements>0</elements><valign>0</valign><halign>0</halign><dynamic>0</dynamic><sort_triggers>0</sort_triggers><url/><application/><max_columns>3</max_columns></screen_item><screen_item><resourcetype>0</resourcetype><style>0</style><resource><name>Potência de Saída</name><host>Nobreak SMS Powerview by HTTP</host></resource><width>500</width><height>100</height><x>1</x><y>0</y><colspan>1</colspan><rowspan>1</rowspan><elements>0</elements><valign>0</valign><halign>0</halign><dynamic>0</dynamic><sort_triggers>0</sort_triggers><url/><application/><max_columns>3</max_columns></screen_item><screen_item><resourcetype>0</resourcetype><style>0</style><resource><name>Carga da Bateria</name><host>Nobreak SMS Powerview by HTTP</host></resource><width>500</width><height>100</height><x>0</x><y>1</y><colspan>1</colspan><rowspan>1</rowspan><elements>0</elements><valign>0</valign><halign>0</halign><dynamic>0</dynamic><sort_triggers>0</sort_triggers><url/><application/><max_columns>3</max_columns></screen_item><screen_item><resourcetype>0</resourcetype><style>0</style><resource><name>Temperatura</name><host>Nobreak SMS Powerview by HTTP</host></resource><width>500</width><height>100</height><x>1</x><y>1</y><colspan>1</colspan><rowspan>1</rowspan><elements>0</elements><valign>0</valign><halign>0</halign><dynamic>0</dynamic><sort_triggers>0</sort_triggers><url/><application/><max_columns>3</max_columns></screen_item></screen_items></screen></screens></template></templates><graphs><graph><name>Carga da Bateria</name><yaxismax>110</yaxismax><ymin_type_1>FIXED</ymin_type_1><ymax_type_1>FIXED</ymax_type_1><graph_items><graph_item><sortorder>1</sortorder><color>E91E63</color><item><host>Nobreak SMS Powerview by HTTP</host><key>nobreaksms.tensao.bateria</key></item></graph_item></graph_items></graph><graph><name>Potência de Saída</name><percent_left>85</percent_left><ymin_type_1>FIXED</ymin_type_1><ymax_type_1>FIXED</ymax_type_1><graph_items><graph_item><sortorder>1</sortorder><color>33691E</color><item><host>Nobreak SMS Powerview by HTTP</host><key>nobreaksms.potencia.saida</key></item></graph_item></graph_items></graph><graph><name>Temperatura</name><ymin_type_1>FIXED</ymin_type_1><graph_items><graph_item><sortorder>1</sortorder><color>FFB74D</color><item><host>Nobreak SMS Powerview by HTTP</host><key>nobreaksms.temperatura</key></item></graph_item></graph_items></graph><graph><name>Tensões Entrada x Saída</name><yaxismax>250</yaxismax><ymin_type_1>FIXED</ymin_type_1><ymax_type_1>FIXED</ymax_type_1><graph_items><graph_item><sortorder>1</sortorder><color>0080FF</color><item><host>Nobreak SMS Powerview by HTTP</host><key>nobreaksms.tensao.entrada</key></item></graph_item><graph_item><sortorder>2</sortorder><color>4000FF</color><item><host>Nobreak SMS Powerview by HTTP</host><key>nobreaksms.tensao.saida</key></item></graph_item></graph_items></graph></graphs></zabbix_export>
