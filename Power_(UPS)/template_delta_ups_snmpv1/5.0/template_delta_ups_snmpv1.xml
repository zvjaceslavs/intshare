<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>5.0</version><date>2021-11-21T21:24:54Z</date><groups><group><name>Templates</name></group></groups><templates><template><template>Delta UPS SNMP v1</template><name>Delta UPS SNMP v1</name><description>## Overview

Simple **SNMPv1** template for Delta UPS with LLD for lines.  
Tested on Zabbix 3.0 but should works on older versions.


Required extra configuration:


Macro for {$SNMP\_COMMUNITY}  
UPS-MIB



## Author

sim

</description><groups><group><name>Templates</name></group></groups><applications><application><name>Battery</name></application><application><name>BypassLine</name></application><application><name>Device Information</name></application><application><name>ICMP</name></application><application><name>InputLine</name></application><application><name>OutputLine</name></application></applications><items><item><name>ICMP ping</name><type>SIMPLE</type><key>icmpping</key><delay>60</delay><history>7d</history><applications><application><name>ICMP</name></application></applications><valuemap><name>Service state</name></valuemap><triggers><trigger><expression>{max(#3)}=0</expression><name>{HOST.NAME} is unavailable by ICMP</name><priority>AVERAGE</priority></trigger></triggers></item><item><name>ICMP loss</name><type>SIMPLE</type><key>icmppingloss</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>%</units><applications><application><name>ICMP</name></application></applications><triggers><trigger><expression>{min(5m)}&gt;20</expression><name>Ping loss is too high on {HOST.NAME}</name><priority>WARNING</priority><dependencies><dependency><name>{HOST.NAME} is unavailable by ICMP</name><expression>{Delta UPS SNMP v1:icmpping.max(#3)}=0</expression></dependency></dependencies></trigger></triggers></item><item><name>ICMP response time</name><type>SIMPLE</type><key>icmppingsec</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>s</units><applications><application><name>ICMP</name></application></applications><triggers><trigger><expression>{avg(5m)}&gt;0.15</expression><name>Response time is too high on {HOST.NAME}</name><priority>WARNING</priority><dependencies><dependency><name>{HOST.NAME} is unavailable by ICMP</name><expression>{Delta UPS SNMP v1:icmpping.max(#3)}=0</expression></dependency></dependencies></trigger></triggers></item><item><name>UPS Location</name><type>SNMP_AGENT</type><snmp_oid>RFC1213-MIB::sysLocation.0</snmp_oid><key>sysLocation</key><delay>7200</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Device Information</name></application></applications></item><item><name>UPS Name</name><type>SNMP_AGENT</type><snmp_oid>RFC1213-MIB::sysName.0</snmp_oid><key>sysName</key><delay>7200</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Device Information</name></application></applications></item><item><name>UPS Device uptime</name><type>SNMP_AGENT</type><snmp_oid>SNMPv2-MIB::sysUpTime.0</snmp_oid><key>sysUpTime.2</key><delay>60</delay><history>14d</history><units>uptime</units><description>The time since the network management portion of the system was last re-initialized.</description><applications><application><name>Device Information</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>0.01</params></step></preprocessing><triggers><trigger><expression>{last(,1m)}&lt;5m</expression><name>{HOST.NAME}: UPS was restarted</name><priority>AVERAGE</priority></trigger></triggers></item><item><name>Battery Current Amp DC</name><type>SNMP_AGENT</type><snmp_oid>UPS-MIB::upsBatteryCurrent.0</snmp_oid><key>upsBatteryCurrent</key><delay>60</delay><history>7d</history><units>Amp DC</units><applications><application><name>Battery</name></application></applications></item><item><name>UPS Battery Status</name><type>SNMP_AGENT</type><snmp_oid>UPS-MIB::upsBatteryStatus.0</snmp_oid><key>upsBatteryStatus</key><delay>60</delay><history>14d</history><value_type>FLOAT</value_type><description>unknown(1),&#13;
        batteryNormal(2),&#13;
        batteryLow(3),&#13;
        batteryDepleted(4)</description><applications><application><name>Battery</name></application></applications><valuemap><name>Delta Battery Status</name></valuemap><triggers><trigger><expression>{diff(0)} = 1</expression><name>{HOST.NAME}: UPS Battery Status was changed</name><priority>AVERAGE</priority></trigger></triggers></item><item><name>UPS Battery Voltage</name><type>SNMP_AGENT</type><snmp_oid>UPS-MIB::upsBatteryVoltage.0</snmp_oid><key>upsBatteryVoltage</key><delay>60</delay><history>7d</history><units>Volt DC</units><applications><application><name>Battery</name></application></applications></item><item><name>Number of Bypass Lines</name><type>SNMP_AGENT</type><snmp_oid>UPS-MIB::upsBypassNumLines.0</snmp_oid><key>upsBypassNumLines</key><delay>7200</delay><history>7d</history><applications><application><name>BypassLine</name></application></applications></item><item><name>Config Input Frequency</name><type>SNMP_AGENT</type><snmp_oid>UPS-MIB::upsConfigInputFreq.0</snmp_oid><key>upsConfigInputFreq</key><delay>60</delay><history>7d</history><units>Hertz</units><applications><application><name>InputLine</name></application></applications></item><item><name>Config Input Voltage</name><type>SNMP_AGENT</type><snmp_oid>UPS-MIB::upsConfigInputVoltage.0</snmp_oid><key>upsConfigInputVoltage</key><delay>60</delay><history>7d</history><units>RMS Volts</units><applications><application><name>InputLine</name></application></applications></item><item><name>Config Output Frequency</name><type>SNMP_AGENT</type><snmp_oid>UPS-MIB::upsConfigOutputFreq.0</snmp_oid><key>upsConfigOutputFreq</key><delay>60</delay><history>7d</history><units>Hertz</units><applications><application><name>OutputLine</name></application></applications></item><item><name>Config Output V-A</name><type>SNMP_AGENT</type><snmp_oid>UPS-MIB::upsConfigOutputVA.0</snmp_oid><key>upsConfigOutputVA</key><delay>60</delay><history>7d</history><units>Volt-Amps</units><applications><application><name>OutputLine</name></application></applications></item><item><name>Config Output Voltage</name><type>SNMP_AGENT</type><snmp_oid>UPS-MIB::upsConfigOutputVoltage.0</snmp_oid><key>upsConfigOutputVoltage</key><delay>60</delay><history>7d</history><units>RMS Volts</units><applications><application><name>OutputLine</name></application></applications></item><item><name>Battery Charge Level in %</name><type>SNMP_AGENT</type><snmp_oid>UPS-MIB::upsEstimatedChargeRemaining.0</snmp_oid><key>upsEstimatedChargeRemaining</key><delay>30</delay><history>30d</history><value_type>FLOAT</value_type><units>%</units><applications><application><name>Battery</name></application></applications><triggers><trigger><expression>{last(1m)}&lt;10</expression><name>{HOST.NAME}: UPS Battery Charge Level &lt; 10%</name><priority>DISASTER</priority></trigger><trigger><expression>{last(1m)}&lt;50</expression><name>{HOST.NAME}: UPS Battery Charge Level &lt; 50%</name><priority>HIGH</priority><description>{HOST.NAME}: UPS Battery Charge Level &lt; 50%</description></trigger><trigger><expression>{last(1m)}&lt;90</expression><name>{HOST.NAME}: UPS Battery Charge Level &lt; 90%</name><priority>AVERAGE</priority></trigger><trigger><expression>{change()}&gt;5</expression><name>{HOST.NAME}: UPS Battery Charge Level was changed</name><priority>AVERAGE</priority></trigger></triggers></item><item><name>UPS Manufacturer</name><type>SNMP_AGENT</type><snmp_oid>RFC1213-MIB::mib-2.33.1.1.1.0</snmp_oid><key>upsIdentManufacturer</key><delay>7200</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Device Information</name></application></applications></item><item><name>UPS Model</name><type>SNMP_AGENT</type><snmp_oid>RFC1213-MIB::mib-2.33.1.1.2.0</snmp_oid><key>upsIdentModel</key><delay>7200</delay><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Device Information</name></application></applications></item><item><name>Number of Input Lines</name><type>SNMP_AGENT</type><snmp_oid>UPS-MIB::upsInputNumLines.0</snmp_oid><key>upsInputNumLines</key><delay>7200</delay><history>7d</history><applications><application><name>InputLine</name></application></applications></item><item><name>Number of Output Lines</name><type>SNMP_AGENT</type><snmp_oid>UPS-MIB::upsOutputNumLines.0</snmp_oid><key>upsOutputNumLines</key><delay>7200</delay><history>7d</history><applications><application><name>OutputLine</name></application></applications></item><item><name>UPS Source Type</name><type>SNMP_AGENT</type><snmp_oid>UPS-MIB::upsOutputSource.0</snmp_oid><key>upsOutputSource</key><delay>30</delay><value_type>FLOAT</value_type><description>other(1),&#13;
        none(2),&#13;
        normal(3),&#13;
        bypass(4),&#13;
        battery(5),&#13;
        booster(6),&#13;
        reducer(7)</description><applications><application><name>Device Information</name></application></applications><valuemap><name>Delta Source Type</name></valuemap><triggers><trigger><expression>{diff(0)} = 1</expression><name>{HOST.NAME}: UPS Power Source Type was changed</name><priority>HIGH</priority><type>MULTIPLE</type></trigger></triggers></item></items><discovery_rules><discovery_rule><name>UPS Bypass Line Discovery</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SNMPVALUE},UPS-MIB::upsBypassLineIndex]</snmp_oid><key>UPSBypassLineDiscovery</key><delay>7200</delay><item_prototypes><item_prototype><name>UPS Line {#SNMPINDEX} Bypass Voltage</name><type>SNMP_AGENT</type><snmp_oid>UPS-MIB::upsBypassVoltage.{#SNMPVALUE}.0</snmp_oid><key>upsBypassVoltage.[{#SNMPVALUE}]</key><delay>60</delay><units>RMS Volts</units><applications><application><name>BypassLine</name></application></applications></item_prototype></item_prototypes></discovery_rule><discovery_rule><name>UPS Input Line Discovery</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SNMPVALUE},UPS-MIB::upsInputLineIndex]</snmp_oid><key>UPSInputLineDiscovery</key><delay>7200</delay><item_prototypes><item_prototype><name>UPS Input {#SNMPINDEX} Current</name><type>SNMP_AGENT</type><snmp_oid>UPS-MIB::upsInputCurrent.{#SNMPVALUE}.0</snmp_oid><key>upsInputCurrent.[{#SNMPVALUE}]</key><delay>60</delay><history>14d</history><units>RMS Amp</units><applications><application><name>InputLine</name></application></applications></item_prototype><item_prototype><name>UPS Input {#SNMPINDEX} Frequency</name><type>SNMP_AGENT</type><snmp_oid>UPS-MIB::upsInputFrequency.{#SNMPVALUE}.0</snmp_oid><key>upsInputFrequency.[{#SNMPVALUE}]</key><delay>60</delay><history>14d</history><units>Hertz</units><applications><application><name>InputLine</name></application></applications></item_prototype><item_prototype><name>UPS Input {#SNMPINDEX} Voltage</name><type>SNMP_AGENT</type><snmp_oid>UPS-MIB::upsInputVoltage.{#SNMPVALUE}.0</snmp_oid><key>upsInputVoltage.[{#SNMPVALUE}]</key><delay>60</delay><history>14d</history><units>Hertz</units><applications><application><name>InputLine</name></application></applications></item_prototype></item_prototypes></discovery_rule><discovery_rule><name>UPS Output Line Discovery</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SNMPVALUE},UPS-MIB::upsOutputLineIndex]</snmp_oid><key>UPSOutputLineDiscovery</key><delay>7200</delay><item_prototypes><item_prototype><name>UPS Line {#SNMPINDEX} Output Voltage</name><type>SNMP_AGENT</type><snmp_oid>UPS-MIB::upsOutputCurrent.{#SNMPVALUE}.0</snmp_oid><key>upsOutputCurrent.[{#SNMPVALUE}]</key><delay>60</delay><history>14d</history><value_type>FLOAT</value_type><units>RMS Volts</units><applications><application><name>OutputLine</name></application></applications></item_prototype><item_prototype><name>UPS Line {#SNMPINDEX} Output Percent Load</name><type>SNMP_AGENT</type><snmp_oid>UPS-MIB::upsOutputPercentLoad.{#SNMPVALUE}.0</snmp_oid><key>upsOutputPercentLoad.[{#SNMPVALUE}]</key><delay>60</delay><history>14d</history><value_type>FLOAT</value_type><units>%</units><applications><application><name>OutputLine</name></application></applications><trigger_prototypes><trigger_prototype><expression>{avg(5m)}&gt;60</expression><name>{HOST.NAME}: Line {#SNMPINDEX} load is greater than  &gt; 60%</name><priority>AVERAGE</priority></trigger_prototype><trigger_prototype><expression>{avg(5m)}&gt;80</expression><name>{HOST.NAME}: Line {#SNMPINDEX} load is greater than  &gt; 80%</name><priority>HIGH</priority></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>UPS Line {#SNMPINDEX} Output Power</name><type>SNMP_AGENT</type><snmp_oid>UPS-MIB::upsOutputPower.{#SNMPVALUE}.0</snmp_oid><key>upsOutputPower.[{#SNMPVALUE}]</key><delay>60</delay><history>14d</history><value_type>FLOAT</value_type><units>Watts</units><applications><application><name>OutputLine</name></application></applications></item_prototype><item_prototype><name>UPS Line {#SNMPINDEX} Output Current</name><type>SNMP_AGENT</type><snmp_oid>UPS-MIB::upsOutputVoltage.{#SNMPVALUE}.0</snmp_oid><key>upsOutputVoltage.[{#SNMPVALUE}]</key><delay>60</delay><history>14d</history><units>RMS Amp</units><applications><application><name>OutputLine</name></application></applications></item_prototype></item_prototypes><graph_prototypes><graph_prototype><name>UPS Output Line {#SNMPINDEX}  Load in %</name><ymin_type_1>FIXED</ymin_type_1><graph_items><graph_item><color>1A7C11</color><item><host>Delta UPS SNMP v1</host><key>upsOutputPercentLoad.[{#SNMPVALUE}]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes></discovery_rule></discovery_rules><screens><screen><name>UPS Overview</name><hsize>2</hsize><vsize>2</vsize><screen_items><screen_item><resourcetype>7</resourcetype><style>0</style><resource>0</resource><width>500</width><height>100</height><x>0</x><y>0</y><colspan>1</colspan><rowspan>1</rowspan><elements>0</elements><valign>0</valign><halign>0</halign><dynamic>0</dynamic><sort_triggers>0</sort_triggers><url/><application/><max_columns>3</max_columns></screen_item><screen_item><resourcetype>0</resourcetype><style>0</style><resource><name>Battery Charge Level in %</name><host>Delta UPS SNMP v1</host></resource><width>500</width><height>100</height><x>1</x><y>0</y><colspan>1</colspan><rowspan>1</rowspan><elements>0</elements><valign>0</valign><halign>0</halign><dynamic>0</dynamic><sort_triggers>0</sort_triggers><url/><application/><max_columns>3</max_columns></screen_item><screen_item><resourcetype>20</resourcetype><style>0</style><resource><name>UPS Output Line {#SNMPINDEX}  Load in %</name><host>Delta UPS SNMP v1</host></resource><width>500</width><height>100</height><x>0</x><y>1</y><colspan>1</colspan><rowspan>1</rowspan><elements>0</elements><valign>0</valign><halign>0</halign><dynamic>0</dynamic><sort_triggers>0</sort_triggers><url/><application/><max_columns>3</max_columns></screen_item><screen_item><resourcetype>3</resourcetype><style>0</style><resource><key>upsOutputSource</key><host>Delta UPS SNMP v1</host></resource><width>500</width><height>100</height><x>1</x><y>1</y><colspan>1</colspan><rowspan>1</rowspan><elements>5</elements><valign>0</valign><halign>0</halign><dynamic>0</dynamic><sort_triggers>0</sort_triggers><url/><application/><max_columns>3</max_columns></screen_item></screen_items></screen></screens></template></templates><graphs><graph><name>Battery Charge Level in %</name><graph_items><graph_item><color>1A7C11</color><item><host>Delta UPS SNMP v1</host><key>upsEstimatedChargeRemaining</key></item></graph_item></graph_items></graph><graph><name>Uptime</name><graph_items><graph_item><color>000088</color><item><host>Delta UPS SNMP v1</host><key>sysUpTime.2</key></item></graph_item></graph_items></graph></graphs><value_maps><value_map><name>Delta Battery Status</name><mappings><mapping><value>1</value><newvalue>unknown</newvalue></mapping><mapping><value>2</value><newvalue>batteryNormal</newvalue></mapping><mapping><value>3</value><newvalue>batteryLow</newvalue></mapping></mappings></value_map><value_map><name>Delta Source Type</name><mappings><mapping><value>0</value><newvalue>unknown</newvalue></mapping><mapping><value>2</value><newvalue>none</newvalue></mapping><mapping><value>3</value><newvalue>normal</newvalue></mapping><mapping><value>4</value><newvalue>bypass</newvalue></mapping><mapping><value>5</value><newvalue>battery</newvalue></mapping><mapping><value>6</value><newvalue>booster</newvalue></mapping><mapping><value>7</value><newvalue>reducer</newvalue></mapping></mappings></value_map><value_map><name>Service state</name><mappings><mapping><value>0</value><newvalue>Down</newvalue></mapping><mapping><value>1</value><newvalue>Up</newvalue></mapping></mappings></value_map></value_maps></zabbix_export>
