<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>5.0</version><date>2021-11-21T21:44:49Z</date><groups><group><name>Templates</name></group><group><name>Templates/Modules</name></group></groups><templates><template><template>Template Module ICMP Ping</template><name>Template Module ICMP Ping</name><description>Template Module ICMP Ping version: 0.12</description><groups><group><name>Templates/Modules</name></group></groups><applications><application><name>Status</name></application></applications><items><item><name>ICMP ping</name><type>SIMPLE</type><key>icmpping</key><delay>60</delay><history>1w</history><applications><application><name>Status</name></application></applications><valuemap><name>Service state</name></valuemap><triggers><trigger><expression>{max(#3)}=0</expression><name>Unavailable by ICMP ping</name><priority>HIGH</priority><description>Last value: {ITEM.LASTVALUE1}.
Last three attempts returned timeout.  Please check device connectivity.</description></trigger></triggers></item><item><name>ICMP loss</name><type>SIMPLE</type><key>icmppingloss</key><delay>60</delay><history>1w</history><value_type>FLOAT</value_type><units>%</units><applications><application><name>Status</name></application></applications><triggers><trigger><expression>{min(5m)}&gt;{$ICMP_LOSS_WARN} and {min(5m)}&lt;100</expression><name>High ICMP ping loss</name><priority>WARNING</priority><dependencies><dependency><name>Unavailable by ICMP ping</name><expression>{Template Module ICMP Ping:icmpping.max(#3)}=0</expression></dependency></dependencies></trigger></triggers></item><item><name>ICMP response time</name><type>SIMPLE</type><key>icmppingsec</key><delay>60</delay><history>1w</history><value_type>FLOAT</value_type><units>s</units><applications><application><name>Status</name></application></applications><triggers><trigger><expression>{avg(5m)}&gt;{$ICMP_RESPONSE_TIME_WARN}</expression><name>High ICMP ping response time</name><priority>WARNING</priority><dependencies><dependency><name>High ICMP ping loss</name><expression>{Template Module ICMP Ping:icmppingloss.min(5m)}&gt;{$ICMP_LOSS_WARN} and {Template Module ICMP Ping:icmppingloss.min(5m)}&lt;100</expression></dependency><dependency><name>Unavailable by ICMP ping</name><expression>{Template Module ICMP Ping:icmpping.max(#3)}=0</expression></dependency></dependencies></trigger></triggers></item></items><macros><macro><macro>{$ICMP_LOSS_WARN}</macro><value>20</value></macro><macro><macro>{$ICMP_RESPONSE_TIME_WARN}</macro><value>0.15</value></macro></macros></template><template><template>UPS - diogont</template><name>UPS - diogont</name><description>## Overview

Template made based on [Phillip Hernandez](owner/samwiseg0) template: https://share.zabbix.com/power-ups/apc/apc-ups


All OID's were changed to match general MIB for UPS.


New graphs were also added.


21 Items


9 Triggers


7 Graphs


I also have a template made for three-phase UPSs, feel free to check: [https://share.zabbix.com/power-ups/ups-templates/network-ups-three-phase-generic](power-ups/ups-templates/network-ups-three-phase-generic)



## Author

Diogo Teixeira

</description><templates><template><name>Template Module ICMP Ping</name></template></templates><groups><group><name>Templates</name></group></groups><applications><application><name>Information(s)</name></application><application><name>Operational</name></application></applications><items><item><name>Contact</name><type>SNMP_AGENT</type><snmp_oid>SNMPv2-MIB::sysContact.0</snmp_oid><key>sysContact</key><delay>60</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><inventory_link>CONTACT</inventory_link><applications><application><name>Information(s)</name></application></applications></item><item><name>Software version (full)</name><type>SNMP_AGENT</type><snmp_oid>SNMPv2-MIB::sysDescr.0</snmp_oid><key>sysDescr</key><delay>60</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><inventory_link>OS_FULL</inventory_link><applications><application><name>Information(s)</name></application></applications></item><item><name>Device Location</name><type>SNMP_AGENT</type><snmp_oid>SNMPv2-MIB::sysLocation.0</snmp_oid><key>sysLocation</key><delay>60</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><inventory_link>LOCATION</inventory_link><applications><application><name>Information(s)</name></application></applications></item><item><name>Device Name</name><type>SNMP_AGENT</type><snmp_oid>SNMPv2-MIB::sysName.0</snmp_oid><key>sysName</key><delay>60</delay><history>7d</history><trends>0</trends><value_type>CHAR</value_type><inventory_link>NAME</inventory_link><applications><application><name>Information(s)</name></application></applications></item><item><name>Uptime</name><type>SNMP_AGENT</type><snmp_oid>SNMPv2-MIB::sysUpTime.0</snmp_oid><key>sysUpTime</key><delay>60</delay><history>31d</history><units>uptime</units><applications><application><name>Information(s)</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>0.01</params></step></preprocessing></item><item><name>UPS battery capacity (%)</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.33.1.2.4.0</snmp_oid><key>upsAdvBatteryCapacity</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>%</units><applications><application><name>Operational</name></application></applications></item><item><name>UPS battery temperature</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.33.1.2.7.0</snmp_oid><key>upsAdvBatteryTemperature</key><delay>60</delay><history>7d</history><units>Â°C</units><applications><application><name>Operational</name></application></applications><triggers><trigger><expression>{last(0)}&gt;27</expression><name>High battery temperature on {HOST.NAME}</name><priority>HIGH</priority></trigger></triggers></item><item><name>UPS input current</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.33.1.3.3.1.4.1</snmp_oid><key>upsAdvInputCurrent</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>A</units><applications><application><name>Operational</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>0.1</params></step></preprocessing></item><item><name>UPS input power</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.33.1.3.3.1.5.1</snmp_oid><key>upsAdvInputPower</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>W</units><applications><application><name>Operational</name></application></applications></item><item><name>UPS input voltage</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.33.1.3.3.1.3.1</snmp_oid><key>upsAdvInputVoltage</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>VAC</units><applications><application><name>Operational</name></application></applications></item><item><name>UPS output current</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.33.1.4.4.1.3.1</snmp_oid><key>upsAdvOutputCurrent</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>A</units><applications><application><name>Operational</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>0.1</params></step></preprocessing></item><item><name>UPS output frequency</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.33.1.4.2.0</snmp_oid><key>upsAdvOutputFrequency</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>Hz</units><applications><application><name>Operational</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>0.1</params></step></preprocessing></item><item><name>UPS output load (%)</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.33.1.4.4.1.5.1</snmp_oid><key>upsAdvOutputLoad</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>%</units><applications><application><name>Operational</name></application></applications><triggers><trigger><expression>{last(0)}&gt;95</expression><name>Output load Critical on {HOST.NAME}</name><priority>HIGH</priority></trigger><trigger><expression>{last(0)}&gt;90</expression><name>Output load High on {HOST.NAME}</name><priority>WARNING</priority></trigger></triggers></item><item><name>UPS output power</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.33.1.4.4.1.4.1</snmp_oid><key>upsAdvOutputPower</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>W</units><applications><application><name>Operational</name></application></applications></item><item><name>UPS output voltage</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.33.1.4.4.1.2.1</snmp_oid><key>upsAdvOutputVoltage</key><delay>60</delay><history>7d</history><value_type>FLOAT</value_type><units>VAC</units><applications><application><name>Operational</name></application></applications></item><item><name>UPS run time remaining</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.33.1.2.3.0</snmp_oid><key>upsAdvRunTimeRemaining</key><delay>60</delay><history>7d</history><units>m</units><applications><application><name>Operational</name></application></applications><triggers><trigger><expression>{last(0)}&lt;5</expression><name>Run time remaining CRITICAL on {HOST.NAME}</name><priority>DISASTER</priority></trigger><trigger><expression>{last(0)}&lt;10</expression><name>Run time remaining LOW on {HOST.NAME}</name><priority>HIGH</priority></trigger></triggers></item><item><name>UPS battery status</name><type>SNMP_AGENT</type><snmp_oid>.1.3.6.1.2.1.33.1.2.1.0</snmp_oid><key>upsBasicBatteryStatus</key><delay>60</delay><history>7d</history><applications><application><name>Operational</name></application></applications><valuemap><name>upsBatteryStatus</name></valuemap><triggers><trigger><expression>{last(0)}=3</expression><name>The battery power is too low to support the load on {HOST.NAME}</name><priority>DISASTER</priority></trigger></triggers></item><item><name>UPS time on battery</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.2.1.33.1.2.2.0</snmp_oid><key>upsBasicBatteryTimeOnBattery</key><delay>60</delay><history>7d</history><units>s</units><applications><application><name>Operational</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>0.01</params></step></preprocessing></item></items></template></templates><graphs><graph><name>Battery status</name><ymin_type_1>FIXED</ymin_type_1><graph_items><graph_item><drawtype>BOLD_LINE</drawtype><color>C80000</color><item><host>UPS - diogont</host><key>upsBasicBatteryStatus</key></item></graph_item></graph_items></graph><graph><name>UPS Current</name><ymin_type_1>FIXED</ymin_type_1><graph_items><graph_item><drawtype>BOLD_LINE</drawtype><color>B71C1C</color><item><host>UPS - diogont</host><key>upsAdvInputCurrent</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>BOLD_LINE</drawtype><color>4444FF</color><item><host>UPS - diogont</host><key>upsAdvOutputCurrent</key></item></graph_item></graph_items></graph><graph><name>UPS Frequency</name><ymin_type_1>FIXED</ymin_type_1><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>FF4000</color><item><host>UPS - diogont</host><key>upsAdvOutputFrequency</key></item></graph_item></graph_items></graph><graph><name>UPS Load</name><ymin_type_1>FIXED</ymin_type_1><ymax_type_1>FIXED</ymax_type_1><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>4444FF</color><item><host>UPS - diogont</host><key>upsAdvOutputLoad</key></item></graph_item></graph_items></graph><graph><name>UPS Power</name><ymin_type_1>FIXED</ymin_type_1><graph_items><graph_item><drawtype>BOLD_LINE</drawtype><color>B71C1C</color><item><host>UPS - diogont</host><key>upsAdvInputPower</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>BOLD_LINE</drawtype><color>4444FF</color><item><host>UPS - diogont</host><key>upsAdvOutputPower</key></item></graph_item></graph_items></graph><graph><name>UPS Temperature</name><ymin_type_1>FIXED</ymin_type_1><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>FF0000</color><item><host>UPS - diogont</host><key>upsAdvBatteryTemperature</key></item></graph_item></graph_items></graph><graph><name>UPS Voltage</name><graph_items><graph_item><drawtype>BOLD_LINE</drawtype><color>B71C1C</color><item><host>UPS - diogont</host><key>upsAdvInputVoltage</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>BOLD_LINE</drawtype><color>4444FF</color><item><host>UPS - diogont</host><key>upsAdvOutputVoltage</key></item></graph_item></graph_items></graph></graphs><value_maps><value_map><name>Service state</name><mappings><mapping><value>0</value><newvalue>Down</newvalue></mapping><mapping><value>1</value><newvalue>Up</newvalue></mapping></mappings></value_map><value_map><name>upsBatteryStatus</name><mappings><mapping><value>1</value><newvalue>unknown</newvalue></mapping><mapping><value>2</value><newvalue>batteryNormal</newvalue></mapping><mapping><value>3</value><newvalue>batteryLow</newvalue></mapping><mapping><value>4</value><newvalue>batteryDepleted</newvalue></mapping></mappings></value_map></value_maps></zabbix_export>
