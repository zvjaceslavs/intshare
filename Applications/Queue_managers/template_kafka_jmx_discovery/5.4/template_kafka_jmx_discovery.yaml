zabbix_export:
  version: '5.4'
  date: '2021-11-09T08:30:21Z'
  groups:
    -
      uuid: 7df96b18c230490a9a0a9e2307226338
      name: Templates
  templates:
    -
      uuid: 51be25b0145a4beca811de24a62b5cb4
      template: 'App Kafka'
      name: 'App Kafka'
      description: |
        ## Overview
        
        This template will use JMX discovery to get metrics about resource usage, topics stats and much more from a Kafka node.
        
        
        
        
      groups:
        -
          name: Templates
      items:
        -
          uuid: cf98fa57fe4f44f29f00f91e1feaf86e
          name: 'G1 Old Generation Count'
          type: JMX
          key: 'jmx["java.lang:type=GarbageCollector,name=G1 Old Generation","CollectionCount"]'
          delay: 60s
          history: 30d
          trends: 90d
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 253ff25fda0946f49b6fbb855c23db63
          name: 'G1 Young Generation Count'
          type: JMX
          key: 'jmx["java.lang:type=GarbageCollector,name=G1 Young Generation","CollectionCount"]'
          delay: 60s
          history: 30d
          trends: 90d
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: df8a4edcd9504afdbffc1adcdc376795
          name: 'Leader election rate'
          type: JMX
          key: 'jmx["kafka.controller:type=ControllerStats,name=LeaderElectionRateAndTimeMs","Count"]'
          delay: 60s
          history: 30d
          trends: 90d
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
          triggers:
            -
              uuid: 1ae1d731cdea42ec8e2d24d9124109f6
              expression: '(max(/App Kafka/jmx["kafka.controller:type=ControllerStats,name=LeaderElectionRateAndTimeMs","Count"],900s)-min(/App Kafka/jmx["kafka.controller:type=ControllerStats,name=LeaderElectionRateAndTimeMs","Count"],900s))<>0'
              name: 'Leader election has occurred in last 15m'
              status: DISABLED
              priority: INFO
        -
          uuid: 8d2cbc531fd44ed3baac82a38cc63020
          name: 'Unclean leader election rate'
          type: JMX
          key: 'jmx["kafka.controller:type=ControllerStats,name=UncleanLeaderElectionsPerSec","Count"]'
          delay: 60s
          history: 30d
          trends: 90d
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
          triggers:
            -
              uuid: 2b9f3fb5d1274ed088258a9803356b31
              expression: '(max(/App Kafka/jmx["kafka.controller:type=ControllerStats,name=UncleanLeaderElectionsPerSec","Count"],900s)-min(/App Kafka/jmx["kafka.controller:type=ControllerStats,name=UncleanLeaderElectionsPerSec","Count"],900s))<>0'
              name: 'Unclean leader election has occurred last 15m'
              priority: HIGH
        -
          uuid: f3689624fce14db7a5c8e89840702fd7
          name: 'Is controller active on broker'
          type: JMX
          key: 'jmx["kafka.controller:type=KafkaController,name=ActiveControllerCount","Value"]'
          delay: 60s
          history: 30d
          trends: 90d
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
          triggers:
            -
              uuid: 0e490d343e344734994cc3e6c8a9b364
              expression: 'last(/App Kafka/jmx["kafka.controller:type=KafkaController,name=ActiveControllerCount","Value"])=1'
              name: 'Controller on broker is active'
              status: DISABLED
              priority: INFO
        -
          uuid: 99f3287205344c7c856d9017e4a657d7
          name: 'LogFlushStats 50thPercentile'
          type: JMX
          key: 'jmx["kafka.log:type=LogFlushStats,name=LogFlushRateAndTimeMs","50thPercentile"]'
          delay: 60s
          history: 30d
          trends: 90d
          value_type: FLOAT
          units: ms
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: ce22ac78a14c4822b23bb5a01ef55421
          name: 'LogFlushStats 75thPercentile'
          type: JMX
          key: 'jmx["kafka.log:type=LogFlushStats,name=LogFlushRateAndTimeMs","75thPercentile"]'
          delay: 60s
          history: 30d
          trends: 90d
          value_type: FLOAT
          units: ms
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 012032b12b5b4cb19b1a0302883ce567
          name: 'LogFlushStats 95thPercentile'
          type: JMX
          key: 'jmx["kafka.log:type=LogFlushStats,name=LogFlushRateAndTimeMs","95thPercentile"]'
          delay: 60s
          history: 30d
          trends: 90d
          value_type: FLOAT
          units: ms
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
          triggers:
            -
              uuid: f1e2810585db48819936c359c7436c61
              expression: 'last(/App Kafka/jmx["kafka.log:type=LogFlushStats,name=LogFlushRateAndTimeMs","95thPercentile"])>10'
              name: 'Log flush latency (95th percentile) > 10ms'
              priority: WARNING
              dependencies:
                -
                  name: 'Log flush latency (95th percentile) > 20ms'
                  expression: 'last(/App Kafka/jmx["kafka.log:type=LogFlushStats,name=LogFlushRateAndTimeMs","95thPercentile"])>20'
            -
              uuid: 574469b1263041adb44eeb983f65e6c2
              expression: 'last(/App Kafka/jmx["kafka.log:type=LogFlushStats,name=LogFlushRateAndTimeMs","95thPercentile"])>20'
              name: 'Log flush latency (95th percentile) > 20ms'
              priority: HIGH
        -
          uuid: 5e56b7226e1e4757bb04240b2bc2051f
          name: 'LogFlushStats Count'
          type: JMX
          key: 'jmx["kafka.log:type=LogFlushStats,name=LogFlushRateAndTimeMs","Count"]'
          delay: 60s
          history: 30d
          trends: 90d
          value_type: FLOAT
          units: Count
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 5ea560c493dc4577871899a8826f41bd
          name: 'Time the request being processed at the leader Fetch-Consumer'
          type: JMX
          key: 'jmx["kafka.network:type=RequestMetrics,name=LocalTimeMs,request=FetchConsumer","Count"]'
          delay: 60s
          history: 30d
          trends: 90d
          units: ms
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 5e1876a92eaf44c8a098f6ac2febbcc7
          name: 'Time the request being processed at the leader Fetch-Follower'
          type: JMX
          key: 'jmx["kafka.network:type=RequestMetrics,name=LocalTimeMs,request=FetchFollower","Count"]'
          delay: 60s
          history: 30d
          trends: 90d
          units: ms
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 45a398ba2f85458494c648012fa681e7
          name: 'Time the request being processed at the leader Produce'
          type: JMX
          key: 'jmx["kafka.network:type=RequestMetrics,name=LocalTimeMs,request=Produce","Count"]'
          delay: 60s
          history: 30d
          trends: 90d
          units: ms
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 9de1621d17a5452f8b053373154ef24a
          name: 'Time the request waits for the follower Fetch-Consumer'
          type: JMX
          key: 'jmx["kafka.network:type=RequestMetrics,name=RemoteTimeMs,request=FetchConsumer","Count"]'
          delay: 60s
          history: 30d
          trends: 90d
          units: ms
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 5d40a9f24a9544c490653c39fabcc976
          name: 'Time the request waits for the follower Fetch-Follower'
          type: JMX
          key: 'jmx["kafka.network:type=RequestMetrics,name=RemoteTimeMs,request=FetchFollower","Count"]'
          delay: 60s
          history: 30d
          trends: 90d
          units: ms
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: f90c177d054b4fafbffbfd7d1d851986
          name: 'Time the request waits for the follower Produce'
          type: JMX
          key: 'jmx["kafka.network:type=RequestMetrics,name=RemoteTimeMs,request=Produce","Count"]'
          delay: 60s
          history: 30d
          trends: 90d
          units: ms
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 6f96d8c60ba34524880141e4462145db
          name: 'Time the request waiting in the request queue Fetch-Consumer'
          type: JMX
          key: 'jmx["kafka.network:type=RequestMetrics,name=RequestQueueTimeMs,request=FetchConsumer","Count"]'
          delay: 60s
          history: 30d
          trends: 90d
          units: ms
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 98165de32ff94dd18555033f3fbaa388
          name: 'Time the request waiting in the request queue Fetch-Follower'
          type: JMX
          key: 'jmx["kafka.network:type=RequestMetrics,name=RequestQueueTimeMs,request=FetchFollower","Count"]'
          delay: 60s
          history: 30d
          trends: 90d
          units: ms
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 25bc6a05112e47c5a672d1de91f2fd42
          name: 'Time the request waiting in the request queue Produce'
          type: JMX
          key: 'jmx["kafka.network:type=RequestMetrics,name=RequestQueueTimeMs,request=Produce","Count"]'
          delay: 60s
          history: 30d
          trends: 90d
          units: ms
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 7a9db9cadfba4450a34bb8e116671a88
          name: 'Time to send the response Fetch-Consumer'
          type: JMX
          key: 'jmx["kafka.network:type=RequestMetrics,name=ResponseSendTimeMs,request=FetchConsumer","Count"]'
          delay: 60s
          history: 30d
          trends: 90d
          units: ms
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 2cc92c92e0ee4d5abf46dc7a4b96618b
          name: 'Time to send the response Fetch-Follower'
          type: JMX
          key: 'jmx["kafka.network:type=RequestMetrics,name=ResponseSendTimeMs,request=FetchFollower","Count"]'
          delay: 60s
          history: 30d
          trends: 90d
          units: ms
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 2e5e3f841d3140acbcc9730465d704b9
          name: 'Time to send the response Produce'
          type: JMX
          key: 'jmx["kafka.network:type=RequestMetrics,name=ResponseSendTimeMs,request=Produce","Count"]'
          delay: 60s
          history: 30d
          trends: 90d
          units: ms
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 33c73000730647568edc8b56b9734c47
          name: 'Request total time Fetch-Consumer'
          type: JMX
          key: 'jmx["kafka.network:type=RequestMetrics,name=TotalTimeMs,request=FetchConsumer","Count"]'
          delay: 60s
          history: 30d
          trends: 90d
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 28240d509a71421fbdf1035a9d009541
          name: 'Request total time Fetch-Follower'
          type: JMX
          key: 'jmx["kafka.network:type=RequestMetrics,name=TotalTimeMs,request=FetchFollower","Count"]'
          delay: 60s
          history: 30d
          trends: 90d
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 70e32f81d9e244258eaa189cedc1a146
          name: 'Request total time Produce'
          type: JMX
          key: 'jmx["kafka.network:type=RequestMetrics,name=TotalTimeMs,request=Produce","Count"]'
          delay: 60s
          history: 30d
          trends: 90d
          units: ms
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 190babcf47174f5d80c1ad4412477954
          name: 'The average fraction of time the network processors are idle'
          type: JMX
          key: 'jmx["kafka.network:type=SocketServer,name=NetworkProcessorAvgIdlePercent","Value"]'
          delay: 60s
          history: 30d
          trends: 90d
          value_type: FLOAT
          units: '%'
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 7f3941feabdd4e149cb4b2f4468d9744
          name: 'Bytes In Per Sec FifteenMinuteRate'
          type: JMX
          key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesInPerSec","FifteenMinuteRate"]'
          delay: 60s
          history: 30d
          trends: 90d
          value_type: FLOAT
          units: Bps
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 2894b3d2997c44c1b6894b36725deccc
          name: 'Bytes In Per Sec FiveMinuteRate'
          type: JMX
          key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesInPerSec","FiveMinuteRate"]'
          delay: 60s
          history: 30d
          trends: 90d
          value_type: FLOAT
          units: Bps
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 5aed95b530f74764a04309e49e8d6d7a
          name: 'Bytes In Per Sec MeanRate'
          type: JMX
          key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesInPerSec","MeanRate"]'
          delay: 60s
          history: 30d
          trends: 90d
          value_type: FLOAT
          units: Bps
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 237fde1b6cfa48028bf066cb0c460fb2
          name: 'Bytes In Per Sec OneMinuteRate'
          type: JMX
          key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesInPerSec","OneMinuteRate"]'
          delay: 60s
          history: 30d
          trends: 90d
          value_type: FLOAT
          units: Bps
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: bb511d0c6cc443199772588a458478e0
          name: 'Bytes Out Per Sec FifteenMinuteRate'
          type: JMX
          key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesOutPerSec","FifteenMinuteRate"]'
          delay: 60s
          history: 30d
          trends: 90d
          value_type: FLOAT
          units: Bps
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 8cdbbd44ee9b43bcaff857c797f2518a
          name: 'Bytes Out Per Sec FiveMinuteRate'
          type: JMX
          key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesOutPerSec","FiveMinuteRate"]'
          delay: 60s
          history: 30d
          trends: 90d
          value_type: FLOAT
          units: Bps
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: c5fccc348bb84a79bd796a18feecb430
          name: 'Bytes Out Per Sec MeanRate'
          type: JMX
          key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesOutPerSec","MeanRate"]'
          delay: 60s
          history: 30d
          trends: 90d
          value_type: FLOAT
          units: Bps
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: b038f4c82af143ae82de0f515758f377
          name: 'Bytes Out Per Sec OneMinuteRate'
          type: JMX
          key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesOutPerSec","OneMinuteRate"]'
          delay: 60s
          history: 30d
          trends: 90d
          value_type: FLOAT
          units: Bps
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 965f5d3ff3794679a2060fc02a5c9996
          name: 'Messages In Per Sec FifteenMinuteRate'
          type: JMX
          key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=MessagesInPerSec","FifteenMinuteRate"]'
          delay: 60s
          history: 30d
          trends: 90d
          value_type: FLOAT
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: dbce1866db854c7d88b144ba869b97bf
          name: 'Messages In Per Sec FiveMinuteRate'
          type: JMX
          key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=MessagesInPerSec","FiveMinuteRate"]'
          delay: 60s
          history: 30d
          trends: 90d
          value_type: FLOAT
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 01f3c57eecdc441185cfa8b2efd636a1
          name: 'Messages In Per Sec MeanRate'
          type: JMX
          key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=MessagesInPerSec","MeanRate"]'
          delay: 60s
          history: 30d
          trends: 90d
          value_type: FLOAT
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: d649dbe78d8b4a798dad8560ed37f68a
          name: 'Messages In Per Sec OneMinuteRate'
          type: JMX
          key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=MessagesInPerSec","OneMinuteRate"]'
          delay: 60s
          history: 30d
          trends: 90d
          value_type: FLOAT
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: c1fac38e4ec64e49a0aa10ff1a028b6c
          name: 'Byte in rate to other brokers FifteenMinuteRate'
          type: JMX
          key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=ReplicationBytesInPerSec","FifteenMinuteRate"]'
          delay: 60s
          history: 30d
          trends: 90d
          value_type: FLOAT
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: bfc54d85561848cf8dcddec2cd93a947
          name: 'Byte in rate to other brokers FiveMinuteRate'
          type: JMX
          key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=ReplicationBytesInPerSec","FiveMinuteRate"]'
          delay: 60s
          history: 30d
          trends: 90d
          value_type: FLOAT
          units: Bps
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: f4a4a88ab40740ecac62b8383cc45721
          name: 'Byte in rate to other brokers MeanRate'
          type: JMX
          key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=ReplicationBytesInPerSec","MeanRate"]'
          delay: 60s
          history: 30d
          trends: 90d
          value_type: FLOAT
          units: Bps
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: af220777cfe64ad0a9f7d28e798e3720
          name: 'Byte in rate to other brokers OneMinuteRate'
          type: JMX
          key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=ReplicationBytesInPerSec","OneMinuteRate"]'
          delay: 60s
          history: 30d
          trends: 90d
          value_type: FLOAT
          units: Bps
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 3d17c7f2c9dc4917b20151cef452b3ef
          name: 'Byte out rate to other brokers FifteenMinuteRate'
          type: JMX
          key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=ReplicationBytesOutPerSec","FifteenMinuteRate"]'
          delay: 60s
          history: 30d
          trends: 90d
          value_type: FLOAT
          units: Bps
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: ea28c8196a63428da3d291f76afdac12
          name: 'Byte out rate to other brokers FiveMinuteRate'
          type: JMX
          key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=ReplicationBytesOutPerSec","FiveMinuteRate"]'
          delay: 60s
          history: 30d
          trends: 90d
          value_type: FLOAT
          units: Bps
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 88fe02c34269408088dfdccc6f7ff544
          name: 'Byte out rate to other brokers MeanRate'
          type: JMX
          key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=ReplicationBytesOutPerSec","MeanRate"]'
          delay: 60s
          history: 30d
          trends: 90d
          value_type: FLOAT
          units: Bps
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: c048a30281954fcd84df0cd601777aed
          name: 'Byte out rate to other brokers OneMinuteRate'
          type: JMX
          key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=ReplicationBytesOutPerSec","OneMinuteRate"]'
          delay: 60s
          history: 30d
          trends: 90d
          value_type: FLOAT
          units: Bps
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 0012d5b003d94008a9d68014aa3e031a
          name: 'The average fraction of time the request handler threads are idle FifteenMinuteRate'
          type: JMX
          key: 'jmx["kafka.server:type=KafkaRequestHandlerPool,name=RequestHandlerAvgIdlePercent","FifteenMinuteRate"]'
          delay: 60s
          history: 30d
          trends: 90d
          value_type: FLOAT
          units: '%'
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 523b27f8327d433a8c73a9207593d782
          name: 'The average fraction of time the request handler threads are idle FiveMinuteRate'
          type: JMX
          key: 'jmx["kafka.server:type=KafkaRequestHandlerPool,name=RequestHandlerAvgIdlePercent","FiveMinuteRate"]'
          delay: 60s
          history: 30d
          trends: 90d
          value_type: FLOAT
          units: '%'
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 91885a2629ec4e11910f66e1f825ba7b
          name: 'The average fraction of time the request handler threads are idle OneMinuteRate'
          type: JMX
          key: 'jmx["kafka.server:type=KafkaRequestHandlerPool,name=RequestHandlerAvgIdlePercent","OneMinuteRate"]'
          delay: 60s
          history: 30d
          trends: 90d
          value_type: FLOAT
          units: '%'
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 7e82dbac8d86430cbe3432de873806bd
          name: 'Max lag in messages btw follower and leader replicas'
          type: JMX
          key: 'jmx["kafka.server:type=ReplicaFetcherManager,name=MaxLag,clientId=Replica","Value"]'
          delay: 60s
          history: 30d
          trends: 90d
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
          triggers:
            -
              uuid: 2d99ebb43e5f481fbc26580ff3f2f412
              expression: 'last(/App Kafka/jmx["kafka.server:type=ReplicaFetcherManager,name=MaxLag,clientId=Replica","Value"])>=2000'
              name: 'Max lag in messages btw follower and leader replicas > 2000'
              priority: WARNING
              dependencies:
                -
                  name: 'Max lag in messages btw follower and leader replicas > 3000'
                  expression: 'last(/App Kafka/jmx["kafka.server:type=ReplicaFetcherManager,name=MaxLag,clientId=Replica","Value"])>=3000'
            -
              uuid: 7437f5eaedcf4338a9f897cc9d0fa012
              expression: 'last(/App Kafka/jmx["kafka.server:type=ReplicaFetcherManager,name=MaxLag,clientId=Replica","Value"])>=3000'
              name: 'Max lag in messages btw follower and leader replicas > 3000'
              priority: AVERAGE
              dependencies:
                -
                  name: 'Max lag in messages btw follower and leader replicas > 4000'
                  expression: 'last(/App Kafka/jmx["kafka.server:type=ReplicaFetcherManager,name=MaxLag,clientId=Replica","Value"])>=4000'
            -
              uuid: 30b60976844d475aa554d1a2af418015
              expression: 'last(/App Kafka/jmx["kafka.server:type=ReplicaFetcherManager,name=MaxLag,clientId=Replica","Value"])>=4000'
              name: 'Max lag in messages btw follower and leader replicas > 4000'
              priority: HIGH
        -
          uuid: 5f8d20da2b7745d0842d5912b79efe78
          name: 'ISR expansion rate'
          type: JMX
          key: 'jmx["kafka.server:type=ReplicaManager,name=IsrExpandsPerSec","Count"]'
          delay: 60s
          history: 30d
          trends: 90d
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
          triggers:
            -
              uuid: d64ecb886f854df189ecf4722b382b30
              expression: '(max(/App Kafka/jmx["kafka.server:type=ReplicaManager,name=IsrExpandsPerSec","Count"],900s)-min(/App Kafka/jmx["kafka.server:type=ReplicaManager,name=IsrExpandsPerSec","Count"],900s))<>0'
              name: 'ISR has increased in last 15m'
              priority: HIGH
        -
          uuid: 37c64eaf0f8f45d5b8ccc47b2f6c2b78
          name: 'ISR shrink rate'
          type: JMX
          key: 'jmx["kafka.server:type=ReplicaManager,name=IsrShrinksPerSec","Count"]'
          delay: 60s
          history: 30d
          trends: 90d
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
          triggers:
            -
              uuid: 5d0900e8d566489fa12910e139781d05
              expression: '(max(/App Kafka/jmx["kafka.server:type=ReplicaManager,name=IsrShrinksPerSec","Count"],900s)-min(/App Kafka/jmx["kafka.server:type=ReplicaManager,name=IsrShrinksPerSec","Count"],900s))<>0'
              name: 'ISR has decreased in last 15m'
              status: DISABLED
              priority: INFO
        -
          uuid: 23f16c5c8fb44044a19b1e9bcc343196
          name: 'Leader replica counts'
          type: JMX
          key: 'jmx["kafka.server:type=ReplicaManager,name=LeaderCount","Value"]'
          delay: 60s
          history: 30d
          trends: 90d
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: b2f2c2789b1646f8b3021544c7f04f0f
          name: 'Partition Count'
          type: JMX
          key: 'jmx["kafka.server:type=ReplicaManager,name=PartitionCount","Value"]'
          delay: 60s
          history: 30d
          trends: 90d
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: ec87baf198ee483f9041c81bf11c4109
          name: '# of under replicated partitions (|ISR| < |all replicas|)'
          type: JMX
          key: 'jmx["kafka.server:type=ReplicaManager,name=UnderReplicatedPartitions","Value"]'
          delay: 60s
          history: 30d
          trends: 90d
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
          triggers:
            -
              uuid: cc683485979c4cf7bb092b271164c0eb
              expression: 'last(/App Kafka/jmx["kafka.server:type=ReplicaManager,name=UnderReplicatedPartitions","Value"])<>0'
              name: 'Under replicated partitions'
              priority: HIGH
        -
          uuid: 1da131fd12f74938b651ddc169f3a657
          name: HeapMemoryUsage
          type: JMX
          key: 'jmx[java.lang:type=Memory,HeapMemoryUsage.used]'
          delay: 60s
          history: 30d
          trends: 90d
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 9b4b7934c0b948b29e29887f33adae95
          name: NonHeapMemoryUsage
          type: JMX
          key: 'jmx[java.lang:type=Memory,NonHeapMemoryUsage.used]'
          delay: 60s
          history: 30d
          trends: 90d
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 1cf2dcc434f64f3db44bac1d0f9a3941
          name: 'Open File Descriptor Count'
          type: JMX
          key: 'jmx[java.lang:type=OperatingSystem,OpenFileDescriptorCount]'
          delay: 60s
          history: 30d
          trends: 90d
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 6c41a886bf9a4674b69e2e50ac5c4728
          name: 'Daemon threads'
          type: JMX
          key: 'jmx[java.lang:type=Threading,DaemonThreadCount]'
          delay: 60s
          history: 30d
          trends: 90d
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 97e98a79489a4f1081e573f06eb94d86
          name: 'Peak threads'
          type: JMX
          key: 'jmx[java.lang:type=Threading,PeakThreadCount]'
          delay: 60s
          history: 30d
          trends: 90d
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
        -
          uuid: 1380b3b65699439ebfd3bfbde13218c0
          name: 'Live threads'
          type: JMX
          key: 'jmx[java.lang:type=Threading,ThreadCount]'
          delay: 60s
          history: 30d
          trends: 90d
          username: '{$JMX_USER}'
          password: '{$JMX_PASS}'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
          tags:
            -
              tag: Application
              value: Kafka
      discovery_rules:
        -
          uuid: 0726cfda66cd4f16bfe7826bbd38e863
          name: 'Under Replicated partitions'
          type: JMX
          key: 'jmx.discovery[beans,"kafka.cluster:type=Partition,name=UnderReplicated,topic=*,partition=*"]'
          delay: 30s
          filter:
            conditions:
              -
                macro: '{#JMXTOPIC}'
                value: '^[^_]\w+'
                formulaid: A
          item_prototypes:
            -
              uuid: f123862544d94bd5ab2f5ffc104d3423
              name: '{#JMXTOPIC} under replicated partition {#JMXPARTITION}'
              type: JMX
              key: 'jmx["kafka.cluster:type=Partition,name=UnderReplicated,topic={#JMXTOPIC},partition={#JMXPARTITION}","Value"]'
              delay: 30s
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: 'Kafka Topics'
              trigger_prototypes:
                -
                  uuid: 3f570a686567463b8b4f258e740bbe40
                  expression: 'last(/App Kafka/jmx["kafka.cluster:type=Partition,name=UnderReplicated,topic={#JMXTOPIC},partition={#JMXPARTITION}","Value"])=1'
                  name: '{#JMXTOPIC} hash under replicated partition {#JMXPARTITION}'
                  priority: AVERAGE
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          uuid: a62e363b7a3544379a8f2c5564779750
          name: 'Request rate Fetch Consumer Version discovery'
          type: JMX
          key: 'jmx.discovery[beans,"kafka.network:type=RequestMetrics,name=RequestsPerSec,request=FetchConsumer,version=*"]'
          delay: 30s
          item_prototypes:
            -
              uuid: fd6f84e24f3e49c2b022826f40e6da4e
              name: 'Request rate Fetch Consumer v{#JMXVERSION}'
              type: JMX
              key: 'jmx["kafka.network:type=RequestMetrics,name=RequestsPerSec,request=FetchConsumer,version={#JMXVERSION}","Count"]'
              delay: 60s
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Kafka
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          uuid: 2279ca1b2de648d1910a3106b6182a0c
          name: 'Request rate Fetch Follower Version discovery'
          type: JMX
          key: 'jmx.discovery[beans,"kafka.network:type=RequestMetrics,name=RequestsPerSec,request=FetchFollower,version=*"]'
          delay: 30s
          item_prototypes:
            -
              uuid: 2422f4b2bda64e5ebf65e144ab077bcd
              name: 'Request rate Fetch Follower v{#JMXVERSION}'
              type: JMX
              key: 'jmx["kafka.network:type=RequestMetrics,name=RequestsPerSec,request=FetchFollower,version={#JMXVERSION}","Count"]'
              delay: 60s
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Kafka
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          uuid: e57f7b291d7e4cd6a663a85748b6f732
          name: 'Request rate Produce Version discovery'
          type: JMX
          key: 'jmx.discovery[beans,"kafka.network:type=RequestMetrics,name=RequestsPerSec,request=Produce,version=*"]'
          delay: 30s
          item_prototypes:
            -
              uuid: 5a55108bd29b4762afc494e09973c44f
              name: 'Request rate Produce v{#JMXVERSION}'
              type: JMX
              key: 'jmx["kafka.network:type=RequestMetrics,name=RequestsPerSec,request=Produce,version={#JMXVERSION}","Count"]'
              delay: 60s
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: Kafka
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          uuid: 60eaa50ac8dd478dbea3ebe2f64fb9d4
          name: 'Topic Discovery'
          type: JMX
          key: 'jmx.discovery[beans,"kafka.server:type=BrokerTopicMetrics,name=BytesInPerSec,topic=*"]'
          delay: 60s
          filter:
            conditions:
              -
                macro: '{#JMXTOPIC}'
                value: '^[^_]\w+'
                formulaid: A
          item_prototypes:
            -
              uuid: 9a47b78e087246d08cbd747187dec859
              name: '{#JMXTOPIC} BytesInPerSec FifteenMinuteRate'
              type: JMX
              key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesInPerSec,topic={#JMXTOPIC}","FifteenMinuteRate"]'
              delay: 60s
              value_type: FLOAT
              units: Bps
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: 'Kafka Topics'
            -
              uuid: a86feed79dc84e45808574049f0329fb
              name: '{#JMXTOPIC} BytesInPerSec FiveMinuteRate'
              type: JMX
              key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesInPerSec,topic={#JMXTOPIC}","FiveMinuteRate"]'
              delay: 60s
              value_type: FLOAT
              units: Bps
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: 'Kafka Topics'
            -
              uuid: ec2d2f78da374c4ba35797c5fc850ff9
              name: '{#JMXTOPIC} BytesInPerSec MeanRate'
              type: JMX
              key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesInPerSec,topic={#JMXTOPIC}","MeanRate"]'
              delay: 60s
              value_type: FLOAT
              units: Bps
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: 'Kafka Topics'
            -
              uuid: 43c72ddb4344463f929306fe90d91b43
              name: '{#JMXTOPIC} BytesInPerSec OneMinuteRate'
              type: JMX
              key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesInPerSec,topic={#JMXTOPIC}","OneMinuteRate"]'
              delay: 60s
              value_type: FLOAT
              units: Bps
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: 'Kafka Topics'
            -
              uuid: a6f3b5bcf35e4c929959bd50d4800d8a
              name: '{#JMXTOPIC} BytesOutPerSec FifteenMinuteRate'
              type: JMX
              key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesOutPerSec,topic={#JMXTOPIC}","FifteenMinuteRate"]'
              delay: 60s
              value_type: FLOAT
              units: Bps
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: 'Kafka Topics'
            -
              uuid: 32750862c3614741a300d17013fb2d4c
              name: '{#JMXTOPIC} BytesOutPerSec FiveMinuteRate'
              type: JMX
              key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesOutPerSec,topic={#JMXTOPIC}","FiveMinuteRate"]'
              delay: 60s
              value_type: FLOAT
              units: Bps
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: 'Kafka Topics'
            -
              uuid: 7617cf848e87485582eae65b8c13fb4b
              name: '{#JMXTOPIC} BytesOutPerSec MeanRate'
              type: JMX
              key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesOutPerSec,topic={#JMXTOPIC}","MeanRate"]'
              delay: 60s
              value_type: FLOAT
              units: Bps
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: 'Kafka Topics'
            -
              uuid: 9bd24f8d1a4147d19e2782bad2fd685d
              name: '{#JMXTOPIC} BytesOutPerSec OneMinuteRate'
              type: JMX
              key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesOutPerSec,topic={#JMXTOPIC}","OneMinuteRate"]'
              delay: 60s
              value_type: FLOAT
              units: Bps
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: 'Kafka Topics'
            -
              uuid: f0119965ceca4ee8b7bdbdded8f23c7a
              name: '{#JMXTOPIC} MessagesInPerSec FifteenMinuteRate'
              type: JMX
              key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=MessagesInPerSec,topic={#JMXTOPIC}","FifteenMinuteRate"]'
              delay: 60s
              value_type: FLOAT
              units: Messages/s
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: 'Kafka Topics'
            -
              uuid: 786fd23917394309931b3f4db711fafa
              name: '{#JMXTOPIC} MessagesInPerSec FiveMinuteRate'
              type: JMX
              key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=MessagesInPerSec,topic={#JMXTOPIC}","FiveMinuteRate"]'
              delay: 60s
              value_type: FLOAT
              units: Messages/s
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: 'Kafka Topics'
            -
              uuid: aa372e46bf71426db927a306cb1ec519
              name: '{#JMXTOPIC} MessagesInPerSec MeanRate'
              type: JMX
              key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=MessagesInPerSec,topic={#JMXTOPIC}","MeanRate"]'
              delay: 60s
              value_type: FLOAT
              units: Messages/s
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: 'Kafka Topics'
            -
              uuid: 4bd84176d804439ea961ddfb33483f78
              name: '{#JMXTOPIC} MessagesInPerSec OneMinuteRate'
              type: JMX
              key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=MessagesInPerSec,topic={#JMXTOPIC}","OneMinuteRate"]'
              delay: 60s
              value_type: FLOAT
              units: Messages/s
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: 'Kafka Topics'
          graph_prototypes:
            -
              uuid: 85f72e2f6b8e4b9b97ff7df90611ee75
              name: '{#JMXTOPIC} BytesPerSec'
              graph_items:
                -
                  color: 1A7C11
                  item:
                    host: 'App Kafka'
                    key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesInPerSec,topic={#JMXTOPIC}","FifteenMinuteRate"]'
                -
                  sortorder: '1'
                  color: F63100
                  item:
                    host: 'App Kafka'
                    key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesInPerSec,topic={#JMXTOPIC}","FiveMinuteRate"]'
                -
                  sortorder: '2'
                  color: 2774A4
                  item:
                    host: 'App Kafka'
                    key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesInPerSec,topic={#JMXTOPIC}","MeanRate"]'
                -
                  sortorder: '3'
                  color: A54F10
                  item:
                    host: 'App Kafka'
                    key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesInPerSec,topic={#JMXTOPIC}","OneMinuteRate"]'
                -
                  sortorder: '4'
                  color: FC6EA3
                  item:
                    host: 'App Kafka'
                    key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesOutPerSec,topic={#JMXTOPIC}","FifteenMinuteRate"]'
                -
                  sortorder: '5'
                  color: 6C59DC
                  item:
                    host: 'App Kafka'
                    key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesOutPerSec,topic={#JMXTOPIC}","FiveMinuteRate"]'
                -
                  sortorder: '6'
                  color: AC8C14
                  item:
                    host: 'App Kafka'
                    key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesOutPerSec,topic={#JMXTOPIC}","MeanRate"]'
                -
                  sortorder: '7'
                  color: 611F27
                  item:
                    host: 'App Kafka'
                    key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesOutPerSec,topic={#JMXTOPIC}","OneMinuteRate"]'
            -
              uuid: 074a33f4fd024507943cd0c2523fa18c
              name: '{#JMXTOPIC} MessagesInPerSec'
              graph_items:
                -
                  color: 1A7C11
                  item:
                    host: 'App Kafka'
                    key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=MessagesInPerSec,topic={#JMXTOPIC}","FifteenMinuteRate"]'
                -
                  sortorder: '1'
                  color: F63100
                  item:
                    host: 'App Kafka'
                    key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=MessagesInPerSec,topic={#JMXTOPIC}","FiveMinuteRate"]'
                -
                  sortorder: '2'
                  color: 2774A4
                  item:
                    host: 'App Kafka'
                    key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=MessagesInPerSec,topic={#JMXTOPIC}","MeanRate"]'
                -
                  sortorder: '3'
                  color: A54F10
                  item:
                    host: 'App Kafka'
                    key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=MessagesInPerSec,topic={#JMXTOPIC}","OneMinuteRate"]'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
        -
          uuid: a6c203f8bf784892957129e881486481
          name: 'Lag in messages per follower Discovery'
          type: JMX
          key: 'jmx.discovery[beans,"kafka.server:type=FetcherLagMetrics,name=ConsumerLag,*"]'
          delay: 30s
          filter:
            conditions:
              -
                macro: '{#JMXTOPIC}'
                value: '^[^_]\w+'
                formulaid: A
          item_prototypes:
            -
              uuid: a54aff348a9445ceac39258515eff9d5
              name: 'Lag in messages per follower: node {#JMXCLIENTID} {#JMXTOPIC} {#JMXPARTITION}'
              type: JMX
              key: 'jmx["kafka.server:type=FetcherLagMetrics,name=ConsumerLag,clientId={#JMXCLIENTID},topic={#JMXTOPIC},partition={#JMXPARTITION}","Value"]'
              delay: 60s
              jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
              tags:
                -
                  tag: Application
                  value: 'Kafka Topics'
          jmx_endpoint: 'service:jmx:rmi:///jndi/rmi://{HOST.CONN}:{HOST.PORT}/jmxrmi'
  graphs:
    -
      uuid: d253162ee23141e8bc850a528c537930
      name: 'Bytes Per Sec FifteenMinuteRate'
      show_work_period: 'NO'
      show_triggers: 'NO'
      graph_items:
        -
          drawtype: GRADIENT_LINE
          color: 0000DD
          item:
            host: 'App Kafka'
            key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesOutPerSec","FifteenMinuteRate"]'
        -
          sortorder: '1'
          color: 00C800
          item:
            host: 'App Kafka'
            key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesInPerSec","FifteenMinuteRate"]'
    -
      uuid: ff14440a826340829b778655ad1e3399
      name: 'Bytes Per Sec FiveMinuteRate'
      show_work_period: 'NO'
      show_triggers: 'NO'
      graph_items:
        -
          drawtype: GRADIENT_LINE
          color: 0000DD
          item:
            host: 'App Kafka'
            key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesOutPerSec","FiveMinuteRate"]'
        -
          sortorder: '1'
          color: 00C800
          item:
            host: 'App Kafka'
            key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesInPerSec","FiveMinuteRate"]'
    -
      uuid: 0c2345b155834869ac45d60278c54758
      name: 'Bytes Per Sec MeanRate'
      show_work_period: 'NO'
      show_triggers: 'NO'
      graph_items:
        -
          drawtype: GRADIENT_LINE
          color: 0000DD
          item:
            host: 'App Kafka'
            key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesOutPerSec","MeanRate"]'
        -
          sortorder: '1'
          color: 00C800
          item:
            host: 'App Kafka'
            key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesInPerSec","MeanRate"]'
    -
      uuid: c1845d4b156343e3a5ab51a4f74b432d
      name: 'Bytes Per Sec OneMinuteRate'
      show_work_period: 'NO'
      show_triggers: 'NO'
      graph_items:
        -
          drawtype: GRADIENT_LINE
          color: 0000DD
          item:
            host: 'App Kafka'
            key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesOutPerSec","OneMinuteRate"]'
        -
          sortorder: '1'
          color: 00C800
          item:
            host: 'App Kafka'
            key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=BytesInPerSec","OneMinuteRate"]'
    -
      uuid: 9507476c1b414a419e14dbd6ee9e9253
      name: CollectionCount
      graph_items:
        -
          color: 00C800
          item:
            host: 'App Kafka'
            key: 'jmx["java.lang:type=GarbageCollector,name=G1 Old Generation","CollectionCount"]'
        -
          sortorder: '1'
          color: C80000
          item:
            host: 'App Kafka'
            key: 'jmx["java.lang:type=GarbageCollector,name=G1 Young Generation","CollectionCount"]'
    -
      uuid: 273691ff687648bf9998ccc70fc30207
      name: 'Heap Memory Usage'
      graph_items:
        -
          drawtype: GRADIENT_LINE
          color: 00C800
          item:
            host: 'App Kafka'
            key: 'jmx[java.lang:type=Memory,HeapMemoryUsage.used]'
        -
          sortorder: '1'
          color: C80000
          item:
            host: 'App Kafka'
            key: 'jmx[java.lang:type=Memory,NonHeapMemoryUsage.used]'
    -
      uuid: 4432704eff26443ebada324e2c0703db
      name: 'Log Flushes'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'App Kafka'
            key: 'jmx["kafka.log:type=LogFlushStats,name=LogFlushRateAndTimeMs","50thPercentile"]'
        -
          sortorder: '1'
          color: F63100
          item:
            host: 'App Kafka'
            key: 'jmx["kafka.log:type=LogFlushStats,name=LogFlushRateAndTimeMs","75thPercentile"]'
        -
          sortorder: '2'
          color: 2774A4
          item:
            host: 'App Kafka'
            key: 'jmx["kafka.log:type=LogFlushStats,name=LogFlushRateAndTimeMs","95thPercentile"]'
    -
      uuid: ae67968716b7426cbffdfccb31dade96
      name: 'Messages In Per Sec'
      graph_items:
        -
          drawtype: GRADIENT_LINE
          color: 00C800
          item:
            host: 'App Kafka'
            key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=MessagesInPerSec","OneMinuteRate"]'
        -
          sortorder: '1'
          color: C80000
          item:
            host: 'App Kafka'
            key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=MessagesInPerSec","FifteenMinuteRate"]'
        -
          sortorder: '2'
          color: 0000C8
          item:
            host: 'App Kafka'
            key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=MessagesInPerSec","FiveMinuteRate"]'
        -
          sortorder: '3'
          color: C800C8
          item:
            host: 'App Kafka'
            key: 'jmx["kafka.server:type=BrokerTopicMetrics,name=MessagesInPerSec","MeanRate"]'
    -
      uuid: 9b6cea59f6a84023898e0f3db6dc72bf
      name: 'Open File Descriptor Count'
      graph_items:
        -
          drawtype: GRADIENT_LINE
          color: 00C800
          item:
            host: 'App Kafka'
            key: 'jmx[java.lang:type=OperatingSystem,OpenFileDescriptorCount]'
    -
      uuid: c22487ab1d8a41dca816511375cce686
      name: 'Request total time'
      graph_items:
        -
          color: 00C800
          item:
            host: 'App Kafka'
            key: 'jmx["kafka.network:type=RequestMetrics,name=TotalTimeMs,request=FetchConsumer","Count"]'
        -
          sortorder: '1'
          color: C80000
          item:
            host: 'App Kafka'
            key: 'jmx["kafka.network:type=RequestMetrics,name=TotalTimeMs,request=FetchFollower","Count"]'
        -
          sortorder: '2'
          color: 0000C8
          item:
            host: 'App Kafka'
            key: 'jmx["kafka.network:type=RequestMetrics,name=TotalTimeMs,request=Produce","Count"]'
    -
      uuid: d23a23f2a93a49a1b2a3c201d394c6bb
      name: 'Thread Count'
      graph_items:
        -
          color: 00C800
          item:
            host: 'App Kafka'
            key: 'jmx[java.lang:type=Threading,ThreadCount]'
        -
          sortorder: '1'
          color: C80000
          item:
            host: 'App Kafka'
            key: 'jmx[java.lang:type=Threading,PeakThreadCount]'
        -
          sortorder: '2'
          color: 0000C8
          item:
            host: 'App Kafka'
            key: 'jmx[java.lang:type=Threading,DaemonThreadCount]'
    -
      uuid: a006b0363be740e49918ca9dc8d5797f
      name: 'Time the request being processed at the leader'
      graph_items:
        -
          color: 00C800
          item:
            host: 'App Kafka'
            key: 'jmx["kafka.network:type=RequestMetrics,name=LocalTimeMs,request=FetchConsumer","Count"]'
        -
          sortorder: '1'
          color: C80000
          item:
            host: 'App Kafka'
            key: 'jmx["kafka.network:type=RequestMetrics,name=LocalTimeMs,request=FetchFollower","Count"]'
        -
          sortorder: '2'
          color: 0000C8
          item:
            host: 'App Kafka'
            key: 'jmx["kafka.network:type=RequestMetrics,name=LocalTimeMs,request=Produce","Count"]'
    -
      uuid: 0eb3f546ebef4b99984e81b5fd55d250
      name: 'Time the request waiting in the request queue'
      graph_items:
        -
          color: 00C800
          item:
            host: 'App Kafka'
            key: 'jmx["kafka.network:type=RequestMetrics,name=RequestQueueTimeMs,request=FetchConsumer","Count"]'
        -
          sortorder: '1'
          color: C80000
          item:
            host: 'App Kafka'
            key: 'jmx["kafka.network:type=RequestMetrics,name=RequestQueueTimeMs,request=FetchFollower","Count"]'
        -
          sortorder: '2'
          color: 0000C8
          item:
            host: 'App Kafka'
            key: 'jmx["kafka.network:type=RequestMetrics,name=RequestQueueTimeMs,request=Produce","Count"]'
    -
      uuid: e3675c44f3d84ecf89e42d5a21c35fce
      name: 'Time the request waits for the follower'
      graph_items:
        -
          color: 00C800
          item:
            host: 'App Kafka'
            key: 'jmx["kafka.network:type=RequestMetrics,name=RemoteTimeMs,request=FetchConsumer","Count"]'
        -
          sortorder: '1'
          color: C80000
          item:
            host: 'App Kafka'
            key: 'jmx["kafka.network:type=RequestMetrics,name=RemoteTimeMs,request=FetchFollower","Count"]'
        -
          sortorder: '2'
          color: 0000C8
          item:
            host: 'App Kafka'
            key: 'jmx["kafka.network:type=RequestMetrics,name=RemoteTimeMs,request=Produce","Count"]'
    -
      uuid: ad7c93a66ac24a328bb2cd2b529f8869
      name: 'Time to send the response'
      graph_items:
        -
          color: 00C800
          item:
            host: 'App Kafka'
            key: 'jmx["kafka.network:type=RequestMetrics,name=ResponseSendTimeMs,request=FetchConsumer","Count"]'
        -
          sortorder: '1'
          color: C80000
          item:
            host: 'App Kafka'
            key: 'jmx["kafka.network:type=RequestMetrics,name=ResponseSendTimeMs,request=FetchFollower","Count"]'
        -
          sortorder: '2'
          color: 0000C8
          item:
            host: 'App Kafka'
            key: 'jmx["kafka.network:type=RequestMetrics,name=ResponseSendTimeMs,request=Produce","Count"]'
