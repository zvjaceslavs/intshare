zabbix_export:
  version: '5.4'
  date: '2021-11-21T21:59:57Z'
  groups:
    -
      uuid: 7df96b18c230490a9a0a9e2307226338
      name: Templates
  templates:
    -
      uuid: 4f20a43639ea4ca3b1fed1f8f5ee368d
      template: 'App PowerDNS dnsdist'
      name: 'App PowerDNS dnsdist'
      description: |
        ## Description
        
        Self-contained Zabbix template to get information about PowerDNS dnsdist. Source: https://github.com/frei-style/zabbix-powerdns-dnsdist-template/
        
        ## Overview
        
        Self-contained Zabbix template to get information about PowerDNS dnsdist.
        
        
        For installation instructions see: [https://github.com/frei-style/zabbix-powerdns-dnsdist-template](cat-app/dns/app-powerdns-dnsdist/visit)
        
        
        
        ## Author
        
        Manuel Frei
        
        
      groups:
        -
          name: Templates
      items:
        -
          uuid: 7022ec41e147430c8b5c009a167ebd33
          name: 'API Statistics'
          type: HTTP_AGENT
          key: pdns.dnsdist.api.statistics
          history: '0'
          trends: '0'
          value_type: TEXT
          url: 'http://{$PDNS.DNSDIST.WEBSERVER.IP}:{$PDNS.DNSDIST.WEBSERVER.PORT}/api/v1/servers/localhost/statistics'
          headers:
            -
              name: X-API-Key
              value: '{$PDNS.DNSDIST.APIKEY}'
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: 4c6950f1d62a4df38092adae53cd062b
          name: acl-drops
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[acl-drops]'
          delay: '0'
          description: 'The number of packets (or TCP messages) dropped because of the ACL. If a packet or message is dropped, it is not counted in the queries statistic.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "acl-drops")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: 17d9f8b8735f44ea813a887064357288
          name: cache-hits
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[cache-hits]'
          delay: '0'
          description: 'Number of times a response was sent using data found in the packet cache.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "cache-hits")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: 790057ace074415fa58143ce485bbc0d
          name: cache-misses
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[cache-misses]'
          delay: '0'
          description: 'Number of times an answer was not found in the packet cache. Only counted if a packet cache was setup for the selected pool.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "cache-misses")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: 81959dea1d2b452a838ed9e283722eb0
          name: cpu-iowait
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[cpu-iowait]'
          delay: '0'
          description: |
            Time spent waiting for I/O to complete by the whole system, in units of USER_HZ.
            
            New in version 1.5.0.
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "cpu-iowait")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: b785ee77aa3a4e048187493599999027
          name: cpu-steal
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[cpu-steal]'
          delay: '0'
          description: |
            Stolen time, which is the time spent by the whole system in other operating systems when running in a virtualized environment, in units of USER_HZ.
            
            New in version 1.5.0.
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "cpu-steal")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: f9dcd29b821e4d78a38fd0a71dd1b192
          name: cpu-sys-msec
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[cpu-sys-msec]'
          delay: '0'
          description: 'Milliseconds spent by dnsdist in the “system” state.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "cpu-sys-msec")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: be3985feb55346fcad031e5cfed6c077
          name: cpu-user-msec
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[cpu-user-msec]'
          delay: '0'
          description: 'Milliseconds spent by dnsdist in the “user” state.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "cpu-user-msec")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: c3f2335b38054e698d91bdce8d9c792f
          name: downstream-send-errors
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[downstream-send-errors]'
          delay: '0'
          description: 'Number of errors when sending a query to a backend.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "downstream-send-errors")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: 83a58ce5bb1b426c8fc0ea0a820414dc
          name: downstream-timeouts
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[downstream-timeouts]'
          delay: '0'
          description: 'Number of queries not answer in time by a backend.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "downstream-timeouts")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: 725d9b46addc447baf486bc23babf202
          name: dyn-block-nmg-size
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[dyn-block-nmg-size]'
          delay: '0'
          description: 'Number of dynamic blocks entries.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "dyn-block-nmg-size")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: f3a960c36c42463c852a8185f3198cb1
          name: dyn-blocked
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[dyn-blocked]'
          delay: '0'
          description: 'Number of queries dropped because of a dynamic block.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "dyn-blocked")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: d83400ab1cd844689735267f0c29005a
          name: empty-queries
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[empty-queries]'
          delay: '0'
          description: 'Number of empty queries received from clients. Every empty-query is also counted as a query.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "empty-queries")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: a94de38c17dd42489f959beb3a937fb2
          name: fd-usage
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[fd-usage]'
          delay: '0'
          description: 'Number of currently used file descriptors.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "fd-usage")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: 4f2067f83a6244e88c607bb5b4b3cf0d
          name: frontend-noerror
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[frontend-noerror]'
          delay: '0'
          description: 'Number of NoError answers sent to clients.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "frontend-noerror")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: fc5bcd8c5fa44fc2a3e934a42af3c5b2
          name: frontend-nxdomain
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[frontend-nxdomain]'
          delay: '0'
          description: 'Number of NXDomain answers sent to clients.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "frontend-nxdomain")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: 3e606db29edf4fe382bd76a6f85d6ea0
          name: frontend-servfail
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[frontend-servfail]'
          delay: '0'
          description: 'Number of ServFail answers sent to clients.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "frontend-servfail")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: 14d21be5bd1b4f20a548fb65ad20336a
          name: latency-avg100
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[latency-avg100]'
          delay: '0'
          description: 'Average response latency in microseconds of the last 100 packets.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "latency-avg100")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: 528c00762e7947b792bb21459a3cdb4b
          name: latency-avg1000
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[latency-avg1000]'
          delay: '0'
          description: 'Average response latency in microseconds of the last 1''000 packets.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "latency-avg1000")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: 4dfcda8896164839907e96094b6a6a07
          name: latency-avg10000
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[latency-avg10000]'
          delay: '0'
          description: 'Average response latency in microseconds of the last 10''000 packets.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "latency-avg10000")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: bbc415cb858d4909bb8aabdb8e4b86fc
          name: latency-avg100000
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[latency-avg100000]'
          delay: '0'
          description: 'Average response latency in microseconds of the last 100''000 packets.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "latency-avg100000")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: 4ca9d15936274216ba97859e7617f3f4
          name: latency-avg1000000
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[latency-avg1000000]'
          delay: '0'
          description: 'Average response latency in microseconds of the last 1''000''000 packets.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "latency-avg1000000")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: a2a6b0dd842f4122a376e95940dd3141
          name: latency-bucket
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[latency-bucket]'
          delay: '0'
          description: 'Number of queries contributing to response time histogram per latency bucket.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "latency-bucket")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: 6d4a53785924471c949c9a7cdce3d557
          name: latency-count
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[latency-count]'
          delay: '0'
          description: 'Number of queries contributing to response time histogram.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "latency-count")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: 781622eda08c488b846ae02d44c33493
          name: latency-slow
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[latency-slow]'
          delay: '0'
          description: 'Number of queries answered in more than 1 second.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "latency-slow")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: 478b011e0a454b5981204d4c633e959f
          name: latency-sum
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[latency-sum]'
          delay: '0'
          description: 'Total response time of all queries combined in milliseconds since the start of dnsdist. Can be used to calculate the average response time over all queries.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "latency-slow")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: a5d2e5fda56a41ae9f01b85778de88ea
          name: latency0-1
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[latency0-1]'
          delay: '0'
          description: 'Number of queries answered in less than 1 ms.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "latency0-1")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: 97840d4163f34e2fb6cf7bd526b40a73
          name: latency1-10
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[latency1-10]'
          delay: '0'
          description: 'Number of queries answered in 1-10 ms.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "latency1-10")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: 5fbdb2ee76d348e285627c8911998fd8
          name: latency10-50
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[latency10-50]'
          delay: '0'
          description: 'Number of queries answered in 10-50 ms.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "latency10-50")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: 6e772ac71f0848f8b2f16b181093c4eb
          name: latency50-100
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[latency50-100]'
          delay: '0'
          description: 'Number of queries answered in 50-100 ms.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "latency50-100")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: a63f6f5fcec341a99fec813cf3d19e90
          name: latency100-1000
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[latency100-1000]'
          delay: '0'
          description: 'Number of queries answered in 100-1000 ms.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "latency100-1000")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: fcdb55ab7a3e4311bcba9e3056f79af9
          name: no-policy
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[no-policy]'
          delay: '0'
          description: 'Number of queries dropped because no server was available.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "no-policy")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: d38967f183604d4dab648ba765332602
          name: noncompliant-queries
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[noncompliant-queries]'
          delay: '0'
          description: 'Number of queries dropped as non-compliant.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "noncompliant-queries")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: f065f86f8dca400bb20a2159122aa6e1
          name: noncompliant-responses
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[noncompliant-responses]'
          delay: '0'
          description: 'Number of answers from a backend dropped as non-compliant.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "noncompliant-responses")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: 622aa4f76d054a1e96b7138dd4cfea11
          name: queries
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[queries]'
          delay: '0'
          description: 'Number of received queries.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "queries")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: 581bda041ad146749120b3f70bec5e38
          name: rdqueries
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[rdqueries]'
          delay: '0'
          description: 'Number of received queries with the recursion desired bit set.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "rdqueries")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: 76e656b90313457fac337a444508d683
          name: real-memory-usage
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[real-memory-usage]'
          delay: '0'
          description: 'Current memory usage.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "real-memory-usage")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: 2a24058505c04612a4e5aa056f1ee78c
          name: responses
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[responses]'
          delay: '0'
          description: 'Number of responses received from backends. Note! This is not the number of responses sent to clients. To get that number, add ‘cache-hits’ and ‘responses’.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "responses")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: 54353f873ded4d06952189f07cde4bb1
          name: rule-drop
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[rule-drop]'
          delay: '0'
          description: 'Number of queries dropped because of a rule.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "rule-drop")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: c0823dbd196e4807b6e335a8ace7928b
          name: rule-nxdomain
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[rule-nxdomain]'
          delay: '0'
          description: 'Number of NXDomain answers returned because of a rule.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "rule-nxdomain")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: 8a77639e3c4d464cb55dd5e303276531
          name: rule-refused
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[rule-refused]'
          delay: '0'
          description: 'Number of Refused answers returned because of a rule.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "rule-refused")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: 2063731eb9254fb1a0ac3dacfd5ceb9d
          name: rule-servfail
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[rule-servfail]'
          delay: '0'
          description: 'Number of ServFail answers returned because of a rule.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "rule-servfail")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: e558cca30b7a432cbba81317e228d345
          name: security-status
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[security-status]'
          delay: '0'
          description: |
            The security status of dnsdist. This is regularly polled.
            
            0 = Unknown status or unreleased version
            1 = OK
            2 = Upgrade recommended
            3 = Upgrade required (most likely because there is a known security issue)
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "security-status")].value.first()'
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
          triggers:
            -
              uuid: 4d4425a0c820455ea7a16dc4ed46ac93
              expression: 'last(/App PowerDNS dnsdist/pdns.dnsdist.statistics[security-status])<>1'
              name: 'Security status not OK'
              priority: WARNING
        -
          uuid: f6b234596fba441c8c7c113aca15a09d
          name: self-answered
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[self-answered]'
          delay: '0'
          description: 'Number of self-answered responses.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "self-answered")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: 52629a3960c041ba815001bce637ae87
          name: servfail-responses
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[servfail-responses]'
          delay: '0'
          description: 'Number of servfail answers received from backends.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "servfail-responses")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: fb6bfeff3050487ba827c0c5871b4b9b
          name: trunc-failures
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[trunc-failures]'
          delay: '0'
          description: 'Number of errors encountered while truncating an answer.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "trunc-failures")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: b6347fdf0dca4c77b92024d85ee80a66
          name: udp-in-errors
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[udp-in-errors]'
          delay: '0'
          description: |
            From /proc/net/snmp InErrors.
            
            New in version 1.5.0.
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "udp-in-errors")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: b3bb1df9dbe946ea959f5aed8f3881e9
          name: udp-noport-errors
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[udp-noport-errors]'
          delay: '0'
          description: |
            From /proc/net/snmp NoPorts.
            
            New in version 1.5.0.
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "udp-noport-errors")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: 16bcbef0ad4544c5ae04175dac882b6c
          name: udp-recvbuf-errors
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[udp-recvbuf-errors]'
          delay: '0'
          description: |
            From /proc/net/snmp RcvbufErrors.
            
            New in version 1.5.0.
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "udp-recvbuf-errors")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: 0c22c18a532744d08001037546ca8c89
          name: udp-sndbuf-errors
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[udp-sndbuf-errors]'
          delay: '0'
          description: |
            From /proc/net/snmp SndbufErrors.
            
            New in version 1.5.0.
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "udp-sndbuf-errors")].value.first()'
            -
              type: SIMPLE_CHANGE
              parameters:
                - ''
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
        -
          uuid: 1385272d8c194eb4ada6e1f03ac80034
          name: uptime
          type: DEPENDENT
          key: 'pdns.dnsdist.statistics[uptime]'
          delay: '0'
          units: unixtime
          description: 'Uptime of the dnsdist process, in seconds.'
          preprocessing:
            -
              type: JSONPATH
              parameters:
                - '$[?(@.name == "uptime")].value.first()'
          master_item:
            key: pdns.dnsdist.api.statistics
          tags:
            -
              tag: Application
              value: 'PowerDNS dnsdist'
      macros:
        -
          macro: '{$PDNS.DNSDIST.APIKEY}'
          value: changeme
        -
          macro: '{$PDNS.DNSDIST.WEBSERVER.IP}'
          value: 127.0.0.1
        -
          macro: '{$PDNS.DNSDIST.WEBSERVER.PORT}'
          value: '8083'
  graphs:
    -
      uuid: 6a15459a77874fac9b0a194935661c62
      name: 'dnsdist Cache Hits/Misses'
      type: STACKED
      graph_items:
        -
          color: 2E7D32
          calc_fnc: MAX
          item:
            host: 'App PowerDNS dnsdist'
            key: 'pdns.dnsdist.statistics[cache-hits]'
        -
          sortorder: '1'
          color: F4511E
          calc_fnc: MAX
          item:
            host: 'App PowerDNS dnsdist'
            key: 'pdns.dnsdist.statistics[cache-misses]'
    -
      uuid: 174977b443ec4361bc41cf1cddcbacca
      name: 'dnsdist Latency'
      graph_items:
        -
          color: 1A7C11
          calc_fnc: MAX
          item:
            host: 'App PowerDNS dnsdist'
            key: 'pdns.dnsdist.statistics[latency0-1]'
        -
          sortorder: '1'
          color: F63100
          calc_fnc: MAX
          item:
            host: 'App PowerDNS dnsdist'
            key: 'pdns.dnsdist.statistics[latency1-10]'
        -
          sortorder: '2'
          color: 2774A4
          calc_fnc: MAX
          item:
            host: 'App PowerDNS dnsdist'
            key: 'pdns.dnsdist.statistics[latency10-50]'
        -
          sortorder: '3'
          color: A54F10
          calc_fnc: MAX
          item:
            host: 'App PowerDNS dnsdist'
            key: 'pdns.dnsdist.statistics[latency50-100]'
        -
          sortorder: '4'
          color: FC6EA3
          calc_fnc: MAX
          item:
            host: 'App PowerDNS dnsdist'
            key: 'pdns.dnsdist.statistics[latency100-1000]'
    -
      uuid: e460ed389a554c9283760dcd45bb0a08
      name: 'dnsdist Latency Average'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'App PowerDNS dnsdist'
            key: 'pdns.dnsdist.statistics[latency-avg100]'
        -
          sortorder: '1'
          color: F63100
          item:
            host: 'App PowerDNS dnsdist'
            key: 'pdns.dnsdist.statistics[latency-avg1000]'
        -
          sortorder: '2'
          color: 2774A4
          item:
            host: 'App PowerDNS dnsdist'
            key: 'pdns.dnsdist.statistics[latency-avg10000]'
        -
          sortorder: '3'
          color: A54F10
          item:
            host: 'App PowerDNS dnsdist'
            key: 'pdns.dnsdist.statistics[latency-avg100000]'
        -
          sortorder: '4'
          color: FC6EA3
          item:
            host: 'App PowerDNS dnsdist'
            key: 'pdns.dnsdist.statistics[latency-avg1000000]'
    -
      uuid: e3fe1b7342804b95a1aa87612209cdfc
      name: 'dnsdist Queries - Answers'
      graph_items:
        -
          drawtype: FILLED_REGION
          color: 1A7C11
          item:
            host: 'App PowerDNS dnsdist'
            key: 'pdns.dnsdist.statistics[frontend-noerror]'
        -
          sortorder: '1'
          drawtype: FILLED_REGION
          color: E91E63
          item:
            host: 'App PowerDNS dnsdist'
            key: 'pdns.dnsdist.statistics[frontend-nxdomain]'
        -
          sortorder: '2'
          drawtype: FILLED_REGION
          color: 2774A4
          item:
            host: 'App PowerDNS dnsdist'
            key: 'pdns.dnsdist.statistics[frontend-servfail]'
        -
          sortorder: '3'
          color: A54F10
          item:
            host: 'App PowerDNS dnsdist'
            key: 'pdns.dnsdist.statistics[queries]'
    -
      uuid: 7da02c8c07dd4f49903312ae2a672fa1
      name: 'dnsdist Rules'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'App PowerDNS dnsdist'
            key: 'pdns.dnsdist.statistics[rule-drop]'
        -
          sortorder: '1'
          color: F63100
          item:
            host: 'App PowerDNS dnsdist'
            key: 'pdns.dnsdist.statistics[rule-nxdomain]'
        -
          sortorder: '2'
          color: 2774A4
          item:
            host: 'App PowerDNS dnsdist'
            key: 'pdns.dnsdist.statistics[rule-refused]'
        -
          sortorder: '3'
          color: A54F10
          item:
            host: 'App PowerDNS dnsdist'
            key: 'pdns.dnsdist.statistics[rule-servfail]'
