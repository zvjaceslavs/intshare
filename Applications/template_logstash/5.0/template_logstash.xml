<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
  <version>5.0</version>
  <date>2021-10-22T10:53:13Z</date>
  <groups>
    <group>
      <name>Templates</name>
    </group>
  </groups>
  <templates>
    <template>
      <template>Template App Logstash</template>
      <name>Template App Logstash</name>
      <groups>
        <group>
          <name>Templates</name>
        </group>
      </groups>
      <applications>
        <application>
          <name>Logstash</name>
        </application>
        <application>
          <name>Logstash Memory</name>
        </application>
        <application>
          <name>Logstash Node JVM</name>
        </application>
        <application>
          <name>Logstash Pipeline Events</name>
        </application>
        <application>
          <name>Logstash Process CPU</name>
        </application>
        <application>
          <name>Logstash Process File Descriptors</name>
        </application>
      </applications>
      <items>
        <item>
          <name>Logstash check</name>
          <type>ZABBIX_ACTIVE</type>
          <key>logstash.check</key>
          <history>15d</history>
          <applications>
            <application>
              <name>Logstash</name>
            </application>
          </applications>
          <triggers>
            <trigger>
              <expression>{min(3m)}>0</expression>
              <name>Logstash check failed</name>
              <priority>AVERAGE</priority>
            </trigger>
          </triggers>
        </item>
        <item>
          <name>Logstash discovery</name>
          <type>ZABBIX_ACTIVE</type>
          <key>logstash.discovery</key>
          <delay>1h</delay>
          <history>15d</history>
          <applications>
            <application>
              <name>Logstash</name>
            </application>
          </applications>
          <triggers>
            <trigger>
              <expression>{last()}>0</expression>
              <name>Logstash discovery failed</name>
              <priority>WARNING</priority>
            </trigger>
          </triggers>
        </item>
        <item>
          <name>Logstash JVM gc collectors old collection count</name>
          <type>TRAP</type>
          <key>logstash.jvm.gc.collectors.old.collection_count</key>
          <delay>0</delay>
          <history>30d</history>
          <value_type>FLOAT</value_type>
          <applications>
            <application>
              <name>Logstash Node JVM</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash JVM gc collectors old collection time</name>
          <type>TRAP</type>
          <key>logstash.jvm.gc.collectors.old.collection_time_in_millis</key>
          <delay>0</delay>
          <history>30d</history>
          <value_type>FLOAT</value_type>
          <units>ms</units>
          <applications>
            <application>
              <name>Logstash Node JVM</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash JVM gc collectors young collection count</name>
          <type>TRAP</type>
          <key>logstash.jvm.gc.collectors.young.collection_count</key>
          <delay>0</delay>
          <history>30d</history>
          <value_type>FLOAT</value_type>
          <applications>
            <application>
              <name>Logstash Node JVM</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash JVM gc collectors young collection time</name>
          <type>TRAP</type>
          <key>logstash.jvm.gc.collectors.young.collection_time_in_millis</key>
          <delay>0</delay>
          <history>30d</history>
          <value_type>FLOAT</value_type>
          <units>ms</units>
          <applications>
            <application>
              <name>Logstash Node JVM</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash JVM Mem heap committed</name>
          <type>TRAP</type>
          <key>logstash.jvm.mem.heap_committed_in_bytes</key>
          <delay>0</delay>
          <history>30d</history>
          <value_type>FLOAT</value_type>
          <units>B</units>
          <applications>
            <application>
              <name>Logstash Node JVM</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash JVM Mem heap max</name>
          <type>TRAP</type>
          <key>logstash.jvm.mem.heap_max_in_bytes</key>
          <delay>0</delay>
          <history>30d</history>
          <value_type>FLOAT</value_type>
          <units>B</units>
          <applications>
            <application>
              <name>Logstash Node JVM</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash JVM Mem heap used</name>
          <type>TRAP</type>
          <key>logstash.jvm.mem.heap_used_in_bytes</key>
          <delay>0</delay>
          <history>30d</history>
          <value_type>FLOAT</value_type>
          <units>B</units>
          <applications>
            <application>
              <name>Logstash Node JVM</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash JVM Percent Mem heap used</name>
          <type>TRAP</type>
          <key>logstash.jvm.mem.heap_used_percent</key>
          <delay>0</delay>
          <history>30d</history>
          <value_type>FLOAT</value_type>
          <units>%</units>
          <applications>
            <application>
              <name>Logstash Node JVM</name>
            </application>
          </applications>
          <triggers>
            <trigger>
              <expression>{avg(30m)}>75</expression>
              <name>Logstash JVM Heap used percent is high</name>
              <priority>AVERAGE</priority>
              <description>JVM heap used percent average is above 75% for 30m.</description>
              <dependencies>
                <dependency>
                  <name>Logstash JVM Heap used percent is TOO HIGH</name>
                  <expression>{Template App Logstash:logstash.jvm.mem.heap_used_percent.avg(30m)}>85</expression>
                </dependency>
              </dependencies>
            </trigger>
            <trigger>
              <expression>{avg(30m)}>85</expression>
              <name>Logstash JVM Heap used percent is TOO HIGH</name>
              <priority>HIGH</priority>
              <description>JVM heap used percent average is above 90% during 30m.</description>
            </trigger>
          </triggers>
        </item>
        <item>
          <name>Logstash JVM Mem non heap committed</name>
          <type>TRAP</type>
          <key>logstash.jvm.mem.non_heap_committed_in_bytes</key>
          <delay>0</delay>
          <history>30d</history>
          <value_type>FLOAT</value_type>
          <units>B</units>
          <applications>
            <application>
              <name>Logstash Node JVM</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash JVM Mem non heap used</name>
          <type>TRAP</type>
          <key>logstash.jvm.mem.non_heap_used_in_bytes</key>
          <delay>0</delay>
          <history>30d</history>
          <value_type>FLOAT</value_type>
          <units>B</units>
          <applications>
            <application>
              <name>Logstash Node JVM</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash JVM Mem pools old committed</name>
          <type>TRAP</type>
          <key>logstash.jvm.mem.pools.old.committed_in_bytes</key>
          <delay>0</delay>
          <history>30d</history>
          <value_type>FLOAT</value_type>
          <units>B</units>
          <applications>
            <application>
              <name>Logstash Node JVM</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash JVM Mem pools old max</name>
          <type>TRAP</type>
          <key>logstash.jvm.mem.pools.old.max_in_bytes</key>
          <delay>0</delay>
          <history>30d</history>
          <value_type>FLOAT</value_type>
          <units>B</units>
          <applications>
            <application>
              <name>Logstash Node JVM</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash JVM Mem pools old peak max</name>
          <type>TRAP</type>
          <key>logstash.jvm.mem.pools.old.peak_max_in_bytes</key>
          <delay>0</delay>
          <history>30d</history>
          <value_type>FLOAT</value_type>
          <units>B</units>
          <applications>
            <application>
              <name>Logstash Node JVM</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash JVM Mem pools old peak used</name>
          <type>TRAP</type>
          <key>logstash.jvm.mem.pools.old.peak_used_in_bytes</key>
          <delay>0</delay>
          <history>30d</history>
          <value_type>FLOAT</value_type>
          <units>B</units>
          <applications>
            <application>
              <name>Logstash Node JVM</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash JVM Mem pools old used</name>
          <type>TRAP</type>
          <key>logstash.jvm.mem.pools.old.used_in_bytes</key>
          <delay>0</delay>
          <history>30d</history>
          <value_type>FLOAT</value_type>
          <units>B</units>
          <applications>
            <application>
              <name>Logstash Node JVM</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash JVM Mem pools survivor committed</name>
          <type>TRAP</type>
          <key>logstash.jvm.mem.pools.survivor.committed_in_bytes</key>
          <delay>0</delay>
          <history>30d</history>
          <value_type>FLOAT</value_type>
          <units>B</units>
          <applications>
            <application>
              <name>Logstash Node JVM</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash JVM Mem pools survivor max</name>
          <type>TRAP</type>
          <key>logstash.jvm.mem.pools.survivor.max_in_bytes</key>
          <delay>0</delay>
          <history>30d</history>
          <value_type>FLOAT</value_type>
          <units>B</units>
          <applications>
            <application>
              <name>Logstash Node JVM</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash JVM Mem pools survivor peak max</name>
          <type>TRAP</type>
          <key>logstash.jvm.mem.pools.survivor.peak_max_in_bytes</key>
          <delay>0</delay>
          <history>30d</history>
          <value_type>FLOAT</value_type>
          <units>B</units>
          <applications>
            <application>
              <name>Logstash Node JVM</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash JVM Mem pools survivor peak used</name>
          <type>TRAP</type>
          <key>logstash.jvm.mem.pools.survivor.peak_used_in_bytes</key>
          <delay>0</delay>
          <history>30d</history>
          <value_type>FLOAT</value_type>
          <units>B</units>
          <applications>
            <application>
              <name>Logstash Node JVM</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash JVM Mem pools survivor used</name>
          <type>TRAP</type>
          <key>logstash.jvm.mem.pools.survivor.used_in_bytes</key>
          <delay>0</delay>
          <history>30d</history>
          <value_type>FLOAT</value_type>
          <units>B</units>
          <applications>
            <application>
              <name>Logstash Node JVM</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash JVM Mem pools young committed</name>
          <type>TRAP</type>
          <key>logstash.jvm.mem.pools.young.committed_in_bytes</key>
          <delay>0</delay>
          <history>30d</history>
          <value_type>FLOAT</value_type>
          <units>B</units>
          <applications>
            <application>
              <name>Logstash Node JVM</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash JVM Mem pools young max</name>
          <type>TRAP</type>
          <key>logstash.jvm.mem.pools.young.max_in_bytes</key>
          <delay>0</delay>
          <history>30d</history>
          <value_type>FLOAT</value_type>
          <units>B</units>
          <applications>
            <application>
              <name>Logstash Node JVM</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash JVM Mem pools young peak max</name>
          <type>TRAP</type>
          <key>logstash.jvm.mem.pools.young.peak_max_in_bytes</key>
          <delay>0</delay>
          <history>30d</history>
          <value_type>FLOAT</value_type>
          <units>B</units>
          <applications>
            <application>
              <name>Logstash Node JVM</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash JVM Mem pools young peak used</name>
          <type>TRAP</type>
          <key>logstash.jvm.mem.pools.young.peak_used_in_bytes</key>
          <delay>0</delay>
          <history>30d</history>
          <value_type>FLOAT</value_type>
          <units>B</units>
          <applications>
            <application>
              <name>Logstash Node JVM</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash JVM Mem pools young used</name>
          <type>TRAP</type>
          <key>logstash.jvm.mem.pools.young.used_in_bytes</key>
          <delay>0</delay>
          <history>30d</history>
          <value_type>FLOAT</value_type>
          <units>B</units>
          <applications>
            <application>
              <name>Logstash Node JVM</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash JVM Threads count</name>
          <type>TRAP</type>
          <key>logstash.jvm.threads.count</key>
          <delay>0</delay>
          <history>30d</history>
          <value_type>FLOAT</value_type>
          <applications>
            <application>
              <name>Logstash Node JVM</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash JVM Threads peak count</name>
          <type>TRAP</type>
          <key>logstash.jvm.threads.peak_count</key>
          <delay>0</delay>
          <history>30d</history>
          <value_type>FLOAT</value_type>
          <applications>
            <application>
              <name>Logstash Node JVM</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash JVM uptime</name>
          <type>TRAP</type>
          <key>logstash.jvm.uptime_in_millis</key>
          <delay>0</delay>
          <history>30d</history>
          <value_type>FLOAT</value_type>
          <units>ms</units>
          <applications>
            <application>
              <name>Logstash Node JVM</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash Pipeline Events duration</name>
          <type>TRAP</type>
          <key>logstash.pipeline.events.duration_in_millis</key>
          <delay>0</delay>
          <history>30d</history>
          <value_type>FLOAT</value_type>
          <units>ms</units>
          <applications>
            <application>
              <name>Logstash Pipeline Events</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash Pipeline Events filtered</name>
          <type>TRAP</type>
          <key>logstash.pipeline.events.filtered</key>
          <delay>0</delay>
          <history>30d</history>
          <applications>
            <application>
              <name>Logstash Pipeline Events</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash Pipeline Events in</name>
          <type>TRAP</type>
          <key>logstash.pipeline.events.in</key>
          <delay>0</delay>
          <history>30d</history>
          <applications>
            <application>
              <name>Logstash Pipeline Events</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash Pipeline Events out</name>
          <type>TRAP</type>
          <key>logstash.pipeline.events.out</key>
          <delay>0</delay>
          <history>30d</history>
          <applications>
            <application>
              <name>Logstash Pipeline Events</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash Process CPU load 1</name>
          <type>TRAP</type>
          <key>logstash.process.cpu.load_average.1m</key>
          <delay>0</delay>
          <history>15d</history>
          <value_type>FLOAT</value_type>
          <applications>
            <application>
              <name>Logstash Process CPU</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash Process CPU load 5</name>
          <type>TRAP</type>
          <key>logstash.process.cpu.load_average.5m</key>
          <delay>0</delay>
          <history>15d</history>
          <value_type>FLOAT</value_type>
          <applications>
            <application>
              <name>Logstash Process CPU</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash Process CPU load 15</name>
          <type>TRAP</type>
          <key>logstash.process.cpu.load_average.15m</key>
          <delay>0</delay>
          <history>15d</history>
          <value_type>FLOAT</value_type>
          <applications>
            <application>
              <name>Logstash Process CPU</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash Process CPU</name>
          <type>TRAP</type>
          <key>logstash.process.cpu.percent</key>
          <delay>0</delay>
          <history>30d</history>
          <units>%</units>
          <applications>
            <application>
              <name>Logstash Process CPU</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash Process CPU Total in ms</name>
          <type>TRAP</type>
          <key>logstash.process.cpu.total_in_millis</key>
          <delay>0</delay>
          <history>30d</history>
          <units>ms</units>
          <applications>
            <application>
              <name>Logstash Process CPU</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash Process Max File descriptors</name>
          <type>TRAP</type>
          <key>logstash.process.max_file_descriptors</key>
          <delay>0</delay>
          <history>30d</history>
          <applications>
            <application>
              <name>Logstash Process File Descriptors</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash Mem Total Virtual</name>
          <type>TRAP</type>
          <key>logstash.process.mem.total_virtual_in_bytes</key>
          <delay>0</delay>
          <history>30d</history>
          <units>B</units>
          <applications>
            <application>
              <name>Logstash Memory</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash Process Open File descriptors</name>
          <type>TRAP</type>
          <key>logstash.process.open_file_descriptors</key>
          <delay>0</delay>
          <history>30d</history>
          <applications>
            <application>
              <name>Logstash Process File Descriptors</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash Process Peak File descriptors</name>
          <type>TRAP</type>
          <key>logstash.process.peak_open_file_descriptors</key>
          <delay>0</delay>
          <history>30d</history>
          <applications>
            <application>
              <name>Logstash Process File Descriptors</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Logstash zabbix script version</name>
          <type>TRAP</type>
          <key>logstash.zbx_version</key>
          <delay>0</delay>
          <history>15d</history>
          <trends>0</trends>
          <value_type>TEXT</value_type>
          <applications>
            <application>
              <name>Logstash</name>
            </application>
          </applications>
          <triggers>
            <trigger>
              <expression>{nodata(10m)}=1</expression>
              <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
              <recovery_expression>{nodata(1m)}&lt;>1</recovery_expression>
              <name>Logstash heartbeat</name>
              <priority>WARNING</priority>
            </trigger>
            <trigger>
              <expression>{regexp(0.0.1)}=0</expression>
              <name>Logstash Template and Script version mismatched</name>
              <priority>INFO</priority>
            </trigger>
          </triggers>
        </item>
      </items>
      <discovery_rules>
        <discovery_rule>
          <name>Logstash discovery</name>
          <type>TRAP</type>
          <key>logstash.node.discovery</key>
          <delay>0</delay>
          <filter>
            <conditions>
              <condition>
                <macro>{#NODENAME}</macro>
                <value>.*</value>
                <formulaid>A</formulaid>
              </condition>
            </conditions>
          </filter>
          <lifetime>3d</lifetime>
        </discovery_rule>
      </discovery_rules>
      <macros>
        <macro>
          <macro>{$ZBX_TPL_VERSION}</macro>
          <value>0.0.1</value>
        </macro>
      </macros>
    </template>
  </templates>
</zabbix_export>