<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>5.0</version><date>2021-11-21T21:47:36Z</date><groups><group><name>Templates/Applications</name></group></groups><templates><template><template>App Apache2</template><name>App Apache2</name><description>## Overview

Zabbix template for apache 2 web server without external script. This template have macros for setting URL status page. This template uses only one http item as a master item and other items depend it.


Requirements:


1. Zabbix 4+
2. Enabled mod\_status &lt;https://www.tecmint.com/monitor-apache-web-server-load-and-page-statistics/&gt;


</description><groups><group><name>Templates/Applications</name></group></groups><applications><application><name>Apache2</name></application></applications><items><item><name>Apache2 total accesses</name><type>DEPENDENT</type><key>apache2.Accesses</key><delay>0</delay><history>30d</history><applications><application><name>Apache2</name></application></applications><preprocessing><step><type>REGEX</type><params>Total Accesses:\s+([0-9]+)
\1</params></step></preprocessing><master_item><key>apache2.get</key></master_item></item><item><name>Apache2 workers busy</name><type>DEPENDENT</type><key>apache2.BusyWorkers</key><delay>0</delay><history>30d</history><applications><application><name>Apache2</name></application></applications><preprocessing><step><type>REGEX</type><params>BusyWorkers:\s+([0-9]+)
\1</params></step></preprocessing><master_item><key>apache2.get</key></master_item></item><item><name>Apache2 request size</name><type>DEPENDENT</type><key>apache2.BytesPerReq</key><delay>0</delay><history>30d</history><value_type>FLOAT</value_type><units>B</units><applications><application><name>Apache2</name></application></applications><preprocessing><step><type>REGEX</type><params>BytesPerReq:\s+([0-9]+)
\1</params></step></preprocessing><master_item><key>apache2.get</key></master_item></item><item><name>Apache2 bytes per second</name><type>DEPENDENT</type><key>apache2.BytesPerSec</key><delay>0</delay><history>30d</history><value_type>FLOAT</value_type><units>Bps</units><applications><application><name>Apache2</name></application></applications><preprocessing><step><type>REGEX</type><params>BytesPerSec:\s+([0-9]+)
\1</params></step></preprocessing><master_item><key>apache2.get</key></master_item></item><item><name>Apache2 server-status</name><type>HTTP_AGENT</type><key>apache2.get</key><history>1h</history><trends>0</trends><value_type>TEXT</value_type><applications><application><name>Apache2</name></application></applications><url>{$STUB_STATUS_PROT}://{$STUB_STATUS_HOST}:{$STUB_STATUS_PORT}/{$STUB_STATUS_PATH}</url><retrieve_mode>BOTH</retrieve_mode><triggers><trigger><expression>{str(&quot;HTTP/1.1 200&quot;)}=0 or {nodata(15m)}=1</expression><recovery_mode>RECOVERY_EXPRESSION</recovery_mode><recovery_expression>{str(&quot;HTTP/1.1 200&quot;)}=1</recovery_expression><name>Failed to fetch apache2 server status page</name><priority>AVERAGE</priority><manual_close>YES</manual_close></trigger></triggers></item><item><name>Apache2 workers idle</name><type>DEPENDENT</type><key>apache2.IdleWorkers</key><delay>0</delay><history>30d</history><applications><application><name>Apache2</name></application></applications><preprocessing><step><type>REGEX</type><params>IdleWorkers:\s+([0-9]+)
\1</params></step></preprocessing><master_item><key>apache2.get</key></master_item></item><item><name>Apache2 total requests size</name><type>DEPENDENT</type><key>apache2.kBytes</key><delay>0</delay><history>30d</history><units>B</units><applications><application><name>Apache2</name></application></applications><preprocessing><step><type>REGEX</type><params>Total Accesses:\s+([0-9]+)
\1</params></step></preprocessing><master_item><key>apache2.get</key></master_item></item><item><name>Apache2 requests per second</name><type>DEPENDENT</type><key>apache2.ReqPerSec</key><delay>0</delay><history>30d</history><value_type>FLOAT</value_type><units>!rps</units><applications><application><name>Apache2</name></application></applications><preprocessing><step><type>REGEX</type><params>ReqPerSec:\s+(.*\.[0-9]+)
\1</params></step></preprocessing><master_item><key>apache2.get</key></master_item></item><item><name>Apache2 server uptime</name><type>DEPENDENT</type><key>apache2.ServerUptimeSeconds</key><delay>0</delay><history>30d</history><units>uptime</units><applications><application><name>Apache2</name></application></applications><preprocessing><step><type>REGEX</type><params>\bUptime:\s+([0-9.]+)
\1</params></step></preprocessing><master_item><key>apache2.get</key></master_item></item><item><name>Apache2 server version</name><type>DEPENDENT</type><key>apache2.Version</key><delay>0</delay><history>30d</history><trends>0</trends><value_type>CHAR</value_type><applications><application><name>Apache2</name></application></applications><preprocessing><step><type>REGEX</type><params>ServerVersion:\s+(.+)
\1</params></step></preprocessing><master_item><key>apache2.get</key></master_item></item></items><macros><macro><macro>{$STUB_STATUS_HOST}</macro><value>localhost</value></macro><macro><macro>{$STUB_STATUS_PATH}</macro><value>server-status?auto</value></macro><macro><macro>{$STUB_STATUS_PORT}</macro><value>80</value></macro><macro><macro>{$STUB_STATUS_PROT}</macro><value>http</value></macro></macros></template></templates><graphs><graph><name>Apache2 requests</name><ymin_type_1>FIXED</ymin_type_1><graph_items><graph_item><drawtype>BOLD_LINE</drawtype><color>1A7C11</color><yaxisside>RIGHT</yaxisside><item><host>App Apache2</host><key>apache2.ReqPerSec</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>App Apache2</host><key>apache2.BytesPerSec</key></item></graph_item></graph_items></graph><graph><name>Apache2 request size</name><ymin_type_1>FIXED</ymin_type_1><graph_items><graph_item><drawtype>BOLD_LINE</drawtype><color>E53935</color><item><host>App Apache2</host><key>apache2.Accesses</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>FFB300</color><item><host>App Apache2</host><key>apache2.kBytes</key></item></graph_item></graph_items></graph><graph><name>Apache2 workers</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>1A7C11</color><item><host>App Apache2</host><key>apache2.BusyWorkers</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>2774A4</color><item><host>App Apache2</host><key>apache2.IdleWorkers</key></item></graph_item></graph_items></graph></graphs></zabbix_export>
