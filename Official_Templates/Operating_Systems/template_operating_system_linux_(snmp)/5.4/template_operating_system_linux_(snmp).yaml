zabbix_export:
  version: '5.4'
  date: '2021-11-21T21:19:21Z'
  groups:
    -
      uuid: 7df96b18c230490a9a0a9e2307226338
      name: Templates
  templates:
    -
      uuid: 335efc72312e4e919364a1180225f96a
      template: 'SNMP OS Linux'
      name: 'SNMP OS Linux'
      description: |
        ## Overview
        
        Official OS Linux Template by SNMP from Zabbix distribution
        
        
        
        ## Author
        
        Zabbix SIA
        
        
      templates:
        -
          name: 'Template SNMP Disks'
        -
          name: 'Template SNMP Generic'
        -
          name: 'Template SNMP Interfaces'
        -
          name: 'Template SNMP Processors'
      groups:
        -
          name: Templates
    -
      uuid: 256cfe6e2398433b8ae14af58eab2df3
      template: 'Template SNMP Disks'
      name: 'Template SNMP Disks'
      groups:
        -
          name: Templates
      discovery_rules:
        -
          uuid: 484e46a7e0094a5a9a8950096743b4d0
          name: 'Disk partitions'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},HOST-RESOURCES-MIB::hrStorageDescr]'
          key: hrStorageDescr
          delay: '3600'
          filter:
            conditions:
              -
                macro: '{#SNMPVALUE}'
                value: '@Storage devices for SNMP discovery'
                formulaid: A
          description: |
            The rule will discover all disk partitions matching the global regexp "Storage devices for SNMP discovery".
            
            {$SNMP_COMMUNITY} is a global macro.
          item_prototypes:
            -
              uuid: 31dcd16c8fc24f5294dd64862160488a
              name: 'Allocation units for storage $1'
              type: SNMP_AGENT
              snmp_oid: 'HOST-RESOURCES-MIB::hrStorageAllocationUnits.{#SNMPINDEX}'
              key: 'hrStorageAllocationUnits[{#SNMPVALUE}]'
              delay: '3600'
              history: 7d
              units: B
              description: 'The size, in bytes, of the data objects allocated from this pool.  If this entry is monitoring sectors, blocks, buffers, or packets, for example, this number will commonly be greater than one.  Otherwise this number will typically be one.'
              tags:
                -
                  tag: Application
                  value: 'Disk partitions'
            -
              uuid: 426251f841f24420a3ec37aca54210a5
              name: 'Description of storage $1'
              type: SNMP_AGENT
              snmp_oid: 'HOST-RESOURCES-MIB::hrStorageDescr.{#SNMPINDEX}'
              key: 'hrStorageDescr[{#SNMPVALUE}]'
              delay: '3600'
              history: 7d
              trends: '0'
              value_type: CHAR
              description: 'A description of the type and instance of the storage described by this entry.'
              tags:
                -
                  tag: Application
                  value: 'Disk partitions'
            -
              uuid: 7e911385c38e4f08803af1aa2120c515
              name: 'Total disk space on $1'
              type: CALCULATED
              key: 'hrStorageSizeInBytes[{#SNMPVALUE}]'
              delay: '3600'
              history: 7d
              units: B
              params: 'last(//hrStorageSize[{#SNMPVALUE}]) * last(//hrStorageAllocationUnits[{#SNMPVALUE}])'
              description: 'This is a calculated item, we need it to get total disk space in bytes.'
              tags:
                -
                  tag: Application
                  value: 'Disk partitions'
            -
              uuid: ed8e70e514674861b1a622b17db86760
              name: 'Total disk space on $1 in units'
              type: SNMP_AGENT
              snmp_oid: 'HOST-RESOURCES-MIB::hrStorageSize.{#SNMPINDEX}'
              key: 'hrStorageSize[{#SNMPVALUE}]'
              delay: '3600'
              history: 7d
              units: units
              description: 'The size of the storage represented by this entry, in units of hrStorageAllocationUnits. This object is writable to allow remote configuration of the size of the storage area in those cases where such an operation makes sense and is possible on the underlying system. For example, the amount of main memory allocated to a buffer pool might be modified or the amount of disk space allocated to virtual memory might be modified.'
              tags:
                -
                  tag: Application
                  value: 'Disk partitions'
            -
              uuid: bfa01526f4454b84aebe03479cca095e
              name: 'Used disk space on $1'
              type: CALCULATED
              key: 'hrStorageUsedInBytes[{#SNMPVALUE}]'
              delay: '60'
              history: 7d
              units: B
              params: 'last(//hrStorageUsed[{#SNMPVALUE}]) * last(//hrStorageAllocationUnits[{#SNMPVALUE}])'
              description: 'This is a calculated item, we need it to get used disk space in bytes.'
              tags:
                -
                  tag: Application
                  value: 'Disk partitions'
            -
              uuid: 5e4d0b6da06643e595a1f454a1b76364
              name: 'Used disk space on $1 in units'
              type: SNMP_AGENT
              snmp_oid: 'HOST-RESOURCES-MIB::hrStorageUsed.{#SNMPINDEX}'
              key: 'hrStorageUsed[{#SNMPVALUE}]'
              delay: '60'
              history: 7d
              units: units
              description: 'The amount of the storage represented by this entry that is allocated, in units of hrStorageAllocationUnits.'
              tags:
                -
                  tag: Application
                  value: 'Disk partitions'
          trigger_prototypes:
            -
              uuid: c5bccfdbdb7d4552878429f843a04da3
              expression: 'last(/Template SNMP Disks/hrStorageUsed[{#SNMPVALUE}]) / last(/Template SNMP Disks/hrStorageSize[{#SNMPVALUE}]) > 0.8'
              name: 'Free disk space is less than 20% on volume {#SNMPVALUE}'
              priority: WARNING
          graph_prototypes:
            -
              uuid: 274434a1e0fc4120970a227ee9697a36
              name: 'Disk space usage {#SNMPVALUE}'
              width: '600'
              height: '340'
              show_work_period: 'NO'
              show_triggers: 'NO'
              type: PIE
              show_3d: 'YES'
              graph_items:
                -
                  color: 00C800
                  type: GRAPH_SUM
                  item:
                    host: 'Template SNMP Disks'
                    key: 'hrStorageSizeInBytes[{#SNMPVALUE}]'
                -
                  sortorder: '1'
                  color: C80000
                  item:
                    host: 'Template SNMP Disks'
                    key: 'hrStorageUsedInBytes[{#SNMPVALUE}]'
    -
      uuid: 42f6a132882a4bf99450a8ea27b325db
      template: 'Template SNMP Generic'
      name: 'Template SNMP Generic'
      groups:
        -
          name: Templates
      items:
        -
          uuid: 5da03964ab3c451386e70734b551c5af
          name: 'Device contact details'
          type: SNMP_AGENT
          snmp_oid: 'SNMPv2-MIB::sysContact.0'
          key: sysContact
          delay: '3600'
          history: 7d
          trends: '0'
          value_type: CHAR
          description: 'The textual identification of the contact person for this managed node, together with information on how to contact this person.  If no contact information is known, the value is the zero-length string.'
          inventory_link: CONTACT
          tags:
            -
              tag: Application
              value: General
        -
          uuid: ca0621184f99443d874c93ed813bdca5
          name: 'Device description'
          type: SNMP_AGENT
          snmp_oid: 'SNMPv2-MIB::sysDescr.0'
          key: sysDescr
          delay: '3600'
          history: 7d
          trends: '0'
          value_type: CHAR
          description: 'A textual description of the entity.  This value should include the full name and version identification of the system''s hardware type, software operating-system, and networking software.'
          inventory_link: HARDWARE
          tags:
            -
              tag: Application
              value: General
        -
          uuid: 8f380080ea434586b23136736441bbc5
          name: 'Device location'
          type: SNMP_AGENT
          snmp_oid: 'SNMPv2-MIB::sysLocation.0'
          key: sysLocation
          delay: '3600'
          history: 7d
          trends: '0'
          value_type: CHAR
          description: 'The physical location of this node (e.g., `telephone closet, 3rd floor'').  If the location is unknown, the value is the zero-length string.'
          inventory_link: LOCATION
          tags:
            -
              tag: Application
              value: General
        -
          uuid: 653eb3015c204cfe89a0322dbfe1b3c5
          name: 'Device name'
          type: SNMP_AGENT
          snmp_oid: 'SNMPv2-MIB::sysName.0'
          key: sysName
          delay: '3600'
          history: 7d
          trends: '0'
          value_type: CHAR
          description: 'An administratively-assigned name for this managed node. By convention, this is the node''s fully-qualified domain name.  If the name is unknown, the value is the zero-length string.'
          inventory_link: NAME
          tags:
            -
              tag: Application
              value: General
        -
          uuid: aa055d57bb664fad9a22bb9adf73b01f
          name: 'Device uptime'
          type: SNMP_AGENT
          snmp_oid: 'SNMPv2-MIB::sysUpTime.0'
          key: sysUpTime
          delay: '60'
          history: 7d
          units: uptime
          description: 'The time since the network management portion of the system was last re-initialized.'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            -
              tag: Application
              value: General
    -
      uuid: e39d65dd7cf34c219fe68a15c96867dc
      template: 'Template SNMP Interfaces'
      name: 'Template SNMP Interfaces'
      groups:
        -
          name: Templates
      items:
        -
          uuid: 6ac7449cdb624301be26c54ce0847973
          name: 'Number of network interfaces'
          type: SNMP_AGENT
          snmp_oid: 'IF-MIB::ifNumber.0'
          key: ifNumber
          delay: '3600'
          history: 7d
          description: 'The number of network interfaces (regardless of their current state) present on this system.'
          tags:
            -
              tag: Application
              value: Interfaces
      discovery_rules:
        -
          uuid: b36d3cf745754e0ead91281f10d6820d
          name: 'Network interfaces'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},IF-MIB::ifDescr]'
          key: ifDescr
          delay: '3600'
          description: |
            You may also consider using IF-MIB::ifType or IF-MIB::ifAlias for discovery depending on your filtering needs.
            
            {$SNMP_COMMUNITY} is a global macro.
          item_prototypes:
            -
              uuid: 119a2c20969447bca620ea6ac4cdd122
              name: 'Admin status of interface $1'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifAdminStatus.{#SNMPINDEX}'
              key: 'ifAdminStatus[{#SNMPVALUE}]'
              delay: '60'
              history: 7d
              description: 'The desired state of the interface.'
              valuemap:
                name: 'SNMP interface status (ifAdminStatus)'
              tags:
                -
                  tag: Application
                  value: Interfaces
            -
              uuid: f5ff7d94adc6466082eb2a3e747e5e5d
              name: 'Alias of interface $1'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifAlias.{#SNMPINDEX}'
              key: 'ifAlias[{#SNMPVALUE}]'
              delay: '3600'
              history: 7d
              trends: '0'
              value_type: CHAR
              tags:
                -
                  tag: Application
                  value: Interfaces
            -
              uuid: be6f787beda040559f89c0d8d88f3f29
              name: 'Description of interface $1'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifDescr.{#SNMPINDEX}'
              key: 'ifDescr[{#SNMPVALUE}]'
              delay: '3600'
              history: 7d
              trends: '0'
              value_type: CHAR
              description: 'A textual string containing information about the interface.  This string should include the name of the manufacturer, the product name and the version of the interface hardware/software.'
              tags:
                -
                  tag: Application
                  value: Interfaces
            -
              uuid: 717ec9345ac04756b77617fa0120c763
              name: 'Inbound errors on interface $1'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifInErrors.{#SNMPINDEX}'
              key: 'ifInErrors[{#SNMPVALUE}]'
              delay: '60'
              history: 7d
              description: 'For packet-oriented interfaces, the number of inbound packets that contained errors preventing them from being deliverable to a higher-layer protocol.  For character-oriented or fixed-length interfaces, the number of inbound transmission units that contained errors preventing them from being deliverable to a higher-layer protocol.'
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                -
                  tag: Application
                  value: Interfaces
            -
              uuid: dba0dfd1e91e476b890766b77dd5a72c
              name: 'Incoming traffic on interface $1'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifInOctets.{#SNMPINDEX}'
              key: 'ifInOctets[{#SNMPVALUE}]'
              delay: '60'
              history: 7d
              units: bps
              description: 'The number of octets in valid MAC frames received on this interface, including the MAC header and FCS.'
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
                -
                  type: MULTIPLIER
                  parameters:
                    - '8'
              tags:
                -
                  tag: Application
                  value: Interfaces
            -
              uuid: 7cb3461c7c7f43e1b4bc30364622eab5
              name: 'Operational status of interface $1'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifOperStatus.{#SNMPINDEX}'
              key: 'ifOperStatus[{#SNMPVALUE}]'
              delay: '60'
              history: 7d
              description: 'The current operational state of the interface.'
              valuemap:
                name: 'SNMP interface status (ifOperStatus)'
              tags:
                -
                  tag: Application
                  value: Interfaces
              trigger_prototypes:
                -
                  uuid: 107c4d02d77b4e04bd6e015bc559910a
                  expression: '(last(/Template SNMP Interfaces/ifOperStatus[{#SNMPVALUE}],#1)<>last(/Template SNMP Interfaces/ifOperStatus[{#SNMPVALUE}],#2))=1'
                  name: 'Operational status was changed on {HOST.NAME} interface {#SNMPVALUE}'
                  priority: INFO
            -
              uuid: c8604c4f93b1458d8e3413e111312eb3
              name: 'Outbound errors on interface $1'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifOutErrors.{#SNMPINDEX}'
              key: 'ifOutErrors[{#SNMPVALUE}]'
              delay: '60'
              history: 7d
              description: 'For packet-oriented interfaces, the number of outbound packets that could not be transmitted because of errors. For character-oriented or fixed-length interfaces, the number of outbound transmission units that could not be transmitted because of errors.'
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                -
                  tag: Application
                  value: Interfaces
            -
              uuid: ca63beff31bf444c84065bd23f5ced1d
              name: 'Outgoing traffic on interface $1'
              type: SNMP_AGENT
              snmp_oid: 'IF-MIB::ifOutOctets.{#SNMPINDEX}'
              key: 'ifOutOctets[{#SNMPVALUE}]'
              delay: '60'
              history: 7d
              units: bps
              description: 'The number of octets transmitted in MAC frames on this interface, including the MAC header and FCS.'
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
                -
                  type: MULTIPLIER
                  parameters:
                    - '8'
              tags:
                -
                  tag: Application
                  value: Interfaces
          graph_prototypes:
            -
              uuid: 6b9bea9a3e864ab484a49efd5f3b7f77
              name: 'Traffic on interface {#SNMPVALUE}'
              graph_items:
                -
                  drawtype: GRADIENT_LINE
                  color: 00AA00
                  item:
                    host: 'Template SNMP Interfaces'
                    key: 'ifInOctets[{#SNMPVALUE}]'
                -
                  sortorder: '1'
                  drawtype: GRADIENT_LINE
                  color: 3333FF
                  item:
                    host: 'Template SNMP Interfaces'
                    key: 'ifOutOctets[{#SNMPVALUE}]'
      valuemaps:
        -
          uuid: d0753188eaee40b38bbaacab3746ffe8
          name: 'SNMP interface status (ifAdminStatus)'
          mappings:
            -
              value: '1'
              newvalue: up
            -
              value: '2'
              newvalue: down
            -
              value: '3'
              newvalue: testing
        -
          uuid: 4465602008b8407fab95881b77db2043
          name: 'SNMP interface status (ifOperStatus)'
          mappings:
            -
              value: '1'
              newvalue: up
            -
              value: '2'
              newvalue: down
            -
              value: '3'
              newvalue: testing
            -
              value: '4'
              newvalue: unknown
            -
              value: '5'
              newvalue: dormant
            -
              value: '6'
              newvalue: notPresent
            -
              value: '7'
              newvalue: lowerLayerDown
    -
      uuid: a97317fb902643d1a83e2eca5ed4b3e9
      template: 'Template SNMP Processors'
      name: 'Template SNMP Processors'
      groups:
        -
          name: Templates
      discovery_rules:
        -
          uuid: b5ee99eb77c1444d926b68ac20a84251
          name: Processors
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},HOST-RESOURCES-MIB::hrProcessorLoad]'
          key: hrProcessorLoad
          delay: '3600'
          description: '{$SNMP_COMMUNITY} is a global macro.'
          item_prototypes:
            -
              uuid: 183c1a3e57a64187bd53ada7b92c58c6
              name: 'Utilization of processor #$1'
              type: SNMP_AGENT
              snmp_oid: 'HOST-RESOURCES-MIB::hrProcessorLoad.{#SNMPINDEX}'
              key: 'hrProcessorLoad[{#SNMPINDEX}]'
              delay: '60'
              history: 7d
              units: '%'
              description: 'The average, over the last minute, of the percentage of time that this processor was not idle. Implementations may approximate this one minute smoothing period if necessary.'
              tags:
                -
                  tag: Application
                  value: Processors
