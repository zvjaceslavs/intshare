zabbix_export:
  version: '5.4'
  date: '2021-11-09T05:26:16Z'
  groups:
    -
      uuid: 36bff6c29af64692839d077febfc7079
      name: 'Templates/Network devices'
  templates:
    -
      uuid: a8ebd25fc66745bf85ba50aa554cc1d6
      template: monitor_loadbalancer_F5_LTM
      name: 'F5 LTM负载均衡器监控模板'
      description: |
        ## Overview
        
        F5 LTM系列负载均衡器监控模板
        
        
         
        
        
        主要包括CPU利用率、内存利用率、端口状态、端口带宽利用率、报文数、电源状态、风扇状态监控 
        
        
        将宏{$CLOUD\_SNMP\_COMMUNITY}替换为实际团体字即可
        
        
        
        ## Author
        
        zhangzhefeng
        
        
      groups:
        -
          name: 'Templates/Network devices'
      items:
        -
          uuid: 9d7b07872163464e8a381e553508062a
          name: 5分钟内客户端并发连接数
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3375.2.1.1.2.1.93.0
          key: ClientCurrentConnectionNumberIn5Min
          delay: 5m
          history: 3d
          trends: 0d
          units: 个
          tags:
            -
              tag: Application
              value: 基本性能指标
        -
          uuid: 3f2338510aca4d2ea17d1b671ab7095c
          name: 5分钟内CPU利用率
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3375.2.1.1.2.20.37.0
          key: CPUUsageIn5Min
          delay: 5m
          history: 3d
          trends: 0d
          units: '%'
          tags:
            -
              tag: Application
              value: 基本性能指标
          triggers:
            -
              uuid: 5a7362cda9ae464485e338bb0ff2859d
              expression: 'last(/monitor_loadbalancer_F5_LTM/CPUUsageIn5Min)>{$CPU_USAGE_THRESHOLD}'
              name: CPU利用率高
              priority: HIGH
              type: MULTIPLE
              manual_close: 'YES'
        -
          uuid: 17cb9dbd11444295b9a9a7eb3430d6b9
          name: ping丢包率
          type: SIMPLE
          key: 'icmppingloss[,10,,,]'
          delay: 5m
          history: 7d
          trends: 0d
          value_type: FLOAT
          units: '%'
          tags:
            -
              tag: Application
              value: ping检测
          triggers:
            -
              uuid: a6c6fd8516994927bc16c27da151cc78
              expression: 'avg(/monitor_loadbalancer_F5_LTM/icmppingloss[,10,,,],10m)>{$ICMP_LOSS_WARN}'
              name: 'ICMP ping 丢包'
              priority: AVERAGE
              description: 'Last value: {ITEM.LASTVALUE1}.'
              type: MULTIPLE
              manual_close: 'YES'
              dependencies:
                -
                  name: 'ICMP ping不可达'
                  expression: 'last(/monitor_loadbalancer_F5_LTM/icmpping[,5,,,],#1)=0 and last(/monitor_loadbalancer_F5_LTM/icmpping[,5,,,],#2)=1'
        -
          uuid: 6d1afaafd9f24f86b029f2d343e49377
          name: ping时延
          type: SIMPLE
          key: 'icmppingsec[,10,,,,avg]'
          delay: 5m
          history: 7d
          trends: 0d
          value_type: FLOAT
          units: s
          tags:
            -
              tag: Application
              value: ping检测
          triggers:
            -
              uuid: 821d550d59dc4154be83c37756755509
              expression: 'min(/monitor_loadbalancer_F5_LTM/icmppingsec[,10,,,,avg],10m)>{$ICMP_RESPONSE_TIME_WARN}'
              name: 'ICMP ping 时延高'
              priority: AVERAGE
              description: 'Last value: {ITEM.LASTVALUE1}.'
              type: MULTIPLE
              manual_close: 'YES'
              dependencies:
                -
                  name: 'ICMP ping不可达'
                  expression: 'last(/monitor_loadbalancer_F5_LTM/icmpping[,5,,,],#1)=0 and last(/monitor_loadbalancer_F5_LTM/icmpping[,5,,,],#2)=1'
        -
          uuid: c69691ea9b064dea8725f1897504b34d
          name: 'ICMP ping'
          type: SIMPLE
          key: 'icmpping[,5,,,]'
          history: 7d
          trends: 0d
          tags:
            -
              tag: Application
              value: ping检测
          triggers:
            -
              uuid: f0a1727517874390a2c0a7054c56ad7d
              expression: 'last(/monitor_loadbalancer_F5_LTM/icmpping[,5,,,],#1)=0 and last(/monitor_loadbalancer_F5_LTM/icmpping[,5,,,],#2)=1'
              name: 'ICMP ping不可达'
              priority: HIGH
              type: MULTIPLE
              manual_close: 'YES'
            -
              uuid: 824cfea1901247bf9176002cfc418aff
              expression: 'last(/monitor_loadbalancer_F5_LTM/icmpping[,5,,,],#1)=0'
              name: 监控失效（ping不通）
              priority: INFO
              manual_close: 'YES'
              tags:
                -
                  tag: 监控失效原因
                  value: ping不通
        -
          uuid: 3fadeb488f534d7c8f6c469a2a9ad349
          name: 其他内存利用率
          type: CALCULATED
          key: OtherMemoryUsage
          delay: 5m
          history: 3d
          trends: 0d
          value_type: FLOAT
          units: '%'
          params: 'last(//OtherUsedMemory)/last(//OtherTotalMemory)*100'
          tags:
            -
              tag: Application
              value: 基本性能指标
        -
          uuid: 84e2414b5662467d946982e8bcb03192
          name: 其他内存总量
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3375.2.1.1.2.20.44.0
          key: OtherTotalMemory
          delay: 12h
          history: 3d
          trends: 0d
          units: kB
          tags:
            -
              tag: Application
              value: 内存情况
        -
          uuid: 9b6d8640cc274738a3e478419bc32dd1
          name: 其他已使用内存
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3375.2.1.1.2.20.45.0
          key: OtherUsedMemory
          delay: 5m
          history: 3d
          trends: 0d
          units: kB
          tags:
            -
              tag: Application
              value: 内存情况
        -
          uuid: 44320db0487941e6bf45ffde2f099640
          name: 5分钟内来自客户端报文速率
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3375.2.1.1.2.1.87.0
          key: PacketsRateFromClientIn5Min
          delay: 5m
          history: 3d
          trends: 0d
          units: pps
          tags:
            -
              tag: Application
              value: 基本性能指标
        -
          uuid: 034358edfd904286b5ad8f6fc5e1bc1e
          name: 5分钟内来自服务器端报文速率
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3375.2.1.1.2.1.94.0
          key: PacketsRateFromServerIn5Min
          delay: 5m
          history: 3d
          trends: 0d
          units: pps
          tags:
            -
              tag: Application
              value: 基本性能指标
        -
          uuid: 359523044cf94af781452bbab88b4afe
          name: 5分钟内发送至客户端报文速率
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3375.2.1.1.2.1.89.0
          key: PacketsRateToClientIn5Min
          delay: 5m
          history: 3d
          trends: 0d
          units: pps
          tags:
            -
              tag: Application
              value: 基本性能指标
        -
          uuid: deb9d1a525a146b79aca9f3868b8680f
          name: 5分钟内发送至服务器端报文速率
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3375.2.1.1.2.1.96.0
          key: PacketsRateToServerIn5Min
          delay: 5m
          history: 3d
          trends: 0d
          units: pps
          tags:
            -
              tag: Application
              value: 基本性能指标
        -
          uuid: 031f0540593a4618b0f333f4a2ed47fc
          name: 5分钟内服务器端并发连接数
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3375.2.1.1.2.1.100.0
          key: ServerCurrentConnectionNumberIn5Min
          delay: 5m
          history: 3d
          trends: 0d
          units: 个
          tags:
            -
              tag: Application
              value: 基本性能指标
        -
          uuid: d7cfb56d31f447668d9a5684190afa3f
          name: trap消息
          type: SNMP_TRAP
          key: 'snmptrap[""]'
          delay: '0'
          history: 30d
          trends: '0'
          value_type: LOG
          tags:
            -
              tag: Application
              value: trap消息
          triggers:
            -
              uuid: 0fa731439054453f8c1b2760e15c0094
              expression: 'find(/monitor_loadbalancer_F5_LTM/snmptrap[""],,"regexp","Cpu")=1'
              name: F5trap（CPU告警）
              priority: HIGH
              type: MULTIPLE
              manual_close: 'YES'
            -
              uuid: cc6ea18cf39a4fb199631f2856e4496e
              expression: 'find(/monitor_loadbalancer_F5_LTM/snmptrap[""],,"regexp","Dos")=1'
              name: F5trap（DOS告警）
              priority: HIGH
              type: MULTIPLE
              manual_close: 'YES'
            -
              uuid: 56f5f6aa64db4d11bb7e5422d4074146
              expression: 'find(/monitor_loadbalancer_F5_LTM/snmptrap[""],,"regexp","DeletedFromGroup")=1'
              name: F5trap（Group告警）
              priority: HIGH
              type: MULTIPLE
              manual_close: 'YES'
            -
              uuid: 88a2600b000b4a658a666889f6da80bc
              expression: 'find(/monitor_loadbalancer_F5_LTM/snmptrap[""],,"regexp","TrafficGroup")=1'
              name: F5trap（Group告警）
              priority: HIGH
              type: MULTIPLE
              manual_close: 'YES'
            -
              uuid: 8f597acaef67491c841bd2ffbebc74a7
              expression: 'find(/monitor_loadbalancer_F5_LTM/snmptrap[""],,"regexp","TrafficGroupFailover")=1'
              name: F5trap（Group告警）
              priority: HIGH
              type: MULTIPLE
              manual_close: 'YES'
            -
              uuid: 57656ec7996c4ed298714eec6846ba05
              expression: 'find(/monitor_loadbalancer_F5_LTM/snmptrap[""],,"regexp","Log")=1'
              name: F5trap（log告警）
              priority: HIGH
              type: MULTIPLE
              manual_close: 'YES'
            -
              uuid: 9b1a1275c6ad41cda9af45df33ecdd9f
              expression: 'find(/monitor_loadbalancer_F5_LTM/snmptrap[""],,"regexp","NodeDown")=1'
              name: F5trap（Node告警）
              priority: HIGH
              type: MULTIPLE
              manual_close: 'YES'
            -
              uuid: b5283e9833534f5080da8fc7f76e1681
              expression: 'find(/monitor_loadbalancer_F5_LTM/snmptrap[""],,"regexp","VsDisabled")=1'
              name: F5trap（VS告警）
              priority: HIGH
              description: '如果pool全部失效，vs会发出"VsUnavail"告警，因此无需监控'
              type: MULTIPLE
              manual_close: 'YES'
            -
              uuid: ed96234bab6e40f7bc4cb996b6cec716
              expression: 'find(/monitor_loadbalancer_F5_LTM/snmptrap[""],,"regexp","Blade")=1'
              name: F5trap（刀片告警）
              priority: HIGH
              type: MULTIPLE
              manual_close: 'YES'
            -
              uuid: 2ce41a6f7fe24d33baca8352cb260ea7
              expression: 'find(/monitor_loadbalancer_F5_LTM/snmptrap[""],,"regexp","Temp")=1'
              name: F5trap（温度告警）
              priority: HIGH
              type: MULTIPLE
              manual_close: 'YES'
            -
              uuid: bf0a69fa26984ae5bc94836920966cf0
              expression: 'find(/monitor_loadbalancer_F5_LTM/snmptrap[""],,"regexp","Voltage")=1'
              name: F5trap（电压告警）
              priority: HIGH
              type: MULTIPLE
              manual_close: 'YES'
            -
              uuid: 935ecf65fa8b4d9798c8e1395b8fcff4
              expression: 'find(/monitor_loadbalancer_F5_LTM/snmptrap[""],,"regexp","Current")=1'
              name: F5trap（电流告警）
              priority: HIGH
              type: MULTIPLE
              manual_close: 'YES'
            -
              uuid: 4c10bdf343704d62aa2136d046ea98bd
              expression: 'find(/monitor_loadbalancer_F5_LTM/snmptrap[""],,"regexp","Power")=1 or find(/monitor_loadbalancer_F5_LTM/snmptrap[""],,"regexp","Pwr")=1'
              name: F5trap（电源告警）
              priority: HIGH
              type: MULTIPLE
              manual_close: 'YES'
            -
              uuid: 5425617070d34ed1a527e15b9dcd9dd0
              expression: 'find(/monitor_loadbalancer_F5_LTM/snmptrap[""],,"regexp","Disk")=1'
              name: F5trap（硬盘告警）
              priority: HIGH
              type: MULTIPLE
              manual_close: 'YES'
            -
              uuid: 22302c46dcaa4b25b36fb318d8a01566
              expression: 'find(/monitor_loadbalancer_F5_LTM/snmptrap[""],,"regexp","System")=1'
              name: F5trap（系统告警）
              priority: HIGH
              type: MULTIPLE
              manual_close: 'YES'
            -
              uuid: e0d229fe77994de38d40027aad22798a
              expression: 'find(/monitor_loadbalancer_F5_LTM/snmptrap[""],,"regexp","Cluster")=1'
              name: F5trap（集群告警）
              priority: HIGH
              type: MULTIPLE
              manual_close: 'YES'
            -
              uuid: dc14cccb4138433a8fcca1ee98bbe889
              expression: 'find(/monitor_loadbalancer_F5_LTM/snmptrap[""],,"regexp","Fan")=1'
              name: F5trap（风扇告警）
              priority: HIGH
              type: MULTIPLE
              manual_close: 'YES'
            -
              uuid: d1f3031f317d4c96a2a96637d9223b24
              expression: 'find(/monitor_loadbalancer_F5_LTM/snmptrap[""],,"iregexp","coldStart")=1'
              name: 冷重启告警
              priority: HIGH
              type: MULTIPLE
              manual_close: 'YES'
            -
              uuid: 7e4254b03cc046a9a3ba4c370f985036
              expression: 'find(/monitor_loadbalancer_F5_LTM/snmptrap[""],,"iregexp","warmStart")=1'
              name: 热重启告警
              priority: HIGH
              type: MULTIPLE
              manual_close: 'YES'
            -
              uuid: 117c14e9f8e54c1ab47c2073d290997b
              expression: 'find(/monitor_loadbalancer_F5_LTM/snmptrap[""],,"iregexp","linkDown")=1'
              name: 端口down
              priority: HIGH
              type: MULTIPLE
              manual_close: 'YES'
        -
          uuid: 2ecff8c63f594d419f93e1151372532b
          name: Swap内存利用率
          type: CALCULATED
          key: SwapMemoryUsage
          delay: 5m
          history: 3d
          trends: 0d
          value_type: FLOAT
          units: '%'
          params: 'last(//SwapUsedMemory)/last(//SwapTotalMemory)*100'
          tags:
            -
              tag: Application
              value: 基本性能指标
        -
          uuid: d6e501948c18418faf6ec0afd07796a0
          name: Swap内存总量
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3375.2.1.1.2.20.42.0
          key: SwapTotalMemory
          delay: 12h
          history: 3d
          trends: 0d
          units: kB
          tags:
            -
              tag: Application
              value: 内存情况
        -
          uuid: 0228865cd9664c45a8f743bdf39852a7
          name: Swap已使用内存
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3375.2.1.1.2.20.43.0
          key: SwapUsedMemory
          delay: 5m
          history: 3d
          trends: 0d
          units: kB
          tags:
            -
              tag: Application
              value: 内存情况
        -
          uuid: f201afb83483426bafa4379ab67f89a9
          name: 系统信息
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.1.0
          key: SystemDescription
          delay: 1h
          history: 3d
          trends: '0'
          value_type: TEXT
          tags:
            -
              tag: Application
              value: 系统信息
          triggers:
            -
              uuid: 9ff6b2b3252b427da2cabeda31dd70ea
              expression: 'nodata(/monitor_loadbalancer_F5_LTM/SystemDescription,12h)=1'
              name: 监控失效（snmp不通）
              priority: INFO
              manual_close: 'YES'
              tags:
                -
                  tag: 监控失效原因
                  value: snmp不通
        -
          uuid: 865c6af151f246eebe19373d769ed01e
          name: 运行时间
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.3.0
          key: SystemUpTime
          delay: 1h
          history: 3d
          trends: '0'
          value_type: TEXT
          tags:
            -
              tag: Application
              value: 系统信息
        -
          uuid: 1303c294e14c4e1481c7cc142c50f882
          name: TMM内存利用率
          type: CALCULATED
          key: TMMMemoryUsage
          delay: 5m
          history: 3d
          trends: 0d
          value_type: FLOAT
          units: '%'
          params: 'last(//TMMUsedMemory)/last(//TMMTotalMemory)*100'
          tags:
            -
              tag: Application
              value: 基本性能指标
          triggers:
            -
              uuid: 9cc4ffb805234f7484b10203fbd69517
              expression: 'min(/monitor_loadbalancer_F5_LTM/TMMMemoryUsage,#2)>{$TMM_MEMORY_USAGE_THRESHOLD}'
              name: TMM内存利用率高
              priority: HIGH
              type: MULTIPLE
              manual_close: 'YES'
        -
          uuid: 7509c945c27b4585a32fba60109fea13
          name: TMM内存总量
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3375.2.1.1.2.1.143.0
          key: TMMTotalMemory
          delay: 12h
          history: 3d
          trends: 0d
          units: kB
          tags:
            -
              tag: Application
              value: 内存情况
        -
          uuid: bac5303e2bde4f238752820efd1ab25b
          name: TMM已使用内存
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3375.2.1.1.2.1.144.0
          key: TMMUsedMemory
          delay: 5m
          history: 3d
          trends: 0d
          units: kB
          tags:
            -
              tag: Application
              value: 内存情况
        -
          uuid: 14dc566fcfa74d73a606ea8ade0cb27d
          name: 5分钟内来自客户端流量
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3375.2.1.1.2.1.88.0
          key: TrafficFromClientIn5Min
          delay: 5m
          history: 3d
          trends: 0d
          units: bps
          tags:
            -
              tag: Application
              value: 基本性能指标
        -
          uuid: 6c10750e6f2945d5b74dbc315ec72ba2
          name: 5分钟内来自服务器端流量
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3375.2.1.1.2.1.95.0
          key: TrafficFromServerIn5Min
          delay: 5m
          history: 3d
          trends: 0d
          units: bps
          tags:
            -
              tag: Application
              value: 基本性能指标
        -
          uuid: 2fbef4f5268f4acfb56cb615a52a8c0e
          name: 5分钟内发送至客户端流量
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3375.2.1.1.2.1.90.0
          key: TrafficToClientIn5Min
          delay: 5m
          history: 3d
          trends: 0d
          units: bps
          tags:
            -
              tag: Application
              value: 基本性能指标
        -
          uuid: 0600d4d3b82a445c9f336dd5f12b0fea
          name: 5分钟内发送至服务器端流量
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3375.2.1.1.2.1.97.0
          key: TrafficToServerIn5Min
          delay: 5m
          history: 3d
          trends: 0d
          units: bps
          tags:
            -
              tag: Application
              value: 基本性能指标
      discovery_rules:
        -
          uuid: 14c240bf45ca4b07b665c5e8a537d53e
          name: 风扇发现
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.3375.2.1.3.2.1.2.1.1]'
          key: F5FanDiscovery
          delay: 1h
          lifetime: 0d
          item_prototypes:
            -
              uuid: 0ecf80dad45c4f5aaf80f474b014f5f2
              name: '风扇状态 {#SNMPVALUE}'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.3375.2.1.3.2.1.2.1.2.{#SNMPINDEX}'
              key: 'FanStatus.[{#SNMPINDEX}]'
              delay: 30m
              history: 3d
              trends: 0d
              tags:
                -
                  tag: Application
                  value: 风扇状态
              trigger_prototypes:
                -
                  uuid: ed67639ed7444f9a9502b610f04155a7
                  expression: 'last(/monitor_loadbalancer_F5_LTM/FanStatus.[{#SNMPINDEX}],#1)<>1'
                  name: 风扇异常
                  priority: HIGH
                  type: MULTIPLE
                  manual_close: 'YES'
        -
          uuid: 2403a1c638644b688e7171c93799bb06
          name: 端口发现
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.3375.2.1.2.4.4.3.1.1]'
          key: F5InterfaceDiscovery
          delay: 1h
          lifetime: 0d
          item_prototypes:
            -
              uuid: 378c0da07715479b8b20f1fdddcc5c41
              name: '端口带宽 {#SNMPVALUE}'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.3375.2.1.2.4.5.3.1.14.{#SNMPINDEX}'
              key: 'InterfaceBandwidth.[{#SNMPINDEX}]'
              delay: 12h
              history: 3d
              trends: 0d
              tags:
                -
                  tag: Application
                  value: 端口带宽
            -
              uuid: 4d3c78a213aa4ccd82a0b9ccce9a838f
              name: '入方向丢包 {#SNMPVALUE}'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.3375.2.1.2.4.4.3.1.10.{#SNMPINDEX}'
              key: 'InterfaceInPacketDropped.[{#SNMPINDEX}]'
              delay: 10m
              history: 3d
              trends: 0d
              units: pps
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                -
                  tag: Application
                  value: 入方向丢包率
            -
              uuid: ed156eb6685b439a9bcc5f1b5aa49f42
              name: '入方向错包 {#SNMPVALUE}'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.3375.2.1.2.4.4.3.1.8.{#SNMPINDEX}'
              key: 'InterfaceInPacketError.[{#SNMPINDEX}]'
              delay: 10m
              history: 3d
              trends: 0d
              units: pps
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                -
                  tag: Application
                  value: 入方向错包
            -
              uuid: 15e545d170434bb0b2acc235e74624ca
              name: '入方向报文速率 {#SNMPVALUE}'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.3375.2.1.2.4.4.3.1.2.{#SNMPINDEX}'
              key: 'InterfaceInPacketsTraffic.[{#SNMPINDEX}]'
              delay: 10m
              history: 3d
              trends: 0d
              units: pps
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                -
                  tag: Application
                  value: 入方向报文速率
            -
              uuid: c4df0a088ca84a15861a76c3ca5830f0
              name: '入方向流量 {#SNMPVALUE}'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.3375.2.1.2.4.4.3.1.3.{#SNMPINDEX}'
              key: 'InterfaceInTraffic.[{#SNMPINDEX}]'
              delay: 10m
              history: 3d
              trends: 0d
              units: bps
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                -
                  tag: Application
                  value: 入方向流量
            -
              uuid: 36c64476a0c4479780fc02cc9d7a65eb
              name: '出方向丢包 {#SNMPVALUE}'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.3375.2.1.2.4.4.3.1.11.{#SNMPINDEX}'
              key: 'InterfaceOutPacketDropped.[{#SNMPINDEX}]'
              delay: 10m
              history: 3d
              trends: 0d
              units: pps
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                -
                  tag: Application
                  value: 出方向丢包
            -
              uuid: aac1ca774f824f46b61a53f822772ddf
              name: '出方向错包 {#SNMPVALUE}'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.3375.2.1.2.4.4.3.1.9.{#SNMPINDEX}'
              key: 'InterfaceOutPacketError.[{#SNMPINDEX}]'
              delay: 10m
              history: 3d
              trends: 0d
              units: pps
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                -
                  tag: Application
                  value: 出方向错包
            -
              uuid: 74be54a005fb4a1aaacd6919f6457f37
              name: '出方向报文速率 {#SNMPVALUE}'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.3375.2.1.2.4.4.3.1.4.{#SNMPINDEX}'
              key: 'InterfaceOutPacketsTraffic.[{#SNMPINDEX}]'
              delay: 10m
              history: 3d
              trends: 0d
              units: pps
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                -
                  tag: Application
                  value: 出方向报文速率
            -
              uuid: 8e9028cf174c4122adc75a7d039de91d
              name: '出方向流量 {#SNMPVALUE}'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.3375.2.1.2.4.4.3.1.5.{#SNMPINDEX}'
              key: 'InterfaceOutTraffic.[{#SNMPINDEX}]'
              delay: 10m
              history: 3d
              trends: 0d
              units: bps
              preprocessing:
                -
                  type: CHANGE_PER_SECOND
                  parameters:
                    - ''
              tags:
                -
                  tag: Application
                  value: 出方向流量
            -
              uuid: 676eadbda0a64be19c0c9617f6a7d1c0
              name: '端口状态 {#SNMPVALUE}'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.3375.2.1.2.4.1.2.1.17.{#SNMPINDEX}'
              key: 'InterfaceStatus.[{#SNMPINDEX}]'
              delay: 10m
              history: 30d
              trends: 0d
              tags:
                -
                  tag: Application
                  value: 端口状态
              trigger_prototypes:
                -
                  uuid: 74cabbb82f5c421c95a67a320c5208e8
                  expression: 'last(/monitor_loadbalancer_F5_LTM/InterfaceStatus.[{#SNMPINDEX}],#1)=0 and last(/monitor_loadbalancer_F5_LTM/InterfaceStatus.[{#SNMPINDEX}],#2)=1'
                  name: '端口 {#SNMPVALUE} down'
                  priority: HIGH
                  type: MULTIPLE
                  manual_close: 'YES'
        -
          uuid: 19ace9ac4904452696a8e50774c7b2d8
          name: 电源发现
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.3375.2.1.3.2.2.2.1.1]'
          key: F5PowerDiscovery
          delay: 1h
          lifetime: 0d
          item_prototypes:
            -
              uuid: 4af62ab2a78447bd9486c7e2292b95b0
              name: '电源状态 {#SNMPVALUE}'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.3375.2.1.3.2.2.2.1.2.{#SNMPINDEX}'
              key: 'PowerSupplyStatus.[{#SNMPINDEX}]'
              delay: 30m
              history: 3d
              trends: 0d
              tags:
                -
                  tag: Application
                  value: 电源状态
              trigger_prototypes:
                -
                  uuid: 88000df2396949bcb36d9f0b2d256478
                  expression: 'last(/monitor_loadbalancer_F5_LTM/PowerSupplyStatus.[{#SNMPINDEX}],#1)<>1'
                  name: 电源异常
                  priority: HIGH
                  type: MULTIPLE
                  manual_close: 'YES'
      macros:
        -
          macro: '{$CLOUD_SNMP_COMMUNITY}'
          value: public
        -
          macro: '{$CPU_USAGE_THRESHOLD}'
          value: '60'
        -
          macro: '{$ICMP_LOSS_WARN}'
          value: '30'
        -
          macro: '{$ICMP_RESPONSE_TIME_WARN}'
          value: '0.1'
        -
          macro: '{$TMM_MEMORY_USAGE_THRESHOLD}'
          value: '80'
