<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
  <version>5.0</version>
  <date>2021-11-09T08:48:46Z</date>
  <groups>
    <group>
      <name>Templates/Modules</name>
    </group>
    <group>
      <name>Templates Huawei</name>
    </group>
  </groups>
  <templates>
    <template>
      <template>Optical Modules Huawei</template>
      <name>Optical Modules Huawei</name>
      <description>## Overview Template with single lane discovery and multi lane devices. Créditos à https://github.com/GustavoIFelippe ## Author gustavo10telecom</description>
      <groups>
        <group>
          <name>Templates/Modules</name>
        </group>
        <group>
          <name>Templates Huawei</name>
        </group>
      </groups>
      <discovery_rules>
        <discovery_rule>
          <name>Network Optical Modules Multi Lane</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#ENTPHYSICALNAME},ENTITY-MIB::entPhysicalName,{#IFVOLTAGE},1.3.6.1.4.1.2011.5.25.31.1.1.3.1.6]</snmp_oid>
          <key>net.optical.ml.discovery</key>
          <delay>1h</delay>
          <filter>
            <evaltype>FORMULA</evaltype>
            <formula>(A or B) and C</formula>
            <conditions>
              <condition>
                <macro>{#ENTPHYSICALNAME}</macro>
                <value>40GE</value>
                <formulaid>A</formulaid>
              </condition>
              <condition>
                <macro>{#ENTPHYSICALNAME}</macro>
                <value>100GE</value>
                <formulaid>B</formulaid>
              </condition>
              <condition>
                <macro>{#IFVOLTAGE}</macro>
                <value>-1</value>
                <operator>NOT_MATCHES_REGEX</operator>
                <formulaid>C</formulaid>
              </condition>
            </conditions>
          </filter>
          <lifetime>1d</lifetime>
          <item_prototypes>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: RxPower Lane0</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.2011.5.25.31.1.1.3.1.32.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalLaneRxPowerMLLane0[{#ENTPHYSICALNAME}]</key>
              <delay>5m</delay>
              <history>10d</history>
              <value_type>FLOAT</value_type>
              <units>dBm</units>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
              <preprocessing>
                <step>
                  <type>REGEX</type>
                  <params>([^\,\s]*),([^\,\s]*),([^,\s]*),([^,\s]*) \1</params>
                </step>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.01</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: RxPower Lane1</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.2011.5.25.31.1.1.3.1.32.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalLaneRxPowerMLLane1[{#ENTPHYSICALNAME}]</key>
              <delay>5m</delay>
              <history>10d</history>
              <value_type>FLOAT</value_type>
              <units>dBm</units>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
              <preprocessing>
                <step>
                  <type>REGEX</type>
                  <params>([^\,\s]*),([^\,\s]*),([^,\s]*),([^,\s]*) \2</params>
                </step>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.01</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: RxPower Lane2</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.2011.5.25.31.1.1.3.1.32.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalLaneRxPowerMLLane2[{#ENTPHYSICALNAME}]</key>
              <delay>5m</delay>
              <history>10d</history>
              <value_type>FLOAT</value_type>
              <units>dBm</units>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
              <preprocessing>
                <step>
                  <type>REGEX</type>
                  <params>([^\,\s]*),([^\,\s]*),([^,\s]*),([^,\s]*) \3</params>
                </step>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.01</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: RxPower Lane3</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.2011.5.25.31.1.1.3.1.32.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalLaneRxPowerMLLane3[{#ENTPHYSICALNAME}]</key>
              <delay>5m</delay>
              <history>10d</history>
              <value_type>FLOAT</value_type>
              <units>dBm</units>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
              <preprocessing>
                <step>
                  <type>REGEX</type>
                  <params>([^\,\s]*),([^\,\s]*),([^,\s]*),([^,\s]*) \4</params>
                </step>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.01</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: TxPower Lane0</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.2011.5.25.31.1.1.3.1.33.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalLaneTxPowerMLLane0[{#ENTPHYSICALNAME}]</key>
              <delay>5m</delay>
              <history>10d</history>
              <value_type>FLOAT</value_type>
              <units>dBm</units>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
              <preprocessing>
                <step>
                  <type>REGEX</type>
                  <params>([^\,\s]*),([^\,\s]*),([^,\s]*),([^,\s]*) \1</params>
                </step>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.01</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: TxPower Lane1</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.2011.5.25.31.1.1.3.1.33.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalLaneTxPowerMLLane1[{#ENTPHYSICALNAME}]</key>
              <delay>5m</delay>
              <history>10d</history>
              <value_type>FLOAT</value_type>
              <units>dBm</units>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
              <preprocessing>
                <step>
                  <type>REGEX</type>
                  <params>([^\,\s]*),([^\,\s]*),([^,\s]*),([^,\s]*) \2</params>
                </step>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.01</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: TxPower Lane2</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.2011.5.25.31.1.1.3.1.33.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalLaneTxPowerMLLane2[{#ENTPHYSICALNAME}]</key>
              <delay>5m</delay>
              <history>10d</history>
              <value_type>FLOAT</value_type>
              <units>dBm</units>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
              <preprocessing>
                <step>
                  <type>REGEX</type>
                  <params>([^\,\s]*),([^\,\s]*),([^,\s]*),([^,\s]*) \3</params>
                </step>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.01</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: TxPower Lane3</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.2011.5.25.31.1.1.3.1.33.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalLaneTxPowerMLLane3[{#ENTPHYSICALNAME}]</key>
              <delay>5m</delay>
              <history>10d</history>
              <value_type>FLOAT</value_type>
              <units>dBm</units>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
              <preprocessing>
                <step>
                  <type>REGEX</type>
                  <params>([^\,\s]*),([^\,\s]*),([^,\s]*),([^,\s]*) \4</params>
                </step>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.01</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: RxPower High Threshold</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2011.5.25.31.1.1.3.1.14.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalRxHighThresholdML[{#ENTPHYSICALNAME}]</key>
              <delay>30m</delay>
              <history>30d</history>
              <value_type>FLOAT</value_type>
              <units>dBm</units>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.01</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: RxPower High Warning Threshold</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2011.5.25.31.1.1.3.1.21.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalRxHighWarnThresholdML[{#ENTPHYSICALNAME}]</key>
              <delay>30m</delay>
              <history>30d</history>
              <value_type>FLOAT</value_type>
              <units>dBm</units>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.01</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: RxPower Low Threshold</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2011.5.25.31.1.1.3.1.13.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalRxLowThresholdML[{#ENTPHYSICALNAME}]</key>
              <delay>30m</delay>
              <history>30d</history>
              <value_type>FLOAT</value_type>
              <units>dBm</units>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.01</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: RxPower Low Warning Threshold</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2011.5.25.31.1.1.3.1.20.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalRxLowWarnThresholdML[{#ENTPHYSICALNAME}]</key>
              <delay>30m</delay>
              <history>30d</history>
              <value_type>FLOAT</value_type>
              <units>dBm</units>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.01</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: Temperature</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2011.5.25.31.1.1.3.1.5.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalTemperatureML[{#ENTPHYSICALNAME}]</key>
              <delay>5m</delay>
              <history>10d</history>
              <value_type>FLOAT</value_type>
              <units>ºC</units>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()} >= {$TRANSCEIVER_TEMP_WARN}</expression>
                  <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                  <recovery_expression>{last()} &lt; {$TRANSCEIVER_TEMP_WARN}</recovery_expression>
                  <name>High Temperature on Optical Module ML: {#ENTPHYSICALNAME}</name>
                  <priority>HIGH</priority>
                  <manual_close>YES</manual_close>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: TxPower High Threshold</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2011.5.25.31.1.1.3.1.16.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalTxHighThresholdML[{#ENTPHYSICALNAME}]</key>
              <delay>30m</delay>
              <history>30d</history>
              <value_type>FLOAT</value_type>
              <units>dBm</units>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.01</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: TxPower High Warning Threshold</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2011.5.25.31.1.1.3.1.23.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalTxHighWarnThresholdML[{#ENTPHYSICALNAME}]</key>
              <delay>30m</delay>
              <history>30d</history>
              <value_type>FLOAT</value_type>
              <units>dBm</units>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.01</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: TxPower Low Threshold</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2011.5.25.31.1.1.3.1.15.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalTxLowThresholdML[{#ENTPHYSICALNAME}]</key>
              <delay>30m</delay>
              <history>30d</history>
              <value_type>FLOAT</value_type>
              <units>dBm</units>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.01</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: TxPower Low Warning Threshold</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2011.5.25.31.1.1.3.1.22.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalTxLowWarnThresholdML[{#ENTPHYSICALNAME}]</key>
              <delay>30m</delay>
              <history>30d</history>
              <value_type>FLOAT</value_type>
              <units>dBm</units>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.01</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: Vendor Name</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2011.5.25.31.1.1.3.1.24.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalVenderNameML[{#ENTPHYSICALNAME}]</key>
              <delay>1h</delay>
              <history>30d</history>
              <trends>0</trends>
              <value_type>TEXT</value_type>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
            </item_prototype>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: Type</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2011.5.25.31.1.1.3.1.25.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalVenderPnML[{#ENTPHYSICALNAME}]</key>
              <delay>1h</delay>
              <history>30d</history>
              <trends>0</trends>
              <value_type>TEXT</value_type>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
            </item_prototype>
          </item_prototypes>
          <trigger_prototypes>
            <trigger_prototype>
              <expression>(({Optical Modules Huawei:hwEntityOpticalLaneRxPowerMLLane0[{#ENTPHYSICALNAME}].last()} or {Optical Modules Huawei:hwEntityOpticalLaneRxPowerMLLane1[{#ENTPHYSICALNAME}].last()} or {Optical Modules Huawei:hwEntityOpticalLaneRxPowerMLLane2[{#ENTPHYSICALNAME}].last()} or {Optical Modules Huawei:hwEntityOpticalLaneRxPowerMLLane3[{#ENTPHYSICALNAME}].last()}) &lt;= ({Optical Modules Huawei:hwEntityOpticalRxLowWarnThresholdML[{#ENTPHYSICALNAME}].last()})) and (({Optical Modules Huawei:hwEntityOpticalLaneRxPowerMLLane0[{#ENTPHYSICALNAME}].last()} or {Optical Modules Huawei:hwEntityOpticalLaneRxPowerMLLane1[{#ENTPHYSICALNAME}].last()} or {Optical Modules Huawei:hwEntityOpticalLaneRxPowerMLLane2[{#ENTPHYSICALNAME}].last()} or {Optical Modules Huawei:hwEntityOpticalLaneRxPowerMLLane3[{#ENTPHYSICALNAME}].last()}) &lt;> -40)</expression>
              <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
              <recovery_expression>(({Optical Modules Huawei:hwEntityOpticalLaneRxPowerMLLane0[{#ENTPHYSICALNAME}].last()} or {Optical Modules Huawei:hwEntityOpticalLaneRxPowerMLLane1[{#ENTPHYSICALNAME}].last()} or {Optical Modules Huawei:hwEntityOpticalLaneRxPowerMLLane2[{#ENTPHYSICALNAME}].last()} or {Optical Modules Huawei:hwEntityOpticalLaneRxPowerMLLane3[{#ENTPHYSICALNAME}].last()}) > ({Optical Modules Huawei:hwEntityOpticalRxLowWarnThresholdML[{#ENTPHYSICALNAME}].last()})) and (({Optical Modules Huawei:hwEntityOpticalLaneRxPowerMLLane0[{#ENTPHYSICALNAME}].last()} or {Optical Modules Huawei:hwEntityOpticalLaneRxPowerMLLane1[{#ENTPHYSICALNAME}].last()} or {Optical Modules Huawei:hwEntityOpticalLaneRxPowerMLLane2[{#ENTPHYSICALNAME}].last()} or {Optical Modules Huawei:hwEntityOpticalLaneRxPowerMLLane3[{#ENTPHYSICALNAME}].last()}) &lt;> -40)</recovery_expression>
              <name>Low Rx Signal on Optical Module ML: {#ENTPHYSICALNAME}</name>
              <priority>DISASTER</priority>
              <manual_close>YES</manual_close>
            </trigger_prototype>
            <trigger_prototype>
              <expression>(({Optical Modules Huawei:hwEntityOpticalLaneTxPowerMLLane0[{#ENTPHYSICALNAME}].last()} or {Optical Modules Huawei:hwEntityOpticalLaneTxPowerMLLane1[{#ENTPHYSICALNAME}].last()} or {Optical Modules Huawei:hwEntityOpticalLaneTxPowerMLLane2[{#ENTPHYSICALNAME}].last()} or {Optical Modules Huawei:hwEntityOpticalLaneTxPowerMLLane3[{#ENTPHYSICALNAME}].last()}) &lt;= ({Optical Modules Huawei:hwEntityOpticalTxLowWarnThresholdML[{#ENTPHYSICALNAME}].last()})) and (({Optical Modules Huawei:hwEntityOpticalLaneTxPowerMLLane0[{#ENTPHYSICALNAME}].last()} or {Optical Modules Huawei:hwEntityOpticalLaneTxPowerMLLane1[{#ENTPHYSICALNAME}].last()} or {Optical Modules Huawei:hwEntityOpticalLaneTxPowerMLLane2[{#ENTPHYSICALNAME}].last()} or {Optical Modules Huawei:hwEntityOpticalLaneTxPowerMLLane3[{#ENTPHYSICALNAME}].last()}) &lt;> -40)</expression>
              <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
              <recovery_expression>(({Optical Modules Huawei:hwEntityOpticalLaneTxPowerMLLane0[{#ENTPHYSICALNAME}].last()} or {Optical Modules Huawei:hwEntityOpticalLaneTxPowerMLLane1[{#ENTPHYSICALNAME}].last()} or {Optical Modules Huawei:hwEntityOpticalLaneTxPowerMLLane2[{#ENTPHYSICALNAME}].last()} or {Optical Modules Huawei:hwEntityOpticalLaneTxPowerMLLane3[{#ENTPHYSICALNAME}].last()}) > ({Optical Modules Huawei:hwEntityOpticalTxLowWarnThresholdML[{#ENTPHYSICALNAME}].last()})) and (({Optical Modules Huawei:hwEntityOpticalLaneTxPowerMLLane0[{#ENTPHYSICALNAME}].last()} or {Optical Modules Huawei:hwEntityOpticalLaneTxPowerMLLane1[{#ENTPHYSICALNAME}].last()} or {Optical Modules Huawei:hwEntityOpticalLaneTxPowerMLLane2[{#ENTPHYSICALNAME}].last()} or {Optical Modules Huawei:hwEntityOpticalLaneTxPowerMLLane3[{#ENTPHYSICALNAME}].last()}) &lt;> -40)</recovery_expression>
              <name>Low Tx Signal on Optical Module ML: {#ENTPHYSICALNAME}</name>
              <priority>DISASTER</priority>
              <manual_close>YES</manual_close>
            </trigger_prototype>
            <trigger_prototype>
              <expression>(({Optical Modules Huawei:hwEntityOpticalLaneRxPowerMLLane0[{#ENTPHYSICALNAME}].change()} &lt;= {$ATTENUATIONFACTOR}) or ({Optical Modules Huawei:hwEntityOpticalLaneRxPowerMLLane1[{#ENTPHYSICALNAME}].change()} &lt;= {$ATTENUATIONFACTOR}) or ({Optical Modules Huawei:hwEntityOpticalLaneRxPowerMLLane2[{#ENTPHYSICALNAME}].change()} &lt;= {$ATTENUATIONFACTOR}) or ({Optical Modules Huawei:hwEntityOpticalLaneRxPowerMLLane3[{#ENTPHYSICALNAME}].change()} &lt;= {$ATTENUATIONFACTOR})) and (({Optical Modules Huawei:hwEntityOpticalLaneRxPowerMLLane0[{#ENTPHYSICALNAME}].last()} or {Optical Modules Huawei:hwEntityOpticalLaneRxPowerMLLane1[{#ENTPHYSICALNAME}].last()} or {Optical Modules Huawei:hwEntityOpticalLaneRxPowerMLLane2[{#ENTPHYSICALNAME}].last()} or {Optical Modules Huawei:hwEntityOpticalLaneRxPowerMLLane3[{#ENTPHYSICALNAME}].last()}) &lt;> -40)</expression>
              <recovery_mode>NONE</recovery_mode>
              <name>Signal Atenuation on Optical Module ML: {#ENTPHYSICALNAME}</name>
              <priority>HIGH</priority>
              <manual_close>YES</manual_close>
            </trigger_prototype>
          </trigger_prototypes>
          <graph_prototypes>
            <graph_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: Rx Signals</name>
              <graph_items>
                <graph_item>
                  <drawtype>BOLD_LINE</drawtype>
                  <color>59DF00</color>
                  <item>
                    <host>Optical Modules Huawei</host>
                    <key>hwEntityOpticalRxHighThresholdML[{#ENTPHYSICALNAME}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>1</sortorder>
                  <color>FF0000</color>
                  <item>
                    <host>Optical Modules Huawei</host>
                    <key>hwEntityOpticalLaneRxPowerMLLane0[{#ENTPHYSICALNAME}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>2</sortorder>
                  <color>0040FF</color>
                  <item>
                    <host>Optical Modules Huawei</host>
                    <key>hwEntityOpticalLaneRxPowerMLLane1[{#ENTPHYSICALNAME}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>3</sortorder>
                  <color>FFFF00</color>
                  <item>
                    <host>Optical Modules Huawei</host>
                    <key>hwEntityOpticalLaneRxPowerMLLane2[{#ENTPHYSICALNAME}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>4</sortorder>
                  <color>BF00FF</color>
                  <item>
                    <host>Optical Modules Huawei</host>
                    <key>hwEntityOpticalLaneRxPowerMLLane3[{#ENTPHYSICALNAME}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>5</sortorder>
                  <drawtype>BOLD_LINE</drawtype>
                  <color>CC6600</color>
                  <item>
                    <host>Optical Modules Huawei</host>
                    <key>hwEntityOpticalRxLowThresholdML[{#ENTPHYSICALNAME}]</key>
                  </item>
                </graph_item>
              </graph_items>
            </graph_prototype>
            <graph_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: Temperature</name>
              <graph_items>
                <graph_item>
                  <drawtype>BOLD_LINE</drawtype>
                  <color>FF0000</color>
                  <item>
                    <host>Optical Modules Huawei</host>
                    <key>hwEntityOpticalTemperatureML[{#ENTPHYSICALNAME}]</key>
                  </item>
                </graph_item>
              </graph_items>
            </graph_prototype>
            <graph_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: Tx Signals</name>
              <graph_items>
                <graph_item>
                  <drawtype>BOLD_LINE</drawtype>
                  <color>59DF00</color>
                  <item>
                    <host>Optical Modules Huawei</host>
                    <key>hwEntityOpticalTxHighThresholdML[{#ENTPHYSICALNAME}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>1</sortorder>
                  <color>FF0000</color>
                  <item>
                    <host>Optical Modules Huawei</host>
                    <key>hwEntityOpticalLaneTxPowerMLLane0[{#ENTPHYSICALNAME}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>2</sortorder>
                  <color>0040FF</color>
                  <item>
                    <host>Optical Modules Huawei</host>
                    <key>hwEntityOpticalLaneTxPowerMLLane1[{#ENTPHYSICALNAME}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>3</sortorder>
                  <color>FFFF00</color>
                  <item>
                    <host>Optical Modules Huawei</host>
                    <key>hwEntityOpticalLaneTxPowerMLLane2[{#ENTPHYSICALNAME}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>4</sortorder>
                  <color>BF00FF</color>
                  <item>
                    <host>Optical Modules Huawei</host>
                    <key>hwEntityOpticalLaneTxPowerMLLane3[{#ENTPHYSICALNAME}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>5</sortorder>
                  <drawtype>BOLD_LINE</drawtype>
                  <color>CC6600</color>
                  <item>
                    <host>Optical Modules Huawei</host>
                    <key>hwEntityOpticalTxLowThresholdML[{#ENTPHYSICALNAME}]</key>
                  </item>
                </graph_item>
              </graph_items>
            </graph_prototype>
          </graph_prototypes>
        </discovery_rule>
        <discovery_rule>
          <name>Network Optical Modules Single Lane</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#ENTPHYSICALNAME},ENTITY-MIB::entPhysicalName,{#IFVOLTAGE},1.3.6.1.4.1.2011.5.25.31.1.1.3.1.6]</snmp_oid>
          <key>net.optical.sl.discovery</key>
          <delay>1h</delay>
          <filter>
            <evaltype>AND</evaltype>
            <conditions>
              <condition>
                <macro>{#ENTPHYSICALNAME}</macro>
                <value>XG</value>
                <formulaid>A</formulaid>
              </condition>
              <condition>
                <macro>{#IFVOLTAGE}</macro>
                <value>-1</value>
                <operator>NOT_MATCHES_REGEX</operator>
                <formulaid>B</formulaid>
              </condition>
            </conditions>
          </filter>
          <lifetime>1d</lifetime>
          <item_prototypes>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: RxPower</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.2011.5.25.31.1.1.3.1.32.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalLaneRxPower[{#ENTPHYSICALNAME}]</key>
              <delay>5m</delay>
              <history>10d</history>
              <value_type>FLOAT</value_type>
              <units>dBm</units>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface SL: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.01</params>
                </step>
              </preprocessing>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>({change()} &lt;= {$ATTENUATIONFACTOR}) and ({last()} &lt;> -40)</expression>
                  <recovery_mode>NONE</recovery_mode>
                  <name>Signal Atenuation on Optical Module SL: {#ENTPHYSICALNAME}</name>
                  <priority>HIGH</priority>
                  <manual_close>YES</manual_close>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: TxPower</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.2011.5.25.31.1.1.3.1.33.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalLaneTxPower[{#ENTPHYSICALNAME}]</key>
              <delay>5m</delay>
              <history>10d</history>
              <value_type>FLOAT</value_type>
              <units>dBm</units>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface SL: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.01</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: RxPower High Threshold</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2011.5.25.31.1.1.3.1.14.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalRxHighThreshold[{#ENTPHYSICALNAME}]</key>
              <delay>10m</delay>
              <history>10d</history>
              <value_type>FLOAT</value_type>
              <units>dBm</units>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface SL: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.01</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: RxPower High Warning Threshold</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2011.5.25.31.1.1.3.1.21.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalRxHighWarnThreshold[{#ENTPHYSICALNAME}]</key>
              <delay>10m</delay>
              <history>10d</history>
              <value_type>FLOAT</value_type>
              <units>dBm</units>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface SL: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.01</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: RxPower Low Threshold</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2011.5.25.31.1.1.3.1.13.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalRxLowThreshold[{#ENTPHYSICALNAME}]</key>
              <delay>10m</delay>
              <history>10d</history>
              <value_type>FLOAT</value_type>
              <units>dBm</units>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface SL: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.01</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: RxPower Low Warning Threshold</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2011.5.25.31.1.1.3.1.20.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalRxLowWarnThreshold[{#ENTPHYSICALNAME}]</key>
              <delay>10m</delay>
              <history>10d</history>
              <value_type>FLOAT</value_type>
              <units>dBm</units>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface SL: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.01</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: Temperature</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.2011.5.25.31.1.1.3.1.5.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalTemperature[{#ENTPHYSICALNAME}]</key>
              <delay>5m</delay>
              <history>30d</history>
              <value_type>FLOAT</value_type>
              <units>°C</units>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface SL: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()} >= {$TRANSCEIVER_TEMP_WARN}</expression>
                  <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
                  <recovery_expression>{last()} > {$TRANSCEIVER_TEMP_WARN}</recovery_expression>
                  <name>High Temperature on Optical Module SL: {#ENTPHYSICALNAME}</name>
                  <priority>HIGH</priority>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: TxPower High Threshold</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2011.5.25.31.1.1.3.1.16.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalTxHighThreshold[{#ENTPHYSICALNAME}]</key>
              <delay>10m</delay>
              <history>10d</history>
              <value_type>FLOAT</value_type>
              <units>dBm</units>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface SL: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.01</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: TxPower High Warning Threshold</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2011.5.25.31.1.1.3.1.23.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalTxHighWarnThreshold[{#ENTPHYSICALNAME}]</key>
              <delay>10m</delay>
              <history>10d</history>
              <value_type>FLOAT</value_type>
              <units>dBm</units>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface SL: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.01</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: TxPower Low Threshold</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2011.5.25.31.1.1.3.1.15.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalTxLowThreshold[{#ENTPHYSICALNAME}]</key>
              <delay>10m</delay>
              <history>10d</history>
              <value_type>FLOAT</value_type>
              <units>dBm</units>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface SL: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.01</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: TxPower Low Warning Threshold</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2011.5.25.31.1.1.3.1.22.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalTxLowWarnThreshold[{#ENTPHYSICALNAME}]</key>
              <delay>10m</delay>
              <history>10d</history>
              <value_type>FLOAT</value_type>
              <units>dBm</units>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface SL: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
              <preprocessing>
                <step>
                  <type>MULTIPLIER</type>
                  <params>0.01</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: Vendor Name</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2011.5.25.31.1.1.3.1.24.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalVenderName[{#ENTPHYSICALNAME}]</key>
              <delay>1h</delay>
              <history>30d</history>
              <trends>0</trends>
              <value_type>TEXT</value_type>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface SL: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
            </item_prototype>
            <item_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: Type</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>.1.3.6.1.4.1.2011.5.25.31.1.1.3.1.25.{#SNMPINDEX}</snmp_oid>
              <key>hwEntityOpticalVenderPn[{#ENTPHYSICALNAME}]</key>
              <delay>1h</delay>
              <history>30d</history>
              <trends>0</trends>
              <value_type>TEXT</value_type>
              <application_prototypes>
                <application_prototype>
                  <name>Transceiver Data Interface SL: {#ENTPHYSICALNAME}</name>
                </application_prototype>
              </application_prototypes>
            </item_prototype>
          </item_prototypes>
          <trigger_prototypes>
            <trigger_prototype>
              <expression>({Optical Modules Huawei:hwEntityOpticalLaneRxPower[{#ENTPHYSICALNAME}].last()} &lt;= ({Optical Modules Huawei:hwEntityOpticalRxLowThreshold[{#ENTPHYSICALNAME}].last()} * 0.90)) and ({Optical Modules Huawei:hwEntityOpticalLaneRxPower[{#ENTPHYSICALNAME}].last()} &lt;> -40)</expression>
              <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
              <recovery_expression>({Optical Modules Huawei:hwEntityOpticalLaneRxPower[{#ENTPHYSICALNAME}].last()} > ({Optical Modules Huawei:hwEntityOpticalRxLowThreshold[{#ENTPHYSICALNAME}].last()} * 0.90)) and ({Optical Modules Huawei:hwEntityOpticalLaneRxPower[{#ENTPHYSICALNAME}].last()} &lt;> -40)</recovery_expression>
              <name>Low Rx Signal on Optical Module SL: {#ENTPHYSICALNAME}</name>
              <priority>DISASTER</priority>
              <manual_close>YES</manual_close>
            </trigger_prototype>
            <trigger_prototype>
              <expression>({Optical Modules Huawei:hwEntityOpticalLaneTxPower[{#ENTPHYSICALNAME}].last()} &lt;= ({Optical Modules Huawei:hwEntityOpticalTxLowThreshold[{#ENTPHYSICALNAME}].last()} * 0.90)) and ({Optical Modules Huawei:hwEntityOpticalLaneTxPower[{#ENTPHYSICALNAME}].last()} &lt;> -40)</expression>
              <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
              <recovery_expression>({Optical Modules Huawei:hwEntityOpticalLaneTxPower[{#ENTPHYSICALNAME}].last()} > ({Optical Modules Huawei:hwEntityOpticalTxLowThreshold[{#ENTPHYSICALNAME}].last()} * 0.90)) and ({Optical Modules Huawei:hwEntityOpticalLaneTxPower[{#ENTPHYSICALNAME}].last()} &lt;> -40)</recovery_expression>
              <name>Low Tx Signal on Optical Module SL: {#ENTPHYSICALNAME}</name>
              <priority>DISASTER</priority>
              <manual_close>YES</manual_close>
            </trigger_prototype>
          </trigger_prototypes>
          <graph_prototypes>
            <graph_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: Rx Signals (SL)</name>
              <graph_items>
                <graph_item>
                  <color>59DF00</color>
                  <item>
                    <host>Optical Modules Huawei</host>
                    <key>hwEntityOpticalRxHighThreshold[{#ENTPHYSICALNAME}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>1</sortorder>
                  <color>0040FF</color>
                  <item>
                    <host>Optical Modules Huawei</host>
                    <key>hwEntityOpticalLaneRxPower[{#ENTPHYSICALNAME}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>2</sortorder>
                  <color>CC6600</color>
                  <item>
                    <host>Optical Modules Huawei</host>
                    <key>hwEntityOpticalRxLowThreshold[{#ENTPHYSICALNAME}]</key>
                  </item>
                </graph_item>
              </graph_items>
            </graph_prototype>
            <graph_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: Temperature (SL)</name>
              <graph_items>
                <graph_item>
                  <drawtype>BOLD_LINE</drawtype>
                  <color>FF0000</color>
                  <item>
                    <host>Optical Modules Huawei</host>
                    <key>hwEntityOpticalTemperature[{#ENTPHYSICALNAME}]</key>
                  </item>
                </graph_item>
              </graph_items>
            </graph_prototype>
            <graph_prototype>
              <name>Optical Module Interface {#ENTPHYSICALNAME}: Tx Signals (SL)</name>
              <graph_items>
                <graph_item>
                  <color>59DF00</color>
                  <item>
                    <host>Optical Modules Huawei</host>
                    <key>hwEntityOpticalLaneTxPower[{#ENTPHYSICALNAME}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>1</sortorder>
                  <color>0040FF</color>
                  <item>
                    <host>Optical Modules Huawei</host>
                    <key>hwEntityOpticalTxHighThreshold[{#ENTPHYSICALNAME}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>2</sortorder>
                  <color>CC6600</color>
                  <item>
                    <host>Optical Modules Huawei</host>
                    <key>hwEntityOpticalTxLowThreshold[{#ENTPHYSICALNAME}]</key>
                  </item>
                </graph_item>
              </graph_items>
            </graph_prototype>
          </graph_prototypes>
        </discovery_rule>
      </discovery_rules>
      <macros>
        <macro>
          <macro>{$ATTENUATIONFACTOR}</macro>
          <value>-2</value>
        </macro>
        <macro>
          <macro>{$SNMP_COMMUNITY}</macro>
          <value>dEz_sW_@ro</value>
        </macro>
        <macro>
          <macro>{$TRANSCEIVER_TEMP_WARN}</macro>
          <value>70</value>
        </macro>
      </macros>
    </template>
  </templates>
</zabbix_export>