<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
  <version>5.0</version>
  <date>2021-11-09T04:55:40Z</date>
  <groups>
    <group>
      <name>Templates</name>
    </group>
  </groups>
  <templates>
    <template>
      <template>SNMP HP MSA 2040 SAN</template>
      <name>SNMP HP MSA 2040 SAN</name>
      <groups>
        <group>
          <name>Templates</name>
        </group>
      </groups>
      <applications>
        <application>
          <name>Connectivity unit information</name>
        </application>
        <application>
          <name>Connectivity unit port information</name>
        </application>
        <application>
          <name>Connectivity unit sensor information</name>
        </application>
      </applications>
      <discovery_rules>
        <discovery_rule>
          <name>Connectivity unit info</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#CONNUNITNAME}, 1.3.6.1.3.94.1.6.1.20]</snmp_oid>
          <key>connUnitName</key>
          <delay>24h</delay>
          <description>A display string containing a name for this connectivity unit. This object value should be persistent between boots.</description>
          <item_prototypes>
            <item_prototype>
              <name>Connectivity unit {#CONNUNITNAME} global ID</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.3.94.1.6.1.2.{#SNMPINDEX}</snmp_oid>
              <key>connUnitGlobalID[{#SNMPINDEX}]</key>
              <delay>1h</delay>
              <trends>0</trends>
              <value_type>TEXT</value_type>
              <description>An optional global-scope identifier for this connectivity unit. It MUST be a WWN for this connectivity unit or 16 octets of value zero. WWN formats requiring fewer than 16 octets MUST be extended to 16 octets with trailing zero octets, Left justified, zero filled, If a WWN is used for connUnitId, the same WWN MUST be used for connUnitGlobalId. When a non-zero value is provided, it SHOULD be persistent across agent and unit resets. It SHOULD be globally unique. It SHOULD be one of these FC-PH/PH3 formats: IEEE (NAA=1) IEEE Extended (NAA=2) IEEE Registered (NAA=5). IEEE Registered extended (NAA=6). Use of the IEEE formats allows any IEEE-registered vendor to assure global uniqueness independently. The following are some references on IEEE WWN formats: http://standards.ieee.org/regauth/oui/tutorials/fibreformat.html http://standards.ieee.org/regauth/oui/tutorials/fibrecomp_id.html If one or more WWNs are associated with the connUnit via other management methods, one of them SHOULD be used for connUnitGlobalId. If there is not a WWN assigned specifically to the connUnit, there is some merit, though not a requirement, to using a WWN assigned to (one of) its permanently attached FC/LAN interface(s). This can not risk uniqueness, though. As a counterexample, if your agent runs in a host and the host has an HBA, it is quite possible that agent, host, and HBA will all be distinct connUnits, so the host and agent can not use the WWN of the HBA. Another example: If your hub has a built-in Ethernet port, it might be reasonable for the hub to use its MAC address (prefixed with the appropriate NAA) as its connUnitId. But if the Ethernet were a replaceable PCCard, the hub should have an independent ID.</description>
              <applications>
                <application>
                  <name>Connectivity unit information</name>
                </application>
              </applications>
            </item_prototype>
            <item_prototype>
              <name>Connectivity unit {#CONNUNITNAME} ID</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.3.94.1.6.1.1.{#SNMPINDEX}</snmp_oid>
              <key>connUnitID[{#SNMPINDEX}]</key>
              <delay>1h</delay>
              <trends>0</trends>
              <value_type>TEXT</value_type>
              <description>The unique identification for this connectivity unit among those within this proxy domain. The value MUST be unique within the proxy domain because it is the index variable for connUnitTable. The value assigned to a given conectivity unit SHOULD be persistent across agent and unit resets. It SHOULD be the same as connUnitGlobalId if connUnitGlobalId is known and stable.</description>
              <applications>
                <application>
                  <name>Connectivity unit information</name>
                </application>
              </applications>
            </item_prototype>
            <item_prototype>
              <name>Connectivity unit {#CONNUNITNAME} state</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.3.94.1.6.1.5.{#SNMPINDEX}</snmp_oid>
              <key>connUnitState[{#SNMPINDEX}]</key>
              <delay>5m</delay>
              <description>This object reports the overall state of the connectivity unit. The meaning of all values is essentially self-explanatory. Any of these values may occur with any of the ConnUnitStatus values.</description>
              <applications>
                <application>
                  <name>Connectivity unit information</name>
                </application>
              </applications>
              <valuemap>
                <name>HP2040ConnUnitState</name>
              </valuemap>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()}=3</expression>
                  <name>Connectivity unit {#CONNUNITNAME} have unknown state</name>
                  <priority>HIGH</priority>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
            <item_prototype>
              <name>Connectivity unit {#CONNUNITNAME} status</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.3.94.1.6.1.6.{#SNMPINDEX}</snmp_oid>
              <key>connUnitStatus[{#SNMPINDEX}]</key>
              <delay>5m</delay>
              <description>Overall status of the connectivity unit. The goal of this object is to be the single poll point to check the status of the connunit. If there is any other component that has warning, then this should be set to warning, etc. Any of these values may occur with any of the ConnUnitState values.</description>
              <applications>
                <application>
                  <name>Connectivity unit information</name>
                </application>
              </applications>
              <valuemap>
                <name>HP2040ConnUnitStatus</name>
              </valuemap>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()}=5</expression>
                  <name>Connectivity unit {#CONNUNITNAME} have failed status</name>
                  <priority>HIGH</priority>
                </trigger_prototype>
                <trigger_prototype>
                  <expression>{last()}=1</expression>
                  <name>Connectivity unit {#CONNUNITNAME} have unknown status</name>
                  <priority>HIGH</priority>
                </trigger_prototype>
                <trigger_prototype>
                  <expression>{last()}=2</expression>
                  <name>Connectivity unit {#CONNUNITNAME} have unused status</name>
                  <priority>HIGH</priority>
                </trigger_prototype>
                <trigger_prototype>
                  <expression>{last()}=4</expression>
                  <name>Connectivity unit {#CONNUNITNAME} have warning status</name>
                  <priority>HIGH</priority>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
            <item_prototype>
              <name>Connectivity unit {#CONNUNITNAME} type</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.3.94.1.6.1.3.{#SNMPINDEX}</snmp_oid>
              <key>connUnitType[{#SNMPINDEX}]</key>
              <delay>1h</delay>
              <description>The type of this connectivity unit.</description>
              <applications>
                <application>
                  <name>Connectivity unit information</name>
                </application>
              </applications>
              <valuemap>
                <name>HP2040ConnUnitType</name>
              </valuemap>
            </item_prototype>
          </item_prototypes>
        </discovery_rule>
        <discovery_rule>
          <name>Connectivity unit port info</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#CONNUNITPORTNAME}, 1.3.6.1.3.94.1.10.1.17]</snmp_oid>
          <key>connUnitPortName</key>
          <delay>24h</delay>
          <description>A user-defined name for this port. This means that up to DisplayString characters may be supported. If less than, then the name will be truncated in the connunit.</description>
          <item_prototypes>
            <item_prototype>
              <name>Connectivity unit port {#CONNUNITPORTNAME} state</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.3.94.1.10.1.6.{#SNMPINDEX}</snmp_oid>
              <key>connUnitPortState[{#SNMPINDEX}]</key>
              <delay>5m</delay>
              <description>The user selected state of the port hardware.</description>
              <applications>
                <application>
                  <name>Connectivity unit port information</name>
                </application>
              </applications>
              <valuemap>
                <name>HP2040ConnUnitPortState</name>
              </valuemap>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()}&lt;>2</expression>
                  <name>Connectivity unit port {#CONNUNITPORTNAME} not in online state</name>
                  <priority>HIGH</priority>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
            <item_prototype>
              <name>Connectivity unit port {#CONNUNITPORTNAME} status</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.3.94.1.10.1.7.{#SNMPINDEX}</snmp_oid>
              <key>connUnitPortStatus[{#SNMPINDEX}]</key>
              <delay>5m</delay>
              <description>An overall protocol status for the port. This value of connUnitPortState is not online, then this is reported Unknown.</description>
              <applications>
                <application>
                  <name>Connectivity unit port information</name>
                </application>
              </applications>
              <valuemap>
                <name>HP2040ConnUnitPortStatus</name>
              </valuemap>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()}=5</expression>
                  <name>Connectivity unit port {#CONNUNITPORTNAME} have failure status</name>
                  <priority>HIGH</priority>
                </trigger_prototype>
                <trigger_prototype>
                  <expression>{last()}=1</expression>
                  <name>Connectivity unit port {#CONNUNITPORTNAME} have unknown status</name>
                  <priority>HIGH</priority>
                </trigger_prototype>
                <trigger_prototype>
                  <expression>{last()}=4</expression>
                  <name>Connectivity unit port {#CONNUNITPORTNAME} have warning status</name>
                  <priority>HIGH</priority>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
          </item_prototypes>
        </discovery_rule>
        <discovery_rule>
          <name>Connectivity unit sensor info</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#CONNUNITSENSORNAME}, 1.3.6.1.3.94.1.8.1.3]</snmp_oid>
          <key>connUnitSensorName</key>
          <delay>24h</delay>
          <description>A textual identification of the sensor intended primarily for operator use.</description>
          <item_prototypes>
            <item_prototype>
              <name>Connectivity unit sensor {#CONNUNITSENSORNAME} status</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.3.94.1.8.1.4.{#SNMPINDEX}</snmp_oid>
              <key>connUnitSensorStatus[{#SNMPINDEX}]</key>
              <delay>5m</delay>
              <description>The status indicated by the sensor.</description>
              <applications>
                <application>
                  <name>Connectivity unit sensor information</name>
                </application>
              </applications>
              <valuemap>
                <name>HP2040ConnUnitStatus</name>
              </valuemap>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()}=5</expression>
                  <name>Connectivity unit sensor {#CONNUNITSENSORNAME} have failed status</name>
                  <priority>HIGH</priority>
                </trigger_prototype>
                <trigger_prototype>
                  <expression>{last()}=2</expression>
                  <name>Connectivity unit sensor {#CONNUNITSENSORNAME} have other status</name>
                  <priority>HIGH</priority>
                </trigger_prototype>
                <trigger_prototype>
                  <expression>{last()}=1</expression>
                  <name>Connectivity unit sensor {#CONNUNITSENSORNAME} have unknown status</name>
                  <priority>HIGH</priority>
                </trigger_prototype>
                <trigger_prototype>
                  <expression>{last()}=4</expression>
                  <name>Connectivity unit sensor {#CONNUNITSENSORNAME} have warning status</name>
                  <priority>HIGH</priority>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
          </item_prototypes>
        </discovery_rule>
      </discovery_rules>
    </template>
  </templates>
  <value_maps>
    <value_map>
      <name>HP2040ConnUnitPortState</name>
      <mappings>
        <mapping>
          <value>1</value>
          <newvalue>unknown</newvalue>
        </mapping>
        <mapping>
          <value>2</value>
          <newvalue>online</newvalue>
        </mapping>
        <mapping>
          <value>3</value>
          <newvalue>offline</newvalue>
        </mapping>
        <mapping>
          <value>4</value>
          <newvalue>bypassed</newvalue>
        </mapping>
        <mapping>
          <value>5</value>
          <newvalue>diagnostics</newvalue>
        </mapping>
      </mappings>
    </value_map>
    <value_map>
      <name>HP2040ConnUnitPortStatus</name>
      <mappings>
        <mapping>
          <value>1</value>
          <newvalue>unknown</newvalue>
        </mapping>
        <mapping>
          <value>2</value>
          <newvalue>unused</newvalue>
        </mapping>
        <mapping>
          <value>3</value>
          <newvalue>ready</newvalue>
        </mapping>
        <mapping>
          <value>4</value>
          <newvalue>warning</newvalue>
        </mapping>
        <mapping>
          <value>5</value>
          <newvalue>failure</newvalue>
        </mapping>
        <mapping>
          <value>6</value>
          <newvalue>notparticipating</newvalue>
        </mapping>
        <mapping>
          <value>7</value>
          <newvalue>initializing</newvalue>
        </mapping>
        <mapping>
          <value>8</value>
          <newvalue>bypass</newvalue>
        </mapping>
        <mapping>
          <value>9</value>
          <newvalue>ols</newvalue>
        </mapping>
        <mapping>
          <value>10</value>
          <newvalue>other</newvalue>
        </mapping>
      </mappings>
    </value_map>
    <value_map>
      <name>HP2040ConnUnitState</name>
      <mappings>
        <mapping>
          <value>1</value>
          <newvalue>unknown</newvalue>
        </mapping>
        <mapping>
          <value>2</value>
          <newvalue>online</newvalue>
        </mapping>
        <mapping>
          <value>3</value>
          <newvalue>offline</newvalue>
        </mapping>
      </mappings>
    </value_map>
    <value_map>
      <name>HP2040ConnUnitStatus</name>
      <mappings>
        <mapping>
          <value>1</value>
          <newvalue>unknown</newvalue>
        </mapping>
        <mapping>
          <value>2</value>
          <newvalue>unused</newvalue>
        </mapping>
        <mapping>
          <value>3</value>
          <newvalue>ok</newvalue>
        </mapping>
        <mapping>
          <value>4</value>
          <newvalue>warning</newvalue>
        </mapping>
        <mapping>
          <value>5</value>
          <newvalue>failed</newvalue>
        </mapping>
      </mappings>
    </value_map>
    <value_map>
      <name>HP2040ConnUnitType</name>
      <mappings>
        <mapping>
          <value>1</value>
          <newvalue>unknown</newvalue>
        </mapping>
        <mapping>
          <value>2</value>
          <newvalue>other</newvalue>
        </mapping>
        <mapping>
          <value>3</value>
          <newvalue>hub</newvalue>
        </mapping>
        <mapping>
          <value>4</value>
          <newvalue>switch</newvalue>
        </mapping>
        <mapping>
          <value>5</value>
          <newvalue>gateway</newvalue>
        </mapping>
        <mapping>
          <value>6</value>
          <newvalue>converter</newvalue>
        </mapping>
        <mapping>
          <value>7</value>
          <newvalue>hba</newvalue>
        </mapping>
        <mapping>
          <value>8</value>
          <newvalue>proxy-agent</newvalue>
        </mapping>
        <mapping>
          <value>9</value>
          <newvalue>storage-device</newvalue>
        </mapping>
        <mapping>
          <value>10</value>
          <newvalue>host</newvalue>
        </mapping>
        <mapping>
          <value>11</value>
          <newvalue>storage-subsystem</newvalue>
        </mapping>
        <mapping>
          <value>12</value>
          <newvalue>module</newvalue>
        </mapping>
        <mapping>
          <value>13</value>
          <newvalue>swdriver</newvalue>
        </mapping>
        <mapping>
          <value>14</value>
          <newvalue>storage-access-device</newvalue>
        </mapping>
        <mapping>
          <value>15</value>
          <newvalue>wdm</newvalue>
        </mapping>
        <mapping>
          <value>16</value>
          <newvalue>ups</newvalue>
        </mapping>
        <mapping>
          <value>17</value>
          <newvalue>nas</newvalue>
        </mapping>
      </mappings>
    </value_map>
  </value_maps>
</zabbix_export>