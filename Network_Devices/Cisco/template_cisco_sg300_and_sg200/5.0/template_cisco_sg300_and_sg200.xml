<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
  <version>5.0</version>
  <date>2021-11-09T08:31:10Z</date>
  <groups>
    <group>
      <name>Templates</name>
    </group>
    <group>
      <name>Templates/Modules</name>
    </group>
  </groups>
  <templates>
    <template>
      <template>Cisco_SG300-52-d</template>
      <name>Cisco_SG300-52-d</name>
      <description>## Description by padamiak, 2019.05.28, zabbix v4.0, tested on sg300 and sg200 ## Overview Hi, Here is a result of my work on Cisco SG300 witch Zabbix 4.0. - based on SNMP and LLD, - it's working with vary numbers of interfaces, - interface is discovered only if it's operational up (less unnecessary data), - it also monitors CPU usage, status of temperature and fan's (if any), - tested witch SG300 and SG200 switches, - in case of SG200 you may consider updating firmware of your switch as older versions doesn't support SNMP Have fun ## Author deb</description>
      <templates>
        <template>
          <name>Template Module ICMP Ping</name>
        </template>
      </templates>
      <groups>
        <group>
          <name>Templates</name>
        </group>
      </groups>
      <applications>
        <application>
          <name>General</name>
        </application>
        <application>
          <name>Network interfaces</name>
        </application>
      </applications>
      <items>
        <item>
          <name>Device contact details</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>1.3.6.1.2.1.1.4.0</snmp_oid>
          <key>system.contact</key>
          <delay>1h</delay>
          <history>2w</history>
          <trends>0</trends>
          <value_type>CHAR</value_type>
          <applications>
            <application>
              <name>General</name>
            </application>
          </applications>
        </item>
        <item>
          <name>CPU utilization</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>1.3.6.1.4.1.9.6.1.101.1.8.0</snmp_oid>
          <key>system.cpu.util</key>
          <delay>60</delay>
          <history>30d</history>
          <description>CPU utilization for 5 seconds 1.3.6.1.4.1.9.6.1.101.1.7.0 CPU utilization for 1 minutes 1.3.6.1.4.1.9.6.1.101.1.8.0 CPU utilization for 5 minutes 1.3.6.1.4.1.9.6.1.101.1.9.0</description>
          <applications>
            <application>
              <name>Status</name>
            </application>
          </applications>
          <triggers>
            <trigger>
              <expression>{avg(5)}>80</expression>
              <name>high CPU utilization</name>
              <priority>WARNING</priority>
            </trigger>
          </triggers>
        </item>
        <item>
          <name>Device description</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>1.3.6.1.2.1.1.1.0</snmp_oid>
          <key>system.descr</key>
          <delay>1h</delay>
          <history>2w</history>
          <trends>0</trends>
          <value_type>CHAR</value_type>
          <applications>
            <application>
              <name>General</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Device location</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>1.3.6.1.2.1.1.6.0</snmp_oid>
          <key>system.location</key>
          <delay>1h</delay>
          <history>2w</history>
          <trends>0</trends>
          <value_type>CHAR</value_type>
          <applications>
            <application>
              <name>General</name>
            </application>
          </applications>
        </item>
        <item>
          <name>Device name</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>1.3.6.1.2.1.1.5.0</snmp_oid>
          <key>system.name</key>
          <delay>1h</delay>
          <history>2w</history>
          <trends>0</trends>
          <value_type>CHAR</value_type>
          <applications>
            <application>
              <name>General</name>
            </application>
          </applications>
        </item>
        <item>
          <name>temperature status</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>1.3.6.1.4.1.9.6.1.101.53.15.1.13.1</snmp_oid>
          <key>system.temp.status</key>
          <delay>180</delay>
          <history>30d</history>
          <description>rlPhdUnitEnvParamMonitorTemperatureStatus 1.3.6.1.4.1.9.6.1.101.53.15.1.13 Display environment monitoring chassis temperature status ok(1), overTemperatureThreshold(2), overCriticalTemperatureThreshold(3)</description>
          <applications>
            <application>
              <name>Status</name>
            </application>
          </applications>
          <valuemap>
            <name>SNMP Cisco rlPhdUnitEnvParamMonitorTemperatureStatus</name>
          </valuemap>
          <triggers>
            <trigger>
              <expression>{last()}=3</expression>
              <name>{HOST.NAME} overCriticalTemperatureThreshold</name>
              <priority>HIGH</priority>
              <manual_close>YES</manual_close>
            </trigger>
            <trigger>
              <expression>{last()}=2</expression>
              <name>{HOST.NAME} overTemperatureThreshold</name>
              <priority>AVERAGE</priority>
              <manual_close>YES</manual_close>
            </trigger>
          </triggers>
        </item>
        <item>
          <name>snmp uptime</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>1.3.6.1.2.1.1.3.0</snmp_oid>
          <key>system.uptime</key>
          <delay>120</delay>
          <history>2w</history>
          <units>s</units>
          <applications>
            <application>
              <name>General</name>
            </application>
          </applications>
          <preprocessing>
            <step>
              <type>MULTIPLIER</type>
              <params>0.01</params>
            </step>
          </preprocessing>
          <triggers>
            <trigger>
              <expression>{last()}&lt;600</expression>
              <name>{HOST.NAME} snmp has been restarted</name>
              <priority>WARNING</priority>
              <description>Last value: {ITEM.LASTVALUE1}. The device uptime is less than 10 minutes Właściwie to jest uptime usługi snmp.</description>
              <manual_close>YES</manual_close>
            </trigger>
          </triggers>
        </item>
      </items>
      <discovery_rules>
        <discovery_rule>
          <name>Fan Discovery</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#FANINDEX},1.3.6.1.4.1.9.6.1.101.83.1.1.1.3]</snmp_oid>
          <key>fan.discovery</key>
          <delay>1d</delay>
          <filter>
            <evaltype>AND</evaltype>
            <conditions>
              <condition>
                <macro>{#FANINDEX}</macro>
                <value>5</value>
                <operator>NOT_MATCHES_REGEX</operator>
                <formulaid>A</formulaid>
              </condition>
            </conditions>
          </filter>
          <item_prototypes>
            <item_prototype>
              <name>fan status {#SNMPINDEX}</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.4.1.9.6.1.101.83.1.1.1.3.{#SNMPINDEX}</snmp_oid>
              <key>system.fan[status.{#SNMPINDEX}]</key>
              <delay>180</delay>
              <history>30d</history>
              <description>normal(1), warning(2), critical(3), shutdown(4), notPresent(5), notFunctioning(6)</description>
              <applications>
                <application>
                  <name>Status</name>
                </application>
              </applications>
              <valuemap>
                <name>SNMP Cisco Fan Status</name>
              </valuemap>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()}&lt;>1</expression>
                  <name>fan status problem</name>
                  <priority>WARNING</priority>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
          </item_prototypes>
        </discovery_rule>
        <discovery_rule>
          <name>Net If Discovery</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#IFNAME},1.3.6.1.2.1.31.1.1.1.1,{#IFOPERSTATUS},1.3.6.1.2.1.2.2.1.8,{#IFTYPE},1.3.6.1.2.1.2.2.1.3,{#IFXENTRY},1.3.6.1.2.1.31.1.1.1.18]</snmp_oid>
          <key>net.if.disco</key>
          <delay>88m</delay>
          <filter>
            <evaltype>AND</evaltype>
            <conditions>
              <condition>
                <macro>{#IFTYPE}</macro>
                <value>22</value>
                <operator>NOT_MATCHES_REGEX</operator>
                <formulaid>B</formulaid>
              </condition>
              <condition>
                <macro>{#IFTYPE}</macro>
                <value>131</value>
                <operator>NOT_MATCHES_REGEX</operator>
                <formulaid>C</formulaid>
              </condition>
              <condition>
                <macro>{#IFOPERSTATUS}</macro>
                <value>1</value>
                <formulaid>A</formulaid>
              </condition>
              <condition>
                <macro>{#IFTYPE}</macro>
                <value>53</value>
                <operator>NOT_MATCHES_REGEX</operator>
                <formulaid>D</formulaid>
              </condition>
              <condition>
                <macro>{#IFTYPE}</macro>
                <value>24</value>
                <operator>NOT_MATCHES_REGEX</operator>
                <formulaid>E</formulaid>
              </condition>
            </conditions>
          </filter>
          <item_prototypes>
            <item_prototype>
              <name>{#IFNAME} {#IFXENTRY}: Duplex</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.2.1.10.7.2.1.19.{#SNMPINDEX}</snmp_oid>
              <key>net.if[dot3StatsDuplexStatus.{#SNMPINDEX}]</key>
              <delay>1h</delay>
              <history>7d</history>
              <trends>0</trends>
              <applications>
                <application>
                  <name>Network interfaces</name>
                </application>
              </applications>
              <valuemap>
                <name>EtherLike-MIB::dot3StatsDuplexStatus</name>
              </valuemap>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{last()}=2</expression>
                  <name>{#IFNAME} {#IFXENTRY}: In half-duplex mode</name>
                  <priority>INFO</priority>
                  <description>Last value: {ITEM.LASTVALUE1}. Please check autonegotiation settings and cabling</description>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
            <item_prototype>
              <name>{#IFNAME} {#IFXENTRY}: RX bps</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.2.1.2.2.1.10.{#SNMPINDEX}</snmp_oid>
              <key>net.if[ifInBits.{#SNMPINDEX}]</key>
              <delay>60</delay>
              <history>30d</history>
              <units>bps</units>
              <applications>
                <application>
                  <name>Network interfaces</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
                <step>
                  <type>MULTIPLIER</type>
                  <params>8</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>{#IFNAME} {#IFXENTRY}: RX broadcast</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.2.1.31.1.1.1.3.{#SNMPINDEX}</snmp_oid>
              <key>net.if[ifInBroadcastPkts.{#SNMPINDEX}]</key>
              <delay>180</delay>
              <history>30d</history>
              <units>pps</units>
              <applications>
                <application>
                  <name>Network interfaces</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>{#IFNAME} {#IFXENTRY}: RX errors</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.2.1.2.2.1.14.{#SNMPINDEX}</snmp_oid>
              <key>net.if[ifInErrors.{#SNMPINDEX}]</key>
              <delay>180</delay>
              <history>30d</history>
              <units>pps</units>
              <applications>
                <application>
                  <name>Network interfaces</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
              </preprocessing>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{max(20m)}>0</expression>
                  <name>{#IFNAME} {#IFXENTRY}: RX errors</name>
                  <priority>WARNING</priority>
                  <description>There have been input errors in the last 20 minutes.</description>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
            <item_prototype>
              <name>{#IFNAME} {#IFXENTRY}: RX multicast</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.2.1.31.1.1.1.2.{#SNMPINDEX}</snmp_oid>
              <key>net.if[ifInMulticastPkts.{#SNMPINDEX}]</key>
              <delay>180</delay>
              <history>30d</history>
              <units>pps</units>
              <applications>
                <application>
                  <name>Network interfaces</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>{#IFNAME} {#IFXENTRY}: RX unicast</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.2.1.2.2.1.11.{#SNMPINDEX}</snmp_oid>
              <key>net.if[ifInUcastPkts.{#SNMPINDEX}]</key>
              <delay>180</delay>
              <history>30d</history>
              <units>pps</units>
              <applications>
                <application>
                  <name>Network interfaces</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>{#IFNAME} {#IFXENTRY}: TX bps</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.2.1.2.2.1.16.{#SNMPINDEX}</snmp_oid>
              <key>net.if[ifOutBits.{#SNMPINDEX}]</key>
              <delay>60</delay>
              <history>30d</history>
              <units>bps</units>
              <applications>
                <application>
                  <name>Network interfaces</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
                <step>
                  <type>MULTIPLIER</type>
                  <params>8</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>{#IFNAME} {#IFXENTRY}: TX broadcast</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.2.1.31.1.1.1.5.{#SNMPINDEX}</snmp_oid>
              <key>net.if[ifOutBroadcastPkts.{#SNMPINDEX}]</key>
              <delay>180</delay>
              <history>30d</history>
              <units>pps</units>
              <applications>
                <application>
                  <name>Network interfaces</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>{#IFNAME} {#IFXENTRY}: TX errors</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.2.1.2.2.1.20.{#SNMPINDEX}</snmp_oid>
              <key>net.if[ifOutErrors.{#SNMPINDEX}]</key>
              <delay>180</delay>
              <history>30d</history>
              <units>pps</units>
              <applications>
                <application>
                  <name>Network interfaces</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
              </preprocessing>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{max(20m)}>0</expression>
                  <name>{#IFNAME} {#IFXENTRY}: TX errors</name>
                  <priority>WARNING</priority>
                  <description>There have been outpup errors in the last 20 minutes.</description>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
            <item_prototype>
              <name>{#IFNAME} {#IFXENTRY}: TX multicast</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.2.1.31.1.1.1.4.{#SNMPINDEX}</snmp_oid>
              <key>net.if[ifOutMulticastPkts.{#SNMPINDEX}]</key>
              <delay>180</delay>
              <history>30d</history>
              <units>pps</units>
              <applications>
                <application>
                  <name>Network interfaces</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>{#IFNAME} {#IFXENTRY}: TX unicast</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.2.1.2.2.1.17.{#SNMPINDEX}</snmp_oid>
              <key>net.if[ifOutUcastPkts.{#SNMPINDEX}]</key>
              <delay>180</delay>
              <history>30d</history>
              <units>pps</units>
              <applications>
                <application>
                  <name>Network interfaces</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>{#IFNAME} {#IFXENTRY}: speed</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.2.1.2.2.1.5.{#SNMPINDEX}</snmp_oid>
              <key>net.if[ifSpeed.{#SNMPINDEX}]</key>
              <delay>1h</delay>
              <history>7d</history>
              <trends>0</trends>
              <units>bps</units>
              <applications>
                <application>
                  <name>Network interfaces</name>
                </application>
              </applications>
              <valuemap>
                <name>EtherLike-MIB::dot3StatsDuplexStatus</name>
              </valuemap>
            </item_prototype>
            <item_prototype>
              <name>{#IFNAME} {#IFXENTRY}: If Type</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.2.1.2.2.1.3.{#SNMPINDEX}</snmp_oid>
              <key>net.if[ifType.{#SNMPINDEX}]</key>
              <delay>86400</delay>
              <history>30d</history>
              <trends>0</trends>
              <applications>
                <application>
                  <name>Network interfaces</name>
                </application>
              </applications>
              <valuemap>
                <name>SNMP interface type (ifType)</name>
              </valuemap>
            </item_prototype>
          </item_prototypes>
          <trigger_prototypes>
            <trigger_prototype>
              <expression>{Cisco_SG300-52-d:net.if[ifInBits.{#SNMPINDEX}].avg(5m)}/{Cisco_SG300-52-d:net.if[ifSpeed.{#SNMPINDEX}].last()}>0.9</expression>
              <name>{#IFNAME} {#IFXENTRY}: high input utilization</name>
              <priority>WARNING</priority>
            </trigger_prototype>
            <trigger_prototype>
              <expression>{Cisco_SG300-52-d:net.if[ifOutBits.{#SNMPINDEX}].avg(5m)}/{Cisco_SG300-52-d:net.if[ifSpeed.{#SNMPINDEX}].last()}>0.9</expression>
              <name>{#IFNAME} {#IFXENTRY}: high output utilization</name>
              <priority>WARNING</priority>
            </trigger_prototype>
          </trigger_prototypes>
          <graph_prototypes>
            <graph_prototype>
              <name>{#IFNAME} {#IFXENTRY}: traffic</name>
              <graph_items>
                <graph_item>
                  <color>199C0D</color>
                  <yaxisside>RIGHT</yaxisside>
                  <item>
                    <host>Cisco_SG300-52-d</host>
                    <key>net.if[ifInBits.{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>1</sortorder>
                  <color>6C59DC</color>
                  <yaxisside>RIGHT</yaxisside>
                  <item>
                    <host>Cisco_SG300-52-d</host>
                    <key>net.if[ifOutBits.{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>2</sortorder>
                  <color>F63100</color>
                  <item>
                    <host>Cisco_SG300-52-d</host>
                    <key>net.if[ifInErrors.{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>3</sortorder>
                  <color>BA2A5D</color>
                  <item>
                    <host>Cisco_SG300-52-d</host>
                    <key>net.if[ifOutErrors.{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>4</sortorder>
                  <color>2774A4</color>
                  <item>
                    <host>Cisco_SG300-52-d</host>
                    <key>net.if[ifInBroadcastPkts.{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>5</sortorder>
                  <color>C7A72D</color>
                  <item>
                    <host>Cisco_SG300-52-d</host>
                    <key>net.if[ifOutBroadcastPkts.{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>6</sortorder>
                  <color>F7941D</color>
                  <item>
                    <host>Cisco_SG300-52-d</host>
                    <key>net.if[ifInMulticastPkts.{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>7</sortorder>
                  <color>F230E0</color>
                  <item>
                    <host>Cisco_SG300-52-d</host>
                    <key>net.if[ifOutMulticastPkts.{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>8</sortorder>
                  <color>FC6EA3</color>
                  <item>
                    <host>Cisco_SG300-52-d</host>
                    <key>net.if[ifInUcastPkts.{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>9</sortorder>
                  <color>5CCD18</color>
                  <item>
                    <host>Cisco_SG300-52-d</host>
                    <key>net.if[ifOutUcastPkts.{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
              </graph_items>
            </graph_prototype>
          </graph_prototypes>
        </discovery_rule>
        <discovery_rule>
          <name>Net vlan Discovery</name>
          <type>SNMP_AGENT</type>
          <snmp_oid>discovery[{#IFNAME},1.3.6.1.2.1.31.1.1.1.1,{#IFTYPE},1.3.6.1.2.1.2.2.1.3,{#IFADMINSTATUS},1.3.6.1.2.1.2.2.1.7,{#IFXENTRY},1.3.6.1.2.1.31.1.1.1.18]</snmp_oid>
          <key>net.vlan.discovery</key>
          <delay>89m</delay>
          <filter>
            <evaltype>AND</evaltype>
            <conditions>
              <condition>
                <macro>{#IFTYPE}</macro>
                <value>22</value>
                <operator>NOT_MATCHES_REGEX</operator>
                <formulaid>B</formulaid>
              </condition>
              <condition>
                <macro>{#IFTYPE}</macro>
                <value>131</value>
                <operator>NOT_MATCHES_REGEX</operator>
                <formulaid>C</formulaid>
              </condition>
              <condition>
                <macro>{#IFADMINSTATUS}</macro>
                <value>2</value>
                <operator>NOT_MATCHES_REGEX</operator>
                <formulaid>A</formulaid>
              </condition>
              <condition>
                <macro>{#IFTYPE}</macro>
                <value>53</value>
                <formulaid>D</formulaid>
              </condition>
              <condition>
                <macro>{#SNMPINDEX}</macro>
                <value>300000</value>
                <operator>NOT_MATCHES_REGEX</operator>
                <formulaid>E</formulaid>
              </condition>
            </conditions>
          </filter>
          <item_prototypes>
            <item_prototype>
              <name>vlan {#IFNAME} {#IFXENTRY}: RX bps</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.2.1.2.2.1.10.{#SNMPINDEX}</snmp_oid>
              <key>net.vlan[ifInBits.{#SNMPINDEX}]</key>
              <delay>60</delay>
              <history>30d</history>
              <units>bps</units>
              <applications>
                <application>
                  <name>Network interfaces</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
                <step>
                  <type>MULTIPLIER</type>
                  <params>8</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>vlan {#IFNAME} {#IFXENTRY}: RX broadcast</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.2.1.31.1.1.1.3.{#SNMPINDEX}</snmp_oid>
              <key>net.vlan[ifInBroadcastPkts.{#SNMPINDEX}]</key>
              <delay>180</delay>
              <history>30d</history>
              <units>pps</units>
              <applications>
                <application>
                  <name>Network interfaces</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>vlan {#IFNAME} {#IFXENTRY}: RX errors</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.2.1.2.2.1.14.{#SNMPINDEX}</snmp_oid>
              <key>net.vlan[ifInErrors.{#SNMPINDEX}]</key>
              <delay>180</delay>
              <history>30d</history>
              <units>pps</units>
              <applications>
                <application>
                  <name>Network interfaces</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
              </preprocessing>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{max(20m)}>0</expression>
                  <name>vlan {#IFNAME} {#IFXENTRY}: RX errors</name>
                  <priority>WARNING</priority>
                  <description>There have been input errors in the last 20 minutes.</description>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
            <item_prototype>
              <name>vlan {#IFNAME} {#IFXENTRY}: RX multicast</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.2.1.31.1.1.1.2.{#SNMPINDEX}</snmp_oid>
              <key>net.vlan[ifInMulticastPkts.{#SNMPINDEX}]</key>
              <delay>180</delay>
              <history>30d</history>
              <units>pps</units>
              <applications>
                <application>
                  <name>Network interfaces</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>vlan {#IFNAME} {#IFXENTRY}: RX unicast</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.2.1.2.2.1.11.{#SNMPINDEX}</snmp_oid>
              <key>net.vlan[ifInUcastPkts.{#SNMPINDEX}]</key>
              <delay>180</delay>
              <history>30d</history>
              <units>pps</units>
              <applications>
                <application>
                  <name>Network interfaces</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>vlan {#IFNAME} {#IFXENTRY}: TX bps</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.2.1.2.2.1.16.{#SNMPINDEX}</snmp_oid>
              <key>net.vlan[ifOutBits.{#SNMPINDEX}]</key>
              <delay>60</delay>
              <history>30d</history>
              <units>bps</units>
              <applications>
                <application>
                  <name>Network interfaces</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
                <step>
                  <type>MULTIPLIER</type>
                  <params>8</params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>vlan {#IFNAME} {#IFXENTRY}: TX broadcast</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.2.1.31.1.1.1.5.{#SNMPINDEX}</snmp_oid>
              <key>net.vlan[ifOutBroadcastPkts.{#SNMPINDEX}]</key>
              <delay>180</delay>
              <history>30d</history>
              <units>pps</units>
              <applications>
                <application>
                  <name>Network interfaces</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>vlan {#IFNAME} {#IFXENTRY}: TX errors</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.2.1.2.2.1.20.{#SNMPINDEX}</snmp_oid>
              <key>net.vlan[ifOutErrors.{#SNMPINDEX}]</key>
              <delay>180</delay>
              <history>30d</history>
              <units>pps</units>
              <applications>
                <application>
                  <name>Network interfaces</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
              </preprocessing>
              <trigger_prototypes>
                <trigger_prototype>
                  <expression>{max(20m)}>0</expression>
                  <name>vlan {#IFNAME} {#IFXENTRY}: TX errors</name>
                  <priority>WARNING</priority>
                  <description>There have been output errors in the last 20 minutes.</description>
                </trigger_prototype>
              </trigger_prototypes>
            </item_prototype>
            <item_prototype>
              <name>vlan {#IFNAME} {#IFXENTRY}: TX multicast</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.2.1.31.1.1.1.4.{#SNMPINDEX}</snmp_oid>
              <key>net.vlan[ifOutMulticastPkts.{#SNMPINDEX}]</key>
              <delay>180</delay>
              <history>30d</history>
              <units>pps</units>
              <applications>
                <application>
                  <name>Network interfaces</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>vlan {#IFNAME} {#IFXENTRY}: TX unicast</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.2.1.2.2.1.17.{#SNMPINDEX}</snmp_oid>
              <key>net.vlan[ifOutUcastPkts.{#SNMPINDEX}]</key>
              <delay>180</delay>
              <history>30d</history>
              <units>pps</units>
              <applications>
                <application>
                  <name>Network interfaces</name>
                </application>
              </applications>
              <preprocessing>
                <step>
                  <type>CHANGE_PER_SECOND</type>
                  <params></params>
                </step>
              </preprocessing>
            </item_prototype>
            <item_prototype>
              <name>vlan {#IFNAME} {#IFXENTRY}: If Type</name>
              <type>SNMP_AGENT</type>
              <snmp_oid>1.3.6.1.2.1.2.2.1.3.{#SNMPINDEX}</snmp_oid>
              <key>net.vlan[ifType.{#SNMPINDEX}]</key>
              <delay>86400</delay>
              <history>30d</history>
              <trends>0</trends>
              <applications>
                <application>
                  <name>Network interfaces</name>
                </application>
              </applications>
              <valuemap>
                <name>SNMP interface type (ifType)</name>
              </valuemap>
            </item_prototype>
          </item_prototypes>
          <graph_prototypes>
            <graph_prototype>
              <name>vlan {#IFNAME} {#IFXENTRY}: traffic</name>
              <graph_items>
                <graph_item>
                  <color>199C0D</color>
                  <yaxisside>RIGHT</yaxisside>
                  <item>
                    <host>Cisco_SG300-52-d</host>
                    <key>net.vlan[ifInBits.{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>1</sortorder>
                  <color>6C59DC</color>
                  <yaxisside>RIGHT</yaxisside>
                  <item>
                    <host>Cisco_SG300-52-d</host>
                    <key>net.vlan[ifOutBits.{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>2</sortorder>
                  <color>F63100</color>
                  <item>
                    <host>Cisco_SG300-52-d</host>
                    <key>net.vlan[ifInErrors.{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>3</sortorder>
                  <color>BA2A5D</color>
                  <item>
                    <host>Cisco_SG300-52-d</host>
                    <key>net.vlan[ifOutErrors.{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>4</sortorder>
                  <color>2774A4</color>
                  <item>
                    <host>Cisco_SG300-52-d</host>
                    <key>net.vlan[ifInBroadcastPkts.{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>5</sortorder>
                  <color>C7A72D</color>
                  <item>
                    <host>Cisco_SG300-52-d</host>
                    <key>net.vlan[ifOutBroadcastPkts.{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>6</sortorder>
                  <color>F7941D</color>
                  <item>
                    <host>Cisco_SG300-52-d</host>
                    <key>net.vlan[ifInMulticastPkts.{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>7</sortorder>
                  <color>F230E0</color>
                  <item>
                    <host>Cisco_SG300-52-d</host>
                    <key>net.vlan[ifOutMulticastPkts.{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>8</sortorder>
                  <color>FC6EA3</color>
                  <item>
                    <host>Cisco_SG300-52-d</host>
                    <key>net.vlan[ifInUcastPkts.{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
                <graph_item>
                  <sortorder>9</sortorder>
                  <color>5CCD18</color>
                  <item>
                    <host>Cisco_SG300-52-d</host>
                    <key>net.vlan[ifOutUcastPkts.{#SNMPINDEX}]</key>
                  </item>
                </graph_item>
              </graph_items>
            </graph_prototype>
          </graph_prototypes>
        </discovery_rule>
      </discovery_rules>
    </template>
    <template>
      <template>Template Module ICMP Ping</template>
      <name>Template Module ICMP Ping</name>
      <description>Template Module ICMP Ping version: 0.12</description>
      <groups>
        <group>
          <name>Templates/Modules</name>
        </group>
      </groups>
      <applications>
        <application>
          <name>Status</name>
        </application>
      </applications>
      <items>
        <item>
          <name>ICMP ping</name>
          <type>SIMPLE</type>
          <key>icmpping</key>
          <delay>60</delay>
          <history>1w</history>
          <applications>
            <application>
              <name>Status</name>
            </application>
          </applications>
          <valuemap>
            <name>Service state</name>
          </valuemap>
          <triggers>
            <trigger>
              <expression>{max(#3)}=0</expression>
              <name>Unavailable by ICMP ping</name>
              <priority>HIGH</priority>
              <description>Last value: {ITEM.LASTVALUE1}. Last three attempts returned timeout. Please check device connectivity.</description>
            </trigger>
          </triggers>
        </item>
        <item>
          <name>ICMP loss</name>
          <type>SIMPLE</type>
          <key>icmppingloss</key>
          <delay>60</delay>
          <history>1w</history>
          <value_type>FLOAT</value_type>
          <units>%</units>
          <applications>
            <application>
              <name>Status</name>
            </application>
          </applications>
          <triggers>
            <trigger>
              <expression>{min(5m)}>{$ICMP_LOSS_WARN} and {min(5m)}&lt;100</expression>
              <name>High ICMP ping loss</name>
              <priority>WARNING</priority>
              <dependencies>
                <dependency>
                  <name>Unavailable by ICMP ping</name>
                  <expression>{Template Module ICMP Ping:icmpping.max(#3)}=0</expression>
                </dependency>
              </dependencies>
            </trigger>
          </triggers>
        </item>
        <item>
          <name>ICMP response time</name>
          <type>SIMPLE</type>
          <key>icmppingsec</key>
          <delay>60</delay>
          <history>1w</history>
          <value_type>FLOAT</value_type>
          <units>s</units>
          <applications>
            <application>
              <name>Status</name>
            </application>
          </applications>
          <triggers>
            <trigger>
              <expression>{avg(5m)}>{$ICMP_RESPONSE_TIME_WARN}</expression>
              <name>High ICMP ping response time</name>
              <priority>WARNING</priority>
              <dependencies>
                <dependency>
                  <name>High ICMP ping loss</name>
                  <expression>{Template Module ICMP Ping:icmppingloss.min(5m)}>{$ICMP_LOSS_WARN} and {Template Module ICMP Ping:icmppingloss.min(5m)}&lt;100</expression>
                </dependency>
                <dependency>
                  <name>Unavailable by ICMP ping</name>
                  <expression>{Template Module ICMP Ping:icmpping.max(#3)}=0</expression>
                </dependency>
              </dependencies>
            </trigger>
          </triggers>
        </item>
      </items>
      <macros>
        <macro>
          <macro>{$ICMP_LOSS_WARN}</macro>
          <value>20</value>
        </macro>
        <macro>
          <macro>{$ICMP_RESPONSE_TIME_WARN}</macro>
          <value>0.15</value>
        </macro>
      </macros>
    </template>
  </templates>
  <graphs>
    <graph>
      <name>CPU util.</name>
      <graph_items>
        <graph_item>
          <color>199C0D</color>
          <yaxisside>RIGHT</yaxisside>
          <item>
            <host>Cisco_SG300-52-d</host>
            <key>system.cpu.util</key>
          </item>
        </graph_item>
      </graph_items>
    </graph>
  </graphs>
  <value_maps>
    <value_map>
      <name>EtherLike-MIB::dot3StatsDuplexStatus</name>
      <mappings>
        <mapping>
          <value>1</value>
          <newvalue>unknown</newvalue>
        </mapping>
        <mapping>
          <value>2</value>
          <newvalue>halfDuplex</newvalue>
        </mapping>
        <mapping>
          <value>3</value>
          <newvalue>fullDuplex</newvalue>
        </mapping>
      </mappings>
    </value_map>
    <value_map>
      <name>Service state</name>
      <mappings>
        <mapping>
          <value>0</value>
          <newvalue>Down</newvalue>
        </mapping>
        <mapping>
          <value>1</value>
          <newvalue>Up</newvalue>
        </mapping>
      </mappings>
    </value_map>
    <value_map>
      <name>SNMP Cisco Fan Status</name>
      <mappings>
        <mapping>
          <value>1</value>
          <newvalue>normal</newvalue>
        </mapping>
        <mapping>
          <value>2</value>
          <newvalue>warning</newvalue>
        </mapping>
        <mapping>
          <value>3</value>
          <newvalue>critical</newvalue>
        </mapping>
        <mapping>
          <value>4</value>
          <newvalue>shutdown</newvalue>
        </mapping>
        <mapping>
          <value>5</value>
          <newvalue>notPresent</newvalue>
        </mapping>
        <mapping>
          <value>6</value>
          <newvalue>notFunctioning</newvalue>
        </mapping>
      </mappings>
    </value_map>
    <value_map>
      <name>SNMP Cisco rlPhdUnitEnvParamMonitorTemperatureStatus</name>
      <mappings>
        <mapping>
          <value>1</value>
          <newvalue>ok</newvalue>
        </mapping>
        <mapping>
          <value>2</value>
          <newvalue>overTemperatureThreshold</newvalue>
        </mapping>
        <mapping>
          <value>3</value>
          <newvalue>overCriticalTemperatureThreshold</newvalue>
        </mapping>
      </mappings>
    </value_map>
    <value_map>
      <name>SNMP interface type (ifType)</name>
      <mappings>
        <mapping>
          <value>6</value>
          <newvalue>ethernet-like</newvalue>
        </mapping>
        <mapping>
          <value>22</value>
          <newvalue>proprietary serial</newvalue>
        </mapping>
        <mapping>
          <value>24</value>
          <newvalue>softwareLoopback</newvalue>
        </mapping>
        <mapping>
          <value>53</value>
          <newvalue>proprietary virtual/internal</newvalue>
        </mapping>
        <mapping>
          <value>131</value>
          <newvalue>tunnel</newvalue>
        </mapping>
        <mapping>
          <value>161</value>
          <newvalue>link aggregate</newvalue>
        </mapping>
      </mappings>
    </value_map>
  </value_maps>
</zabbix_export>