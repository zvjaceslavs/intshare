<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export><version>5.0</version><date>2021-11-21T22:04:50Z</date><groups><group><name>Templates_Created</name></group></groups><templates><template><template>Cisco ASR 9K Health SNMP</template><name>Cisco ASR 9K Health SNMP</name><description>## Description

Template Cisco ASR 9k Health -CPU -Memory -Power Supply -Temperature ( RSP e LC ) -FAN ( FAN and FANTray ) -Power Consumption By: Flavio Gomes Figueira Camacho Junior Require: Firmware / Software .IOS XR 5.3.1 .IOS XR 5.3.4 ValueMap .CISCO-ENTITY-FRU-CONTROL-MIB::PowerOperType .ENTITY-SENSORS-MIB::EntitySensorStatus .CISCO-ENTITY-FRU-CONTROL-MIB::CefcFanTrayStatusEntry .CISCO-ENTITY-SENSOR-MIB::SensorStatus Base: CISCO-MEMORY-POOL-MIB.mib http://www.circitor.fr/Mibs/Html/C/CISCO-MEMORY-POOL-MIB.php CISCO-PROCESS-MIB.mib http://www.circitor.fr/Mibs/Html/C/CISCO-PROCESS-MIB.php ENTITY-MIB http://www.circitor.fr/Mibs/Html/E/ENTITY-MIB.php CISCO-ENTITY-FRU-CONTROL-MIB.mib https://circitor.fr/Mibs/Html/C/CISCO-ENTITY-FRU-CONTROL-MIB.php CISCO-ENTITY-SENSOR-MIB.mib http://www.circitor.fr/Mibs/Html/C/CISCO-ENTITY-SENSOR-MIB.php https://share.zabbix.com/network_devices/cisco/template-cisco-asr-9k External Scripts and Value Mapping on my Github: https://github.com/flaviojunior1995/Zabbix-Templates

## Overview

Template Cisco ASR 9k Health


-CPU


-Memory


-Power Supply


-Temperature ( RSP e LC )


-FAN ( FAN and FANTray )


-Power Consumption


 


By: Flavio Gomes Figueira Camacho Junior


 


Require:


Firmware / Software


.IOS XR 5.3.1


.IOS XR 5.3.4


ValueMap


.CISCO-ENTITY-FRU-CONTROL-MIB::PowerOperType


.CISCO-ENTITY-FRU-CONTROL-MIB::CefcFanTrayStatusEntry


.CISCO-ENTITY-SENSOR-MIB::SensorStatus


.ENTITY-SENSORS-MIB::EntitySensorStatus


 


Base:


CISCO-MEMORY-POOL-MIB.mib 


http://www.circitor.fr/Mibs/Html/C/CISCO-MEMORY-POOL-MIB.php


CISCO-PROCESS-MIB.mib


http://www.circitor.fr/Mibs/Html/C/CISCO-PROCESS-MIB.php


ENTITY-MIB


http://www.circitor.fr/Mibs/Html/E/ENTITY-MIB.php


CISCO-ENTITY-FRU-CONTROL-MIB.mib


https://circitor.fr/Mibs/Html/C/CISCO-ENTITY-FRU-CONTROL-MIB.php


CISCO-ENTITY-SENSOR-MIB.mib


http://www.circitor.fr/Mibs/Html/C/CISCO-ENTITY-SENSOR-MIB.php


https://share.zabbix.com/network\_devices/cisco/template-cisco-asr-9k


 


External Scripts and Value Mapping on my Github:


https://github.com/flaviojunior1995/Zabbix-Templates



## Author

Flavio Camacho Junior

</description><groups><group><name>Templates_Created</name></group></groups><applications><application><name>CPU</name></application><application><name>FAN</name></application><application><name>Memory</name></application><application><name>Power Consumption</name></application><application><name>Power Current</name></application><application><name>Power Supply</name></application><application><name>Power Voltage</name></application><application><name>Temperature LC</name></application><application><name>Temperature RSP</name></application></applications><items><item><name>Power Consumption</name><type>CALCULATED</type><key>powerConsumption</key><value_type>FLOAT</value_type><units>W</units><params>( last(entPhysicalContainedInCurrent[&quot;current 0/PS0/M0/SP&quot;]) * last(entPhysicalContainedInVoltage[&quot;voltage 0/PS0/M0/SP&quot;]) ) +&#13;
( last(entPhysicalContainedInCurrent[&quot;current 0/PS0/M1/SP&quot;]) * last(entPhysicalContainedInVoltage[&quot;voltage 0/PS0/M1/SP&quot;]) ) +&#13;
( last(entPhysicalContainedInCurrent[&quot;current 0/PS0/M2/SP&quot;]) * last(entPhysicalContainedInVoltage[&quot;voltage 0/PS0/M2/SP&quot;]) ) +&#13;
( last(entPhysicalContainedInCurrent[&quot;current 0/PS1/M0/SP&quot;]) * last(entPhysicalContainedInVoltage[&quot;voltage 0/PS1/M0/SP&quot;]) ) +&#13;
( last(entPhysicalContainedInCurrent[&quot;current 0/PS1/M1/SP&quot;]) * last(entPhysicalContainedInVoltage[&quot;voltage 0/PS1/M1/SP&quot;]) ) +&#13;
( last(entPhysicalContainedInCurrent[&quot;current 0/PS1/M2/SP&quot;]) * last(entPhysicalContainedInVoltage[&quot;voltage 0/PS1/M2/SP&quot;]) )</params><applications><application><name>Power Consumption</name></application></applications></item></items><discovery_rules><discovery_rule><name>Memory Pool Discovery</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.9.9.48.1.1.1.2]</snmp_oid><key>ciscoMemoryPoolName[&quot;Memory&quot;]</key><delay>1h</delay><filter><conditions><condition><macro>{#SNMPVALUE}</macro><value>^(image|reserved)</value><operator>NOT_MATCHES_REGEX</operator><formulaid>A</formulaid></condition></conditions></filter><description>CISCO-MEMORY-POOL-MIB::ciscoMemoryPoolName&#13;
&#13;
A textual name assigned to the memory pool.</description><item_prototypes><item_prototype><name>Free memory on Memory Pool &quot;$1&quot;</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.9.9.48.1.1.1.6.{#SNMPINDEX}</snmp_oid><key>ciscoMemoryPoolFree[&quot;{#SNMPVALUE}&quot;]</key><delay>5m</delay><units>B</units><description>CISCO-MEMORY-POOL-MIB::ciscoMemoryPoolFree&#13;
&#13;
Indicates the number of bytes from the memory pool that are currently unused on the managed device.</description><applications><application><name>Memory</name></application></applications><application_prototypes><application_prototype><name>Memory {#SNMPVALUE}</name></application_prototype></application_prototypes></item_prototype><item_prototype><name>Total Memory Pool &quot;$1&quot;</name><type>CALCULATED</type><key>ciscoMemoryPoolTotal[&quot;{#SNMPVALUE}&quot;]</key><delay>1h</delay><history>7d</history><trends>180d</trends><units>B</units><params>last(ciscoMemoryPoolFree[&quot;{#SNMPVALUE}&quot;]) + last(ciscoMemoryPoolUsed[&quot;{#SNMPVALUE}&quot;])</params><applications><application><name>Memory</name></application></applications><application_prototypes><application_prototype><name>Memory {#SNMPVALUE}</name></application_prototype></application_prototypes></item_prototype><item_prototype><name>Used memory on Memory Pool &quot;$1&quot;</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.9.9.48.1.1.1.5.{#SNMPINDEX}</snmp_oid><key>ciscoMemoryPoolUsed[&quot;{#SNMPVALUE}&quot;]</key><delay>5m</delay><units>B</units><description>CISCO-MEMORY-POOL-MIB::ciscoMemoryPoolUsed&#13;
&#13;
Indicates the number of bytes from the memory pool that are currently in use by applications on the managed device.</description><applications><application><name>Memory</name></application></applications><application_prototypes><application_prototype><name>Memory {#SNMPVALUE}</name></application_prototype></application_prototypes></item_prototype><item_prototype><name>Utilization on Memory Pool &quot;$1&quot;</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.9.9.48.1.2.1.2.{#SNMPINDEX}</snmp_oid><key>ciscoMemoryPoolUtilization5Min[&quot;{#SNMPVALUE}&quot;]</key><delay>5m</delay><units>%</units><description>CISCO-MEMORY-POOL-MIB::ciscoMemoryPoolUtilization5Min&#13;
&#13;
This is the memory pool utilization for 5 minutes.</description><applications><application><name>Memory</name></application></applications><application_prototypes><application_prototype><name>Memory {#SNMPVALUE}</name></application_prototype></application_prototypes><trigger_prototypes><trigger_prototype><expression>{last()} &gt; {$MEMORY_HIGH_WARNING}</expression><name>High utilization of Memory Pool &quot;{#SNMPVALUE}&quot;</name><priority>AVERAGE</priority></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes><trigger_prototypes><trigger_prototype><expression>( {Cisco ASR 9K Health SNMP:ciscoMemoryPoolUsed[&quot;{#SNMPVALUE}&quot;].last()} * 100 ) / {Cisco ASR 9K Health SNMP:ciscoMemoryPoolTotal[&quot;{#SNMPVALUE}&quot;].last()} &gt; {$MEMORY_HIGH_ALARM}</expression><name>High memory utilizarion alarm on Pool &quot;{#SNMPVALUE}&quot;</name><priority>HIGH</priority></trigger_prototype></trigger_prototypes><graph_prototypes><graph_prototype><name>Memory Utilization Pool &quot;{#SNMPVALUE}&quot;</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>00FF00</color><item><host>Cisco ASR 9K Health SNMP</host><key>ciscoMemoryPoolUtilization5Min[&quot;{#SNMPVALUE}&quot;]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><name>Memory {#SNMPVALUE}</name><graph_items><graph_item><drawtype>BOLD_LINE</drawtype><color>00FF00</color><item><host>Cisco ASR 9K Health SNMP</host><key>ciscoMemoryPoolTotal[&quot;{#SNMPVALUE}&quot;]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>GRADIENT_LINE</drawtype><color>FF0000</color><item><host>Cisco ASR 9K Health SNMP</host><key>ciscoMemoryPoolUsed[&quot;{#SNMPVALUE}&quot;]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes></discovery_rule><discovery_rule><name>CPU Discovery</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.4.1.9.9.109.1.1.1.1.2]</snmp_oid><key>cpmCPUTotalPhysicalIndex[&quot;CPU&quot;]</key><delay>1h</delay><description>CISCO-PROCESS-MIB::cpmCPUTotalPhysicalIndex&#13;
&#13;
The entPhysicalIndex of the physical entity for which the CPU statistics in this entry are maintained. The physical entity can be a CPU chip, a group of CPUs, a CPU card etc. The exact type of this entity is described by its entPhysicalVendorType value. If the CPU statistics in this entry correspond to more than one physical entity (or to no physical entity), or if the entPhysicalTable is not supported on the SNMP agent, the value of this object must be zero.</description><item_prototypes><item_prototype><name>CPU #$1 Usage 1min Rev</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.9.9.109.1.1.1.1.7.{#SNMPINDEX}</snmp_oid><key>cpmCPUTotal1minRev[&quot;{#SNMPINDEX}&quot;]</key><units>%</units><description>CISCO-PROCESS-MIB::cpmCPUTotal1minRev&#13;
&#13;
The overall CPU busy percentage in the last 1 minute period. This object deprecates the object cpmCPUTotal1min and increases the value range to (0..100).</description><applications><application><name>CPU</name></application></applications><trigger_prototypes><trigger_prototype><expression>{last()}&gt;{$CPU_HIGH_ALARM}</expression><name>High CPU Alarm #{#SNMPINDEX} 1min Usage</name><priority>HIGH</priority></trigger_prototype><trigger_prototype><expression>{last()}&gt;{$CPU_HIGH_WARNING}</expression><name>High CPU Warning  #{#SNMPINDEX} 1min Usage</name><priority>AVERAGE</priority></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>CPU #$1 Usage 5min Rev</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.9.9.109.1.1.1.1.8.{#SNMPINDEX}</snmp_oid><key>cpmCPUTotal5minRev[&quot;{#SNMPINDEX}&quot;]</key><delay>5m</delay><units>%</units><description>CISCO-PROCESS-MIB::cpmCPUTotal5minRev&#13;
&#13;
The overall CPU busy percentage in the last 5 minute period. This object deprecates the object cpmCPUTotal5min and increases the value range to (0..100).</description><applications><application><name>CPU</name></application></applications><trigger_prototypes><trigger_prototype><expression>{last()}&gt;{$CPU_HIGH_ALARM}</expression><name>High CPU Alarm #{#SNMPINDEX} 5min Usage</name><priority>HIGH</priority></trigger_prototype><trigger_prototype><expression>{last()}&gt;{$CPU_HIGH_WARNING}</expression><name>High CPU Warning #{#SNMPINDEX} 5min Usage</name><priority>AVERAGE</priority></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes><graph_prototypes><graph_prototype><name>CPU #&quot;{#SNMPINDEX}&quot; 1min Usage</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>00FF00</color><item><host>Cisco ASR 9K Health SNMP</host><key>cpmCPUTotal1minRev[&quot;{#SNMPINDEX}&quot;]</key></item></graph_item></graph_items></graph_prototype><graph_prototype><name>CPU #&quot;{#SNMPINDEX}&quot; 5min Usage</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>00FF00</color><item><host>Cisco ASR 9K Health SNMP</host><key>cpmCPUTotal5minRev[&quot;{#SNMPINDEX}&quot;]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes></discovery_rule><discovery_rule><name>FAN Sensor Discovery</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.2.1.47.1.1.1.1.7]</snmp_oid><key>entPhysicalName[&quot;FAN&quot;]</key><delay>1h</delay><filter><conditions><condition><macro>{#SNMPVALUE}</macro><value>^speed</value><formulaid>A</formulaid></condition></conditions></filter><description>The textual name of the physical entity.</description><item_prototypes><item_prototype><name>Status of FAN Sensor &quot;{#SNMPVALUE}&quot;/{#SNMPINDEX}</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.9.9.91.1.1.1.1.5.{#SNMPINDEX}</snmp_oid><key>entSensorStatus[&quot;{#SNMPVALUE}&quot;,FAN,{#SNMPINDEX}]</key><history>30d</history><trends>0</trends><description>CISCO-ENTITY-SENSOR-MIB::entSensorStatus&#13;
&#13;
This variable indicates the present operational status of the sensor.</description><applications><application><name>FAN</name></application></applications><valuemap><name>ENTITY-SENSORS-MIB::EntitySensorStatus</name></valuemap><trigger_prototypes><trigger_prototype><expression>{last()}=3</expression><name>FAN Sensor &quot;{#SNMPVALUE}&quot;/{#SNMPINDEX} is nonoperational</name><priority>HIGH</priority></trigger_prototype><trigger_prototype><expression>{last()}=2</expression><name>FAN Sensor &quot;{#SNMPVALUE}&quot;/{#SNMPINDEX} is unavailable</name><priority>AVERAGE</priority></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>Speed of FAN Sensor &quot;{#SNMPVALUE}&quot;/{#SNMPINDEX}</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.9.9.91.1.1.1.1.4.{#SNMPINDEX}</snmp_oid><key>entSensorValue[&quot;{#SNMPVALUE}&quot;,FAN,{#SNMPINDEX}]</key><delay>5m</delay><units>rpm</units><description>CISCO-ENTITY-SENSOR-MIB::entSensorValue&#13;
&#13;
This variable reports the most recent measurement seen by the sensor.</description><applications><application><name>FAN</name></application></applications></item_prototype></item_prototypes><graph_prototypes><graph_prototype><name>FAN speed &quot;{#SNMPVALUE}&quot;/{#SNMPINDEX}</name><show_work_period>NO</show_work_period><show_triggers>NO</show_triggers><graph_items><graph_item><color>199C0D</color><item><host>Cisco ASR 9K Health SNMP</host><key>entSensorValue[&quot;{#SNMPVALUE}&quot;,FAN,{#SNMPINDEX}]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes></discovery_rule><discovery_rule><name>FAN Tray Sensor Discovery</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.2.1.47.1.1.1.1.7]</snmp_oid><key>entPhysicalName[&quot;FAN Tray&quot;]</key><delay>1h</delay><filter><conditions><condition><macro>{#SNMPVALUE}</macro><value>^fantray</value><formulaid>A</formulaid></condition></conditions></filter><description>The textual name of the physical entity.</description><item_prototypes><item_prototype><name>Operational Status of &quot;$1&quot;</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.9.9.117.1.4.1.1.1.{#SNMPINDEX}</snmp_oid><key>cefcFanTrayOperStatus[&quot;{#SNMPVALUE}&quot;]</key><history>30d</history><trends>0</trends><description>CISCO-ENTITY-FRU-CONTROL-MIB::cefcFanTrayOperStatus&#13;
&#13;
The operational state of the fan or fan tray.</description><applications><application><name>FAN</name></application></applications><valuemap><name>CISCO-ENTITY-FRU-CONTROL-MIB::CefcFanTrayStatusEntry</name></valuemap><trigger_prototypes><trigger_prototype><expression>{last()}=4</expression><name>Status of &quot;{#SNMPVALUE}&quot; is in partial failure</name><priority>AVERAGE</priority></trigger_prototype><trigger_prototype><expression>{last()}=3</expression><name>Status of &quot;{#SNMPVALUE}&quot; is powered down</name><priority>HIGH</priority></trigger_prototype><trigger_prototype><expression>{last()}=1</expression><name>Status of &quot;{#SNMPVALUE}&quot; is unknown</name><priority>INFO</priority></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes></discovery_rule><discovery_rule><name>Temperature LC Discovery</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.2.1.47.1.1.1.1.7,{#SNMPDESC},.1.3.6.1.2.1.47.1.1.1.1.2]</snmp_oid><key>entPhysicalName[&quot;LC&quot;]</key><delay>1h</delay><filter><evaltype>AND</evaltype><conditions><condition><macro>{#SNMPVALUE}</macro><value>^temperature [0-1]/[0-9]/CPU[0-1]$</value><formulaid>B</formulaid></condition><condition><macro>{#SNMPDESC}</macro><value>Hot Temperature SensorHotspot0</value><formulaid>A</formulaid></condition></conditions></filter><description>The textual name of the physical entity.</description><item_prototypes><item_prototype><name>Status of Temperature Sensor &quot;$1&quot;</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.9.9.91.1.1.1.1.5.{#SNMPINDEX}</snmp_oid><key>entSensorStatus[&quot;{#SNMPVALUE}&quot;,&quot;Temperature LC&quot;]</key><history>30d</history><trends>0</trends><description>CISCO-ENTITY-SENSOR-MIB::entSensorStatus&#13;
&#13;
This variable indicates the present operational status of the sensor.</description><applications><application><name>Temperature LC</name></application></applications><application_prototypes><application_prototype><name>Temperature LC {#SNMPVALUE}</name></application_prototype></application_prototypes><valuemap><name>ENTITY-SENSORS-MIB::EntitySensorStatus</name></valuemap><trigger_prototypes><trigger_prototype><expression>{last()}=3</expression><name>Temperature Sensor &quot;{#SNMPVALUE}&quot; is nonoperational</name><priority>HIGH</priority></trigger_prototype><trigger_prototype><expression>{last()}=2</expression><name>Temperature Sensor &quot;{#SNMPVALUE}&quot; is unavailable</name><priority>AVERAGE</priority></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>Thresholds::&quot;$1&quot; | Temperature Alarm</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.9.9.91.1.2.1.1.4.{#SNMPINDEX}.6</snmp_oid><key>entSensorThresholdValue[&quot;{#SNMPVALUE}&quot;,&quot;Temperature LC&quot;,&quot;Alarm&quot;]</key><delay>1h</delay><history>7d</history><trends>180d</trends><value_type>FLOAT</value_type><units>°C</units><applications><application><name>Temperature LC</name></application></applications><application_prototypes><application_prototype><name>Temperature LC {#SNMPVALUE}</name></application_prototype></application_prototypes><preprocessing><step><type>MULTIPLIER</type><params>0.1</params></step></preprocessing></item_prototype><item_prototype><name>Temperature on Sensor &quot;$1&quot;</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.9.9.91.1.1.1.1.4.{#SNMPINDEX}</snmp_oid><key>entSensorValue[&quot;{#SNMPVALUE}&quot;,&quot;Temperature LC&quot;]</key><units>°C</units><description>CISCO-ENTITY-SENSOR-MIB::entSensorValue&#13;
&#13;
This variable reports the most recent measurement seen by the sensor.</description><applications><application><name>Temperature LC</name></application></applications><application_prototypes><application_prototype><name>Temperature LC {#SNMPVALUE}</name></application_prototype></application_prototypes><preprocessing><step><type>MULTIPLIER</type><params>0.1</params></step></preprocessing></item_prototype></item_prototypes><trigger_prototypes><trigger_prototype><expression>{Cisco ASR 9K Health SNMP:entSensorValue[&quot;{#SNMPVALUE}&quot;,&quot;Temperature LC&quot;].last()}&gt;{Cisco ASR 9K Health SNMP:entSensorThresholdValue[&quot;{#SNMPVALUE}&quot;,&quot;Temperature LC&quot;,&quot;Alarm&quot;].last()}</expression><name>High Temperature Alarm &quot;{#SNMPVALUE}&quot;</name><priority>HIGH</priority></trigger_prototype></trigger_prototypes><graph_prototypes><graph_prototype><name>Temperature LC &quot;{#SNMPVALUE}&quot;</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>00FF00</color><item><host>Cisco ASR 9K Health SNMP</host><key>entSensorValue[&quot;{#SNMPVALUE}&quot;,&quot;Temperature LC&quot;]</key></item></graph_item><graph_item><sortorder>1</sortorder><drawtype>BOLD_LINE</drawtype><color>FF0000</color><item><host>Cisco ASR 9K Health SNMP</host><key>entSensorThresholdValue[&quot;{#SNMPVALUE}&quot;,&quot;Temperature LC&quot;,&quot;Alarm&quot;]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes></discovery_rule><discovery_rule><name>Power Supply Sensors Discovery</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.2.1.47.1.1.1.1.7]</snmp_oid><key>entPhysicalName[&quot;Power Supply&quot;]</key><delay>1h</delay><filter><conditions><condition><macro>{#SNMPVALUE}</macro><value>^power\-module</value><formulaid>A</formulaid></condition></conditions></filter><lifetime>0</lifetime><description>The textual name of the physical entity.</description><item_prototypes><item_prototype><name>Current Supplied by PowerSupply &quot;$1&quot;</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.9.9.117.1.1.2.1.3.{#SNMPINDEX}</snmp_oid><key>cefcFRUCurrent[&quot;{#SNMPVALUE}&quot;,&quot;Power Supply&quot;]</key><delay>30m</delay><history>30d</history><trends>0</trends><value_type>FLOAT</value_type><units>W</units><description>CISCO-ENTITY-FRU-CONTROL-MIB::cefcFRUCurrent&#13;
&#13;
Current supplied by the FRU (positive values) or current required to operate the FRU (negative values).</description><applications><application><name>Power Supply</name></application></applications></item_prototype><item_prototype><name>Operational Status of PowerSupply &quot;$1&quot;</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.9.9.117.1.1.2.1.2.{#SNMPINDEX}</snmp_oid><key>cefcFRUPowerOperStatus[&quot;{#SNMPVALUE}&quot;,&quot;Power Supply&quot;]</key><history>30d</history><trends>0</trends><description>CISCO-ENTITY-FRU-CONTROL-MIB::cefcFRUPowerOperStatus&#13;
&#13;
Operational FRU power state.</description><applications><application><name>Power Supply</name></application></applications><valuemap><name>CISCO-ENTITY-FRU-CONTROL-MIB::PowerOperType</name></valuemap><trigger_prototypes><trigger_prototype><expression>{last()}=11</expression><name>Connector rating exceeded on Power Supply &quot;{#SNMPVALUE}&quot;</name><priority>AVERAGE</priority></trigger_prototype><trigger_prototype><expression>{last()}=10</expression><name>Cooling capacity is insufficient on Power Supply &quot;{#SNMPVALUE}&quot;</name><priority>HIGH</priority></trigger_prototype><trigger_prototype><expression>{last()}=9</expression><name>FAN failed on Power Supply &quot;{#SNMPVALUE}&quot;</name><priority>WARNING</priority></trigger_prototype><trigger_prototype><expression>{last()}=7</expression><name>FAN problem on Power Supply &quot;{#SNMPVALUE}&quot;</name><priority>AVERAGE</priority></trigger_prototype><trigger_prototype><expression>{last()}=5</expression><name>Power problem on Power Supply &quot;{#SNMPVALUE}&quot;</name><priority>AVERAGE</priority></trigger_prototype><trigger_prototype><expression>{last()}=8 and {last()}=12</expression><name>Power Supply &quot;{#SNMPVALUE}&quot; is failed</name><priority>HIGH</priority></trigger_prototype><trigger_prototype><expression>{last()}=1</expression><name>Power Supply &quot;{#SNMPVALUE}&quot; is powered off</name><priority>WARNING</priority></trigger_prototype><trigger_prototype><expression>{last()}=4</expression><name>System power is insufficient on Power Supply &quot;{#SNMPVALUE}&quot;</name><priority>HIGH</priority></trigger_prototype><trigger_prototype><expression>{last()}=6</expression><name>Temperature problem on Power Supply &quot;{#SNMPVALUE}&quot;</name><priority>HIGH</priority></trigger_prototype></trigger_prototypes></item_prototype></item_prototypes></discovery_rule><discovery_rule><name>Power Supply Current (A) Discovery</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.2.1.47.1.1.1.1.7]</snmp_oid><key>entPhysicalName[&quot;Power Supply Current&quot;]</key><delay>1h</delay><filter><conditions><condition><macro>{#SNMPVALUE}</macro><value>^current [0|1]/PS[0|1]/M[0-2]/SP$</value><formulaid>A</formulaid></condition></conditions></filter><description>The textual name of the physical entity.</description><item_prototypes><item_prototype><name>&quot;$1&quot;</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.9.9.91.1.1.1.1.4.{#SNMPINDEX}</snmp_oid><key>entPhysicalContainedInCurrent[&quot;{#SNMPVALUE}&quot;]</key><value_type>FLOAT</value_type><units>A</units><applications><application><name>Power Current</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>0.001</params></step></preprocessing></item_prototype></item_prototypes><graph_prototypes><graph_prototype><name>Current &quot;{#SNMPVALUE}&quot;</name><graph_items><graph_item><drawtype>BOLD_LINE</drawtype><color>FFFF00</color><item><host>Cisco ASR 9K Health SNMP</host><key>entPhysicalContainedInCurrent[&quot;{#SNMPVALUE}&quot;]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes></discovery_rule><discovery_rule><name>Power Supply Voltage (V) Discovery</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.2.1.47.1.1.1.1.7]</snmp_oid><key>entPhysicalName[&quot;Power Supply Voltage&quot;]</key><delay>1h</delay><filter><conditions><condition><macro>{#SNMPVALUE}</macro><value>^voltage [0|1]/PS[0|1]/M[0-2]/SP$</value><formulaid>A</formulaid></condition></conditions></filter><description>The textual name of the physical entity.</description><item_prototypes><item_prototype><name>&quot;$1&quot;</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.9.9.91.1.1.1.1.4.{#SNMPINDEX}</snmp_oid><key>entPhysicalContainedInVoltage[&quot;{#SNMPVALUE}&quot;]</key><value_type>FLOAT</value_type><units>V</units><applications><application><name>Power Voltage</name></application></applications><preprocessing><step><type>MULTIPLIER</type><params>0.001</params></step></preprocessing></item_prototype></item_prototypes><graph_prototypes><graph_prototype><name>Voltage &quot;{#SNMPVALUE}&quot;</name><graph_items><graph_item><drawtype>BOLD_LINE</drawtype><color>00FF00</color><item><host>Cisco ASR 9K Health SNMP</host><key>entPhysicalContainedInVoltage[&quot;{#SNMPVALUE}&quot;]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes></discovery_rule><discovery_rule><name>Temperature RSP Discovery</name><type>SNMP_AGENT</type><snmp_oid>discovery[{#SNMPVALUE},.1.3.6.1.2.1.47.1.1.1.1.7,{#SNMPDESC},.1.3.6.1.2.1.47.1.1.1.1.2]</snmp_oid><key>entPhysicalName[&quot;RSP&quot;]</key><delay>1h</delay><filter><evaltype>AND</evaltype><conditions><condition><macro>{#SNMPVALUE}</macro><value>^temperature [0-1]/RSP[0-1]/CPU[0-1]$</value><formulaid>B</formulaid></condition><condition><macro>{#SNMPDESC}</macro><value>Hot Temperature SensorHotspot0</value><formulaid>A</formulaid></condition></conditions></filter><description>The textual name of the physical entity.</description><item_prototypes><item_prototype><name>Status of Temperature Sensor &quot;$1&quot;</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.9.9.91.1.1.1.1.5.{#SNMPINDEX}</snmp_oid><key>entSensorStatus[&quot;{#SNMPVALUE}&quot;,&quot;Temperature RSP&quot;]</key><history>30d</history><trends>0</trends><description>CISCO-ENTITY-SENSOR-MIB::entSensorStatus&#13;
&#13;
This variable indicates the present operational status of the sensor.</description><applications><application><name>Temperature RSP</name></application></applications><application_prototypes><application_prototype><name>Temperature RSP {#SNMPVALUE}</name></application_prototype></application_prototypes><valuemap><name>CISCO-ENTITY-SENSOR-MIB::SensorStatus</name></valuemap><trigger_prototypes><trigger_prototype><expression>{last()}=3</expression><name>Temperature Sensor &quot;{#SNMPVALUE}&quot; is nonoperational</name><priority>HIGH</priority></trigger_prototype><trigger_prototype><expression>{last()}=2</expression><name>Temperature Sensor &quot;{#SNMPVALUE}&quot; is unavailable</name><priority>AVERAGE</priority></trigger_prototype></trigger_prototypes></item_prototype><item_prototype><name>Thresholds::&quot;$1&quot; | Temperature Alarm</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.9.9.91.1.2.1.1.4.{#SNMPINDEX}.6</snmp_oid><key>entSensorThresholdValue[&quot;{#SNMPVALUE}&quot;,&quot;Temperature RSP&quot;,&quot;Alarm&quot;]</key><delay>1h</delay><history>7d</history><trends>180d</trends><units>°C</units><applications><application><name>Temperature RSP</name></application></applications><application_prototypes><application_prototype><name>Temperature RSP {#SNMPVALUE}</name></application_prototype></application_prototypes><preprocessing><step><type>MULTIPLIER</type><params>0.1</params></step></preprocessing></item_prototype><item_prototype><name>Temperature on Sensor &quot;$1&quot;</name><type>SNMP_AGENT</type><snmp_oid>1.3.6.1.4.1.9.9.91.1.1.1.1.4.{#SNMPINDEX}</snmp_oid><key>entSensorValue[&quot;{#SNMPVALUE}&quot;,&quot;Temperature RSP&quot;]</key><value_type>FLOAT</value_type><units>°C</units><description>CISCO-ENTITY-SENSOR-MIB::entSensorValue&#13;
&#13;
This variable reports the most recent measurement seen by the sensor.</description><applications><application><name>Temperature RSP</name></application></applications><application_prototypes><application_prototype><name>Temperature RSP {#SNMPVALUE}</name></application_prototype></application_prototypes><preprocessing><step><type>MULTIPLIER</type><params>0.1</params></step></preprocessing></item_prototype></item_prototypes><trigger_prototypes><trigger_prototype><expression>{Cisco ASR 9K Health SNMP:entSensorValue[&quot;{#SNMPVALUE}&quot;,&quot;Temperature RSP&quot;].last()}&gt;{Cisco ASR 9K Health SNMP:entSensorThresholdValue[&quot;{#SNMPVALUE}&quot;,&quot;Temperature RSP&quot;,&quot;Alarm&quot;].last()}</expression><name>High Temperature Alarm &quot;{#SNMPVALUE}&quot;</name><priority>HIGH</priority></trigger_prototype></trigger_prototypes><graph_prototypes><graph_prototype><name>Temperature RSP &quot;{#SNMPVALUE}&quot;</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>00FF00</color><item><host>Cisco ASR 9K Health SNMP</host><key>entSensorValue[&quot;{#SNMPVALUE}&quot;,&quot;Temperature RSP&quot;]</key></item></graph_item><graph_item><sortorder>1</sortorder><color>FF0000</color><item><host>Cisco ASR 9K Health SNMP</host><key>entSensorThresholdValue[&quot;{#SNMPVALUE}&quot;,&quot;Temperature RSP&quot;,&quot;Alarm&quot;]</key></item></graph_item></graph_items></graph_prototype></graph_prototypes></discovery_rule></discovery_rules><macros><macro><macro>{$CPU_HIGH_ALARM}</macro><value>80</value><description>% maximum alarm cpu</description></macro><macro><macro>{$CPU_HIGH_WARNING}</macro><value>70</value><description>% maximum warning cpu</description></macro><macro><macro>{$MEMORY_HIGH_ALARM}</macro><value>80</value><description>% maximum alarm memory</description></macro><macro><macro>{$MEMORY_HIGH_WARNING}</macro><value>70</value><description>% maximum warning memory</description></macro></macros><screens><screen><name>Screen CPU</name><hsize>1</hsize><vsize>2</vsize><screen_items><screen_item><resourcetype>20</resourcetype><style>0</style><resource><name>CPU #&quot;{#SNMPINDEX}&quot; 1min Usage</name><host>Cisco ASR 9K Health SNMP</host></resource><width>500</width><height>100</height><x>0</x><y>0</y><colspan>1</colspan><rowspan>1</rowspan><elements>0</elements><valign>0</valign><halign>0</halign><dynamic>0</dynamic><sort_triggers>0</sort_triggers><url/><application/><max_columns>3</max_columns></screen_item><screen_item><resourcetype>20</resourcetype><style>0</style><resource><name>CPU #&quot;{#SNMPINDEX}&quot; 5min Usage</name><host>Cisco ASR 9K Health SNMP</host></resource><width>500</width><height>100</height><x>0</x><y>1</y><colspan>1</colspan><rowspan>1</rowspan><elements>0</elements><valign>0</valign><halign>0</halign><dynamic>0</dynamic><sort_triggers>0</sort_triggers><url/><application/><max_columns>3</max_columns></screen_item></screen_items></screen><screen><name>Screen FAN</name><hsize>1</hsize><vsize>1</vsize><screen_items><screen_item><resourcetype>20</resourcetype><style>0</style><resource><name>FAN speed &quot;{#SNMPVALUE}&quot;/{#SNMPINDEX}</name><host>Cisco ASR 9K Health SNMP</host></resource><width>500</width><height>100</height><x>0</x><y>0</y><colspan>1</colspan><rowspan>1</rowspan><elements>0</elements><valign>0</valign><halign>0</halign><dynamic>0</dynamic><sort_triggers>0</sort_triggers><url/><application/><max_columns>3</max_columns></screen_item></screen_items></screen><screen><name>Screen Memory</name><hsize>1</hsize><vsize>2</vsize><screen_items><screen_item><resourcetype>20</resourcetype><style>0</style><resource><name>Memory {#SNMPVALUE}</name><host>Cisco ASR 9K Health SNMP</host></resource><width>500</width><height>100</height><x>0</x><y>0</y><colspan>1</colspan><rowspan>1</rowspan><elements>0</elements><valign>0</valign><halign>0</halign><dynamic>0</dynamic><sort_triggers>0</sort_triggers><url/><application/><max_columns>3</max_columns></screen_item><screen_item><resourcetype>20</resourcetype><style>0</style><resource><name>Memory Utilization Pool &quot;{#SNMPVALUE}&quot;</name><host>Cisco ASR 9K Health SNMP</host></resource><width>500</width><height>100</height><x>0</x><y>1</y><colspan>1</colspan><rowspan>1</rowspan><elements>0</elements><valign>0</valign><halign>0</halign><dynamic>0</dynamic><sort_triggers>0</sort_triggers><url/><application/><max_columns>3</max_columns></screen_item></screen_items></screen><screen><name>Screen Power</name><hsize>1</hsize><vsize>3</vsize><screen_items><screen_item><resourcetype>0</resourcetype><style>0</style><resource><name>Power Consumption</name><host>Cisco ASR 9K Health SNMP</host></resource><width>500</width><height>100</height><x>0</x><y>0</y><colspan>1</colspan><rowspan>1</rowspan><elements>0</elements><valign>0</valign><halign>0</halign><dynamic>0</dynamic><sort_triggers>0</sort_triggers><url/><application/><max_columns>3</max_columns></screen_item><screen_item><resourcetype>20</resourcetype><style>0</style><resource><name>Current &quot;{#SNMPVALUE}&quot;</name><host>Cisco ASR 9K Health SNMP</host></resource><width>500</width><height>100</height><x>0</x><y>1</y><colspan>1</colspan><rowspan>1</rowspan><elements>0</elements><valign>0</valign><halign>0</halign><dynamic>0</dynamic><sort_triggers>0</sort_triggers><url/><application/><max_columns>3</max_columns></screen_item><screen_item><resourcetype>20</resourcetype><style>0</style><resource><name>Voltage &quot;{#SNMPVALUE}&quot;</name><host>Cisco ASR 9K Health SNMP</host></resource><width>500</width><height>100</height><x>0</x><y>2</y><colspan>1</colspan><rowspan>1</rowspan><elements>0</elements><valign>0</valign><halign>0</halign><dynamic>0</dynamic><sort_triggers>0</sort_triggers><url/><application/><max_columns>3</max_columns></screen_item></screen_items></screen><screen><name>Screen Temperature</name><hsize>1</hsize><vsize>2</vsize><screen_items><screen_item><resourcetype>20</resourcetype><style>0</style><resource><name>Temperature RSP &quot;{#SNMPVALUE}&quot;</name><host>Cisco ASR 9K Health SNMP</host></resource><width>500</width><height>100</height><x>0</x><y>0</y><colspan>1</colspan><rowspan>1</rowspan><elements>0</elements><valign>0</valign><halign>0</halign><dynamic>0</dynamic><sort_triggers>0</sort_triggers><url/><application/><max_columns>3</max_columns></screen_item><screen_item><resourcetype>20</resourcetype><style>0</style><resource><name>Temperature LC &quot;{#SNMPVALUE}&quot;</name><host>Cisco ASR 9K Health SNMP</host></resource><width>500</width><height>100</height><x>0</x><y>1</y><colspan>1</colspan><rowspan>1</rowspan><elements>0</elements><valign>0</valign><halign>0</halign><dynamic>0</dynamic><sort_triggers>0</sort_triggers><url/><application/><max_columns>3</max_columns></screen_item></screen_items></screen></screens></template></templates><graphs><graph><name>Power Consumption</name><graph_items><graph_item><drawtype>GRADIENT_LINE</drawtype><color>FF0000</color><item><host>Cisco ASR 9K Health SNMP</host><key>powerConsumption</key></item></graph_item></graph_items></graph></graphs><value_maps><value_map><name>CISCO-ENTITY-FRU-CONTROL-MIB::CefcFanTrayStatusEntry</name><mappings><mapping><value>1</value><newvalue>unknown</newvalue></mapping><mapping><value>2</value><newvalue>up</newvalue></mapping><mapping><value>3</value><newvalue>down</newvalue></mapping><mapping><value>4</value><newvalue>warning</newvalue></mapping></mappings></value_map><value_map><name>CISCO-ENTITY-FRU-CONTROL-MIB::PowerOperType</name><mappings><mapping><value>1</value><newvalue>offEnvOther</newvalue></mapping><mapping><value>2</value><newvalue>on</newvalue></mapping><mapping><value>3</value><newvalue>offAdmin</newvalue></mapping><mapping><value>4</value><newvalue>offDenied</newvalue></mapping><mapping><value>5</value><newvalue>offEnvPower</newvalue></mapping><mapping><value>6</value><newvalue>offEnvTemp</newvalue></mapping><mapping><value>7</value><newvalue>offEnvFan</newvalue></mapping><mapping><value>8</value><newvalue>failed</newvalue></mapping><mapping><value>9</value><newvalue>onButFanFail</newvalue></mapping><mapping><value>10</value><newvalue>offCooling</newvalue></mapping><mapping><value>11</value><newvalue>offConnectorRating</newvalue></mapping><mapping><value>12</value><newvalue>onButInlinePowerFail</newvalue></mapping></mappings></value_map><value_map><name>CISCO-ENTITY-SENSOR-MIB::SensorStatus</name><mappings><mapping><value>1</value><newvalue>ok</newvalue></mapping><mapping><value>2</value><newvalue>unavailable</newvalue></mapping><mapping><value>3</value><newvalue>nonoperational</newvalue></mapping></mappings></value_map><value_map><name>ENTITY-SENSORS-MIB::EntitySensorStatus</name><mappings><mapping><value>1</value><newvalue>ok</newvalue></mapping><mapping><value>2</value><newvalue>unavailable</newvalue></mapping><mapping><value>3</value><newvalue>nonoperational</newvalue></mapping></mappings></value_map></value_maps></zabbix_export>
