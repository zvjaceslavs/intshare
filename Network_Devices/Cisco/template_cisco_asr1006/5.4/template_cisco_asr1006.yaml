zabbix_export:
  version: '5.4'
  date: '2021-11-21T21:16:58Z'
  groups:
    -
      uuid: f1537448b0da4ebb870d18790c1cec56
      name: 'Templates SNMP Devices'
  templates:
    -
      uuid: 1f3a9b57769a49f4b9b972fd6ea838b0
      template: Cisco_ASR_1006
      name: Cisco_ASR_1006
      templates:
        -
          name: 'Template Cisco General'
        -
          name: Template_Cisco_Traps
      groups:
        -
          name: 'Templates SNMP Devices'
      items:
        -
          uuid: a7c4395fc4cc4ee1910b6f9fd6d10821
          name: 'snmptrap (IF Down)'
          type: SNMP_TRAP
          key: 'snmptrap[.1.3.6.1.6.3.1.1.5.3]'
          delay: '0'
          trends: '0'
          value_type: LOG
        -
          uuid: 2737f2f54c054e8ab4b09db07039f76d
          name: 'snmptrap (IF Up)'
          type: SNMP_TRAP
          key: 'snmptrap[.1.3.6.1.6.3.1.1.5.4]'
          delay: '0'
          trends: '0'
          value_type: LOG
        -
          uuid: 59780256dcca4fff839eb71171f842db
          name: 'snmptrap (OSPF Neighbor Up/Down)'
          type: SNMP_TRAP
          key: 'snmptrap[1.3.6.1.2.1.14.16.2.2]'
          delay: '0'
          trends: '0'
          value_type: LOG
        -
          uuid: cc5b3ceb489741928344e7ddd21ef64e
          name: 'snmptrap (BGP Neighbor Up/Down)'
          type: SNMP_TRAP
          key: 'snmptrap[1.3.6.1.2.1.15.3.1.2|1.3.6.1.4.1.9.9.187.1.2.5.1.3]'
          delay: '0'
          trends: '0'
          value_type: LOG
      discovery_rules:
        -
          uuid: 9f385544f2734db88d91d83d26b82246
          name: 'Flash Devices'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},.1.3.6.1.4.1.9.9.10.1.1.2.1.8]'
          key: ciscoFlashDeviceDescr
          delay: '300'
          lifetime: '0'
          description: |
            CISCO-FLASH-MIB::ciscoFlashDeviceDescr
            
            Description of a Flash device. The description is meant to explain what the Flash device and its purpose is. Current values are:
            System flash - for the primary Flash used to store full system images.
            Boot flash - for the secondary Flash used to store bootstrap images.
            
            The device description will always be available for a removable device, even when the device has been removed.
          item_prototypes:
            -
              uuid: 3e1282a0e72f491dba690cc77f7a8ed8
              name: 'Size of Flash Device "$1"'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.9.9.10.1.1.2.1.16.{#SNMPINDEX}'
              key: 'ciscoFlashDeviceSizeExtended["{#SNMPVALUE}"]'
              delay: '3600'
              units: B
              description: |
                CISCO-FLASH-MIB::ciscoFlashDeviceSizeExtended
                
                Total size of the Flash device. For a removable device, the size will be zero if the device has been removed.
                This object is a 64-bit version of ciscoFlashDeviceSize.
              tags:
                -
                  tag: Application
                  value: 'Flash Devices'
        -
          uuid: bfbb36d34b9b4d31a9a5dbbed1228eec
          name: 'Memory Pool'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},.1.3.6.1.4.1.9.9.48.1.1.1.2]'
          key: ciscoMemoryPoolName
          delay: '300'
          lifetime: '0'
          description: |
            CISCO-MEMORY-POOL-MIB::ciscoMemoryPoolName
            
            A textual name assigned to the memory pool.
          item_prototypes:
            -
              uuid: 9900d82391184d1a8a3350f615dd830f
              name: 'Free memory on Memory Pool "$1"'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.9.9.48.1.1.1.6.{#SNMPINDEX}'
              key: 'ciscoMemoryPoolFree["{#SNMPVALUE}"]'
              delay: '60'
              units: B
              description: |
                CISCO-MEMORY-POOL-MIB::ciscoMemoryPoolFree
                
                Indicates the number of bytes from the memory pool that are currently unused on the managed device.
              tags:
                -
                  tag: Application
                  value: Memory
            -
              uuid: 6229a53f41b64acfab3d1ed48284170c
              name: 'Name of Memory Pool "$1"'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.9.9.48.1.1.1.2.{#SNMPINDEX}'
              key: 'ciscoMemoryPoolName["{#SNMPVALUE}"]'
              delay: '3600'
              trends: '0'
              value_type: CHAR
              description: |
                CISCO-MEMORY-POOL-MIB::ciscoMemoryPoolName
                
                A textual name assigned to the memory pool.
              tags:
                -
                  tag: Application
                  value: Memory
            -
              uuid: 15c4d480056444dca0aae87c01353a85
              name: 'Used memory on Memory Pool "$1"'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.9.9.48.1.1.1.5.{#SNMPINDEX}'
              key: 'ciscoMemoryPoolUsed["{#SNMPVALUE}"]'
              delay: '300'
              units: B
              description: |
                CISCO-MEMORY-POOL-MIB::ciscoMemoryPoolUsed
                
                Indicates the number of bytes from the memory pool that are currently in use by applications on the managed device.
              tags:
                -
                  tag: Application
                  value: Memory
          trigger_prototypes:
            -
              uuid: c27c1dbe358841e48cb169ee4df91073
              expression: 'last(/Cisco_ASR_1006/ciscoMemoryPoolFree["{#SNMPVALUE}"])<(last(/Cisco_ASR_1006/ciscoMemoryPoolUsed["{#SNMPVALUE}"])+last(/Cisco_ASR_1006/ciscoMemoryPoolFree["{#SNMPVALUE}"]))*0.05 and find(/Cisco_ASR_1006/ciscoMemoryPoolName["{#SNMPVALUE}"],,"like","lsmpi_io")=0'
              name: 'High utilization of Memory Pool "{#SNMPVALUE}"'
              priority: AVERAGE
        -
          uuid: d988d89fb9b240ca8f6335c7333df7b0
          name: CPU
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},.1.3.6.1.4.1.9.9.109.1.1.1.1.2]'
          key: cpmCPUTotalPhysicalIndex
          delay: '300'
          lifetime: '0'
          description: |
            CISCO-PROCESS-MIB::cpmCPUTotalPhysicalIndex
            
            The entPhysicalIndex of the physical entity for which the CPU statistics in this entry are maintained. The physical entity can be a CPU chip, a group of CPUs, a CPU card etc. The exact type of this entity is described by its entPhysicalVendorType value. If the CPU statistics in this entry correspond to more than one physical entity (or to no physical entity), or if the entPhysicalTable is not supported on the SNMP agent, the value of this object must be zero.
          item_prototypes:
            -
              uuid: cc0c2e8e72ab41ee948c20c718ac7454
              name: 'CPU #$1 Usage 1min Rev'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.9.9.109.1.1.1.1.7.{#SNMPINDEX}'
              key: 'cpmCPUTotal1minRev[{#SNMPINDEX}]'
              delay: '60'
              units: '%'
              description: |
                CISCO-PROCESS-MIB::cpmCPUTotal1minRev
                
                The overall CPU busy percentage in the last 1 minute period. This object deprecates the object cpmCPUTotal1min and increases the value range to (0..100).
              tags:
                -
                  tag: Application
                  value: CPU
            -
              uuid: ffce253bf5d7438d81341c038a1e6865
              name: 'CPU #$1 Usage 5min Rev'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.9.9.109.1.1.1.1.8.{#SNMPINDEX}'
              key: 'cpmCPUTotal5minRev[{#SNMPINDEX}]'
              delay: '300'
              units: '%'
              description: |
                CISCO-PROCESS-MIB::cpmCPUTotal5minRev
                
                The overall CPU busy percentage in the last 5 minute period. This object deprecates the object cpmCPUTotal5min and increases the value range to (0..100).
              tags:
                -
                  tag: Application
                  value: CPU
              trigger_prototypes:
                -
                  uuid: 300222dbe2834fdab8e7846ad992f2f0
                  expression: 'last(/Cisco_ASR_1006/cpmCPUTotal5minRev[{#SNMPINDEX}])>95'
                  name: 'High CPU #{#SNMPINDEX} Usage'
                  priority: HIGH
            -
              uuid: 2ed4e743a0d24df1be8ceac0e8bbc51d
              name: 'CPU #$1 Usage 5sec Rev'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.9.9.109.1.1.1.1.6.{#SNMPINDEX}'
              key: 'cpmCPUTotal5secRev[{#SNMPINDEX}]'
              delay: '30'
              status: DISABLED
              units: '%'
              description: |
                CISCO-PROCESS-MIB::cpmCPUTotal5secRev
                
                The overall CPU busy percentage in the last 5 second period. This object deprecates the object cpmCPUTotal5sec and increases the value range to (0..100). This object is deprecated by cpmCPUTotalMonIntervalValue.
              tags:
                -
                  tag: Application
                  value: CPU
          graph_prototypes:
            -
              uuid: bc63d9850ab1404188b347d595a05751
              name: 'CPU #{#SNMPINDEX} Usage'
              graph_items:
                -
                  color: 00C800
                  item:
                    host: Cisco_ASR_1006
                    key: 'cpmCPUTotal1minRev[{#SNMPINDEX}]'
                -
                  sortorder: '1'
                  color: C80000
                  item:
                    host: Cisco_ASR_1006
                    key: 'cpmCPUTotal5minRev[{#SNMPINDEX}]'
        -
          uuid: bd48a3710ed7425cac6ec656134c69e3
          name: '$1 Sensors'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},.1.3.6.1.2.1.47.1.1.1.1.7]'
          key: 'entPhysicalName["Optic Power"]'
          delay: '300'
          filter:
            conditions:
              -
                macro: '{#SNMPVALUE}'
                value: '[T|R]x Power Sensor$'
                formulaid: A
          lifetime: '0'
          description: 'The textual name of the physical entity.'
          item_prototypes:
            -
              uuid: 2a70e7b4897b41978f91c31e3c708fea
              name: 'Status of $2 Sensor "$1"'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.9.9.91.1.1.1.1.5.{#SNMPINDEX}'
              key: 'entSensorStatus["{#SNMPVALUE}","Optic Power"]'
              delay: '60'
              description: |
                CISCO-ENTITY-SENSOR-MIB::entSensorStatus
                
                This variable indicates the present operational status of the sensor.
              tags:
                -
                  tag: Application
                  value: 'Optic Power Sensors'
              trigger_prototypes:
                -
                  uuid: 679eab38adc34c2e985dce6feeb39580
                  expression: 'last(/Cisco_ASR_1006/entSensorStatus["{#SNMPVALUE}","Optic Power"])=3'
                  name: 'Status of Optic Power Sensor "{#SNMPVALUE}" is nonoperational'
                  priority: HIGH
                -
                  uuid: 61dd3930d7d34d85b7567b1ea310c7ed
                  expression: 'last(/Cisco_ASR_1006/entSensorStatus["{#SNMPVALUE}","Optic Power"])=2'
                  name: 'Status of Optic Power Sensor "{#SNMPVALUE}" is unavailable'
                  priority: AVERAGE
            -
              uuid: 694950eff9d04b619dde1681b7f48b5b
              name: 'Value of $2 Sensor "$1"'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.9.9.91.1.1.1.1.4.{#SNMPINDEX}'
              key: 'entSensorValue["{#SNMPVALUE}","Optic Power"]'
              delay: '60'
              value_type: FLOAT
              units: dBm
              description: |
                CISCO-ENTITY-SENSOR-MIB::entSensorValue
                
                This variable reports the most recent measurement seen by the sensor.
              tags:
                -
                  tag: Application
                  value: 'Optic Power Sensors'
        -
          uuid: 60de968d454c4a528ad2bbd1061e36be
          name: '$1 Sensors'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},.1.3.6.1.2.1.47.1.1.1.1.7]'
          key: 'entPhysicalName["Power Supply"]'
          delay: '300'
          filter:
            conditions:
              -
                macro: '{#SNMPVALUE}'
                value: ^power\-module
                formulaid: A
          lifetime: '0'
          description: 'The textual name of the physical entity.'
          item_prototypes:
            -
              uuid: a4dd11d7ae3a495c9e81abd89f58a474
              name: 'Current Supplied by $2 "$1"'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.9.9.117.1.1.2.1.3.{#SNMPINDEX}'
              key: 'cefcFRUCurrent["{#SNMPVALUE}","Power Supply"]'
              delay: '600'
              value_type: FLOAT
              units: W
              description: |
                CISCO-ENTITY-FRU-CONTROL-MIB::cefcFRUCurrent
                
                Current supplied by the FRU (positive values) or current required to operate the FRU (negative values).
              tags:
                -
                  tag: Application
                  value: 'Power Supplies'
            -
              uuid: b7ba435a78554302ace32191c21c0c87
              name: 'Operational Status of $2 "$1"'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.9.9.117.1.1.2.1.2.{#SNMPINDEX}'
              key: 'cefcFRUPowerOperStatus["{#SNMPVALUE}","Power Supply"]'
              delay: '60'
              description: |
                CISCO-ENTITY-FRU-CONTROL-MIB::cefcFRUPowerOperStatus
                
                Operational FRU power state.
              tags:
                -
                  tag: Application
                  value: 'Power Supplies'
              trigger_prototypes:
                -
                  uuid: 2f42eb471a6542efa42ca5853667c2a0
                  expression: 'last(/Cisco_ASR_1006/cefcFRUPowerOperStatus["{#SNMPVALUE}","Power Supply"])=11'
                  name: 'Connector rating exceeded on Power Supply "{#SNMPVALUE}"'
                  priority: AVERAGE
                -
                  uuid: f97d52b0f2ee4cf387fc179fb8a98fea
                  expression: 'last(/Cisco_ASR_1006/cefcFRUPowerOperStatus["{#SNMPVALUE}","Power Supply"])=10'
                  name: 'Cooling capacity is insufficient on Power Supply "{#SNMPVALUE}"'
                  priority: HIGH
                -
                  uuid: 5d9ef4f8a1fd4478b6b3ec4217b7f3f5
                  expression: 'last(/Cisco_ASR_1006/cefcFRUPowerOperStatus["{#SNMPVALUE}","Power Supply"])=9'
                  name: 'FAN failed on Power Supply "{#SNMPVALUE}"'
                  priority: WARNING
                -
                  uuid: 9bbbca0a0a9a49939e77a32f9e40b59d
                  expression: 'last(/Cisco_ASR_1006/cefcFRUPowerOperStatus["{#SNMPVALUE}","Power Supply"])=7'
                  name: 'FAN problem on Power Supply "{#SNMPVALUE}"'
                  priority: AVERAGE
                -
                  uuid: 92a99514741f4ae3958a039b0c69350f
                  expression: 'last(/Cisco_ASR_1006/cefcFRUPowerOperStatus["{#SNMPVALUE}","Power Supply"])=5'
                  name: 'Power problem on Power Supply "{#SNMPVALUE}"'
                  priority: AVERAGE
                -
                  uuid: 0224aedc155345e38b00503002cbcf40
                  expression: 'last(/Cisco_ASR_1006/cefcFRUPowerOperStatus["{#SNMPVALUE}","Power Supply"])=8 and last(/Cisco_ASR_1006/cefcFRUPowerOperStatus["{#SNMPVALUE}","Power Supply"])=12'
                  name: 'Power Supply "{#SNMPVALUE}" is failed'
                  priority: HIGH
                -
                  uuid: 81782933ab6e4c0a9647e01ada5de004
                  expression: 'last(/Cisco_ASR_1006/cefcFRUPowerOperStatus["{#SNMPVALUE}","Power Supply"])=1'
                  name: 'Power Supply "{#SNMPVALUE}" is powered off'
                  priority: WARNING
                -
                  uuid: 6f6e1fd563524a2480cd18509560b820
                  expression: 'last(/Cisco_ASR_1006/cefcFRUPowerOperStatus["{#SNMPVALUE}","Power Supply"])=4'
                  name: 'System power is insufficient on Power Supply "{#SNMPVALUE}"'
                  priority: HIGH
                -
                  uuid: 105a127902bc42bd97174ce0131e9ecb
                  expression: 'last(/Cisco_ASR_1006/cefcFRUPowerOperStatus["{#SNMPVALUE}","Power Supply"])=6'
                  name: 'Temperature problem on Power Supply "{#SNMPVALUE}"'
                  priority: HIGH
            -
              uuid: 70cb2df64c4c47deab8f46e3aa2246fb
              name: 'Manufacturer of $2 "$1"'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.2.1.47.1.1.1.1.12.{#SNMPINDEX}'
              key: 'entPhysicalMfgName["{#SNMPVALUE}","Power Supply"]'
              delay: '86400'
              trends: '0'
              value_type: CHAR
              description: |
                ENTITY-MIB::entPhysicalMfgName
                
                The name of the manufacturer of this physical component. The preferred value is the manufacturer name string actually printed on the component itself (if present).
              tags:
                -
                  tag: Application
                  value: 'Power Supplies'
            -
              uuid: 5f9192e1ab3e4f83879b771ff78ebd8e
              name: 'Model Name of $2 "$1"'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.2.1.47.1.1.1.1.13.{#SNMPINDEX}'
              key: 'entPhysicalModelName["{#SNMPVALUE}","Power Supply"]'
              delay: '86400'
              trends: '0'
              value_type: CHAR
              description: |
                ENTITY-MIB::entPhysicalModelName
                
                The vendor-specific model name identifier string associated with this physical component.  The preferred value is the customer-visible part number, which may be printed on the component itself.
              tags:
                -
                  tag: Application
                  value: 'Power Supplies'
            -
              uuid: 8257e57dd44741b6aa25b251e1590e95
              name: 'Serial Number of $2 "$1"'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.2.1.47.1.1.1.1.11.{#SNMPINDEX}'
              key: 'entPhysicalSerialNum["{#SNMPVALUE}","Power Supply"]'
              delay: '3600'
              trends: '0'
              value_type: CHAR
              description: |
                ENTITY-MIB::entPhysicalSerialNum
                
                The vendor-specific serial number string for the physical entity. The preferred value is the serial number string actually printed on the component itself (if present).
              tags:
                -
                  tag: Application
                  value: 'Power Supplies'
        -
          uuid: c794e38aab4247518390075af090bedd
          name: '$1 Sensors'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},.1.3.6.1.2.1.47.1.1.1.1.7]'
          key: 'entPhysicalName[Amperage]'
          delay: '300'
          filter:
            conditions:
              -
                macro: '{#SNMPVALUE}'
                value: 'Bias Current Sensor$'
                formulaid: A
          lifetime: '0'
          description: 'The textual name of the physical entity.'
          item_prototypes:
            -
              uuid: 938e43b5a6a54b2389dda8d3dac7a56f
              name: 'Status of $2 Sensor "$1"'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.9.9.91.1.1.1.1.5.{#SNMPINDEX}'
              key: 'entSensorStatus["{#SNMPVALUE}",Amperage]'
              delay: '60'
              description: |
                CISCO-ENTITY-SENSOR-MIB::entSensorStatus
                
                This variable indicates the present operational status of the sensor.
              tags:
                -
                  tag: Application
                  value: 'Amperage Sensors'
              trigger_prototypes:
                -
                  uuid: ad218257c2b949eeb5093ea1032a215f
                  expression: 'last(/Cisco_ASR_1006/entSensorStatus["{#SNMPVALUE}",Amperage])=3'
                  name: 'Amperage Sensor "{#SNMPVALUE}" is nonoperational'
                  priority: HIGH
                -
                  uuid: 640edf65cb454132bd52cb5c5540ae59
                  expression: 'last(/Cisco_ASR_1006/entSensorStatus["{#SNMPVALUE}",Amperage])=2'
                  name: 'Amperage Sensor "{#SNMPVALUE}" is unavailable'
                  priority: AVERAGE
            -
              uuid: 0a238b7a12b64f6e91f1ba5bab280281
              name: '$2 of Sensor "$1"'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.9.9.91.1.1.1.1.4.{#SNMPINDEX}'
              key: 'entSensorValue["{#SNMPVALUE}",Amperage]'
              delay: '60'
              value_type: FLOAT
              units: A
              description: |
                CISCO-ENTITY-SENSOR-MIB::entSensorValue
                
                This variable reports the most recent measurement seen by the sensor.
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.000001'
              tags:
                -
                  tag: Application
                  value: 'Amperage Sensors'
        -
          uuid: 1fd9a9517d8a469faa776ec5883283ac
          name: '$1 Sensors'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},.1.3.6.1.2.1.47.1.1.1.1.7]'
          key: 'entPhysicalName[Module]'
          delay: '300'
          filter:
            conditions:
              -
                macro: '{#SNMPVALUE}'
                value: ^module
                formulaid: A
          lifetime: '0'
          description: 'The textual name of the physical entity.'
          item_prototypes:
            -
              uuid: d083fa8ad6d8442fae15e6ab60b12ae8
              name: 'Manufacturer of $2 "$1"'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.2.1.47.1.1.1.1.12.{#SNMPINDEX}'
              key: 'entPhysicalMfgName["{#SNMPVALUE}","Module"]'
              delay: '86400'
              trends: '0'
              value_type: CHAR
              description: |
                ENTITY-MIB::entPhysicalMfgName
                
                The name of the manufacturer of this physical component. The preferred value is the manufacturer name string actually printed on the component itself (if present).
              tags:
                -
                  tag: Application
                  value: Modules
            -
              uuid: 0b3087a3de534ebcab6705578811c892
              name: 'Model Name of $2 "$1"'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.2.1.47.1.1.1.1.13.{#SNMPINDEX}'
              key: 'entPhysicalModelName["{#SNMPVALUE}","Module"]'
              delay: '86400'
              trends: '0'
              value_type: CHAR
              description: |
                ENTITY-MIB::entPhysicalModelName
                
                The vendor-specific model name identifier string associated with this physical component.  The preferred value is the customer-visible part number, which may be printed on the component itself.
              tags:
                -
                  tag: Application
                  value: Modules
            -
              uuid: e2a8130d5d5e4bc682e58bb919624868
              name: 'Serial Number of $2 "$1"'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.2.1.47.1.1.1.1.11.{#SNMPINDEX}'
              key: 'entPhysicalSerialNum["{#SNMPVALUE}","Module"]'
              delay: '3600'
              trends: '0'
              value_type: CHAR
              description: |
                ENTITY-MIB::entPhysicalSerialNum
                
                The vendor-specific serial number string for the physical entity. The preferred value is the serial number string actually printed on the component itself (if present).
              tags:
                -
                  tag: Application
                  value: Modules
            -
              uuid: bbb9d0275b4a4d15a5227cb0145d7eee
              name: 'Operational Status of $2 "$1"'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.2.1.131.1.1.1.3.{#SNMPINDEX}'
              key: 'entStateOper["{#SNMPVALUE}","Module"]'
              delay: '60'
              description: |
                ENTITY-STATE-MIB::entStateOper
                
                The operational state for this entity.
              tags:
                -
                  tag: Application
                  value: Modules
              trigger_prototypes:
                -
                  uuid: f8694e6a08bc46d0be8a19594ee1079c
                  expression: 'last(/Cisco_ASR_1006/entStateOper["{#SNMPVALUE}","Module"])=2'
                  name: 'Module "{#SNMPVALUE}" is inoperable'
                  priority: DISASTER
        -
          uuid: ef84d13855754b2ba3163a0f166de007
          name: '$1 Sensors (3)'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},.1.3.6.1.2.1.47.1.1.1.1.7]'
          key: 'entPhysicalName[Temperature,3]'
          delay: '300'
          filter:
            conditions:
              -
                macro: '{#SNMPVALUE}'
                value: 'Temperature Sensor$'
                formulaid: A
          lifetime: '0'
          description: 'The textual name of the physical entity.'
          item_prototypes:
            -
              uuid: 90bf4dcd17be46aba7cfab2a1c02cc54
              name: 'Status of $2 Sensor "$1"'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.9.9.91.1.1.1.1.5.{#SNMPINDEX}'
              key: 'entSensorStatus["{#SNMPVALUE}",Temperature,3]'
              delay: '60'
              description: |
                CISCO-ENTITY-SENSOR-MIB::entSensorStatus
                
                This variable indicates the present operational status of the sensor.
              tags:
                -
                  tag: Application
                  value: Temperature
              trigger_prototypes:
                -
                  uuid: 1a90098a3a0a4137b655453b4fc7e489
                  expression: 'last(/Cisco_ASR_1006/entSensorStatus["{#SNMPVALUE}",Temperature,3])=3'
                  name: 'Temperature Sensor "{#SNMPVALUE}" is nonoperational'
                  priority: HIGH
                -
                  uuid: 7aea1dcfbf4b42229ab397cb0d47fa70
                  expression: 'last(/Cisco_ASR_1006/entSensorStatus["{#SNMPVALUE}",Temperature,3])=2'
                  name: 'Temperature Sensor "{#SNMPVALUE}" is unavailable'
                  priority: AVERAGE
            -
              uuid: aee5090d98cf4bcfbd55d4e5f82a297e
              name: '$2 on Sensor "$1"'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.9.9.91.1.1.1.1.4.{#SNMPINDEX}'
              key: 'entSensorValue["{#SNMPVALUE}",Temperature,3]'
              delay: '60'
              value_type: FLOAT
              units: °C
              description: |
                CISCO-ENTITY-SENSOR-MIB::entSensorValue
                
                This variable reports the most recent measurement seen by the sensor.
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.001'
              tags:
                -
                  tag: Application
                  value: Temperature
        -
          uuid: 690353f0ec02441f8c3e4b07b93fdb83
          name: '$1 Sensors'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},.1.3.6.1.2.1.47.1.1.1.1.7]'
          key: 'entPhysicalName[Temperature]'
          delay: '300'
          filter:
            conditions:
              -
                macro: '{#SNMPVALUE}'
                value: '^Temp\:'
                formulaid: A
          lifetime: '0'
          description: 'The textual name of the physical entity.'
          item_prototypes:
            -
              uuid: b8bf7719f6fd40179786bab0f573408a
              name: 'Status of $2 Sensor "$1"'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.9.9.91.1.1.1.1.5.{#SNMPINDEX}'
              key: 'entSensorStatus["{#SNMPVALUE}",Temperature]'
              delay: '60'
              description: |
                CISCO-ENTITY-SENSOR-MIB::entSensorStatus
                
                This variable indicates the present operational status of the sensor.
              tags:
                -
                  tag: Application
                  value: Temperature
              trigger_prototypes:
                -
                  uuid: 3697e0cf4d0f4bc4aec6c989fdecefae
                  expression: 'last(/Cisco_ASR_1006/entSensorStatus["{#SNMPVALUE}",Temperature])=3'
                  name: 'Temperature Sensor "{#SNMPVALUE}" is nonoperational'
                  priority: HIGH
                -
                  uuid: b6058fa6bf08443bb4190fcc7ec043d5
                  expression: 'last(/Cisco_ASR_1006/entSensorStatus["{#SNMPVALUE}",Temperature])=2'
                  name: 'Temperature Sensor "{#SNMPVALUE}" is unavailable'
                  priority: AVERAGE
            -
              uuid: 59a33bbaf38c4cdbb8a6d4e22227dd06
              name: '$2 on Sensor "$1"'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.9.9.91.1.1.1.1.4.{#SNMPINDEX}'
              key: 'entSensorValue["{#SNMPVALUE}",Temperature]'
              delay: '60'
              value_type: FLOAT
              units: °C
              description: |
                CISCO-ENTITY-SENSOR-MIB::entSensorValue
                
                This variable reports the most recent measurement seen by the sensor.
              tags:
                -
                  tag: Application
                  value: Temperature
        -
          uuid: 666a98a1534d46469a533b74027c81e6
          name: '$1 Sensors'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},.1.3.6.1.2.1.47.1.1.1.1.7]'
          key: 'entPhysicalName[Voltage]'
          delay: '300'
          filter:
            conditions:
              -
                macro: '{#SNMPVALUE}'
                value: voltage
                formulaid: A
          lifetime: '0'
          description: 'The textual name of the physical entity.'
          item_prototypes:
            -
              uuid: 1189baa4f74041e985dddf25f28e418d
              name: 'Status of $2 Sensor "$1"'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.9.9.91.1.1.1.1.5.{#SNMPINDEX}'
              key: 'entSensorStatus["{#SNMPVALUE}",Voltage]'
              delay: '60'
              description: |
                CISCO-ENTITY-SENSOR-MIB::entSensorStatus
                
                This variable indicates the present operational status of the sensor.
              tags:
                -
                  tag: Application
                  value: 'Voltage Sensors'
              trigger_prototypes:
                -
                  uuid: 2811ec38c7e84b71bc488a4fd46c34f4
                  expression: 'last(/Cisco_ASR_1006/entSensorStatus["{#SNMPVALUE}",Voltage])=3'
                  name: 'Voltage Sensor "{#SNMPVALUE}" is nonoperational'
                  priority: HIGH
                -
                  uuid: 41ce2c209e7b4052ad3d9fc2fae19ced
                  expression: 'last(/Cisco_ASR_1006/entSensorStatus["{#SNMPVALUE}",Voltage])=2'
                  name: 'Voltage Sensor "{#SNMPVALUE}" is unavailable'
                  priority: AVERAGE
            -
              uuid: de19a7e4d9504492b008ea796c197eb6
              name: '$2 on Sensor "$1"'
              type: SNMP_AGENT
              snmp_oid: '.1.3.6.1.4.1.9.9.91.1.1.1.1.4.{#SNMPINDEX}'
              key: 'entSensorValue["{#SNMPVALUE}",Voltage]'
              delay: '60'
              value_type: FLOAT
              units: V
              description: |
                CISCO-ENTITY-SENSOR-MIB::entSensorValue
                
                This variable reports the most recent measurement seen by the sensor.
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.001'
              tags:
                -
                  tag: Application
                  value: 'Voltage Sensors'
    -
      uuid: aaf832cd9bb244afbadf7dd283fa0ca1
      template: 'Template Cisco General'
      name: 'Template Cisco General'
      groups:
        -
          name: 'Templates SNMP Devices'
      discovery_rules:
        -
          uuid: d8a4d8de88734cd5973dae0b4d323d1f
          name: 'BGP Peers'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},.1.3.6.1.2.1.15.3.1.1]'
          key: bgpPeerIdentifier
          delay: '300'
          lifetime: '0'
          description: 'BGP4-MIB::bgpPeerIdentifier'
          item_prototypes:
            -
              uuid: 06cb527e41d84c4cbb5d670187523709
              name: 'BGP Peer "{#SNMPINDEX}" State'
              type: SNMP_TRAP
              key: 'snmptrap["(bgpBackwardTransition|cbgpFsmStateChange).*bgpPeerState\.{#SNMPINDEX}[[:space:]][a-zA-Z]+[[:space:]]"]'
              delay: '0'
              history: 5d
              trends: '0'
              value_type: LOG
              logtimefmt: yyyyMMdd.hhmmss
              tags:
                -
                  tag: Application
                  value: 'BGP Peers'
              trigger_prototypes:
                -
                  uuid: 31c73d1b6f804813a347863db837bd53
                  expression: 'nodata(/Template Cisco General/snmptrap["(bgpBackwardTransition|cbgpFsmStateChange).*bgpPeerState\.{#SNMPINDEX}[[:space:]][a-zA-Z]+[[:space:]]"],10m)=0'
                  name: 'BGP Peer "{#SNMPINDEX}"->"{#SNMPVALUE}" State changed'
                  priority: AVERAGE
            -
              uuid: 3d637feb8dee4df8b9ef5674e9a3ea39
              name: 'BGP Peer "{#SNMPINDEX}" State'
              type: SNMP_TRAP
              key: 'snmptrap["(bgpEstablished|bgpBackwardTransition|cbgpFsmStateChange).*bgpPeerState\.{#SNMPINDEX}[[:space:]][a-zA-Z]+[[:space:]]"]'
              delay: '0'
              history: 5d
              trends: '0'
              value_type: LOG
              logtimefmt: yyyyMMdd.hhmmss
              tags:
                -
                  tag: Application
                  value: 'BGP Peers'
              trigger_prototypes:
                -
                  uuid: 70cdd15c1792488fb69fce4ddbc192a4
                  expression: 'nodata(/Template Cisco General/snmptrap["(bgpEstablished|bgpBackwardTransition|cbgpFsmStateChange).*bgpPeerState\.{#SNMPINDEX}[[:space:]][a-zA-Z]+[[:space:]]"],10m)=0'
                  name: 'BGP Peer "{#SNMPINDEX}"->"{#SNMPVALUE}" State changed'
                  priority: AVERAGE
        -
          uuid: b976e273329844f2a50cb32699b62504
          name: 'OSPF Interfaces'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},.1.3.6.1.2.1.14.7.1.1]'
          key: ospfIfIpAddress
          delay: '300'
          lifetime: '0'
          description: |
            OSPF-MIB::ospfIfIpAddress
            
            The IP address of this OSPF interface.
          item_prototypes:
            -
              uuid: f9d9e6fc1d6a448e83083a2bb10a2375
              name: 'OSPF Interface "{SNMPVALUE}" State'
              type: SNMP_TRAP
              key: 'snmptrap["ospfIfStateChange.+ospfIfIpAddress[[:space:]]{#SNMPVALUE}[[:space:]].+ospfIfState[[:space:]][a-zA-Z]+"]'
              delay: '0'
              history: 5d
              trends: '0'
              value_type: LOG
              logtimefmt: yyyyMMdd.hhmmss
              tags:
                -
                  tag: Application
                  value: 'OSPF Interfaces'
              trigger_prototypes:
                -
                  uuid: a5939ae9503d42dba1e92cabe9149ade
                  expression: 'nodata(/Template Cisco General/snmptrap["ospfIfStateChange.+ospfIfIpAddress[[:space:]]{#SNMPVALUE}[[:space:]].+ospfIfState[[:space:]][a-zA-Z]+"],10m)=0'
                  name: 'OSPF Interface "{#SNMPVALUE}" State has been changed'
                  priority: AVERAGE
        -
          uuid: 288da292e4514a67bb8ee9bbd5ca44f3
          name: 'OSPF Neighbors'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},.1.3.6.1.2.1.14.10.1.1]'
          key: ospfNbrIpAddr
          delay: '300'
          lifetime: '0'
          description: |
            OSPF-MIB::ospfNbrIpAddr
            
            
            The IP address this neighbor is using in its IP source address.  Note that, on addressless links, this will not be 0.0.0.0 but the address of another of the neighbor's interfaces.
          item_prototypes:
            -
              uuid: 20b1bf6660e649a9bb6702942e7199a3
              name: 'OSPF "{#SNMPVALUE}" Neighbour State'
              type: SNMP_TRAP
              key: 'snmptrap["(ospfNbrStateChange).*ospfNbrIpAddr[[:space:]]{#SNMPVALUE}[[:space:]].*[[:space:]][a-zA-Z]+[[:space:]]$"]'
              delay: '0'
              history: 5d
              trends: '0'
              value_type: LOG
              logtimefmt: yyyyMMdd.hhmmss
              tags:
                -
                  tag: Application
                  value: 'OSPF Neighbor States'
              trigger_prototypes:
                -
                  uuid: de9dfb7aff8b47408308d721e93b9339
                  expression: 'nodata(/Template Cisco General/snmptrap["(ospfNbrStateChange).*ospfNbrIpAddr[[:space:]]{#SNMPVALUE}[[:space:]].*[[:space:]][a-zA-Z]+[[:space:]]$"],10m)=0'
                  name: 'OSPF Neighbor {#SNMPVALUE} has been changed'
                  priority: AVERAGE
    -
      uuid: c8a076efd8704fb08209b260723a815a
      template: Template_Cisco_Traps
      name: Template_Cisco_Traps
      groups:
        -
          name: 'Templates SNMP Devices'
      items:
        -
          uuid: 9a06f3474b8d4f6e84e4a18a86563c90
          name: 'BGP Peer State'
          type: SNMP_TRAP
          key: 'snmptrap["bgpPeerState|cbgpPeer2State"]'
          delay: '0'
          trends: '0'
          status: DISABLED
          value_type: LOG
          description: |
            BGP4-MIB::bgpPeerState
            CISCO-BGP4-MIB::cbgpPeer2State
            
            The BGP peer connection state.
          logtimefmt: yyyyMMdd.hhmmss
          tags:
            -
              tag: Application
              value: 'SNMP Traps'
          triggers:
            -
              uuid: ad4f2147d05f4d2396273b53558aff42
              expression: 'count(/Template_Cisco_Traps/snmptrap["bgpPeerState|cbgpPeer2State"],10m,"like","idle")>0 and nodata(/Template_Cisco_Traps/snmptrap["bgpPeerState|cbgpPeer2State"],10m)=0'
              name: 'BGP Peer State is idle'
              priority: WARNING
        -
          uuid: 36dae3b28a26497cba03b42413a56d8f
          name: 'Source of Command'
          type: SNMP_TRAP
          key: 'snmptrap["ccmHistoryEventCommandSource"]'
          delay: '0'
          history: '0'
          trends: '0'
          value_type: LOG
          logtimefmt: yyyyMMdd.hhmmss
          tags:
            -
              tag: Application
              value: 'SNMP Traps'
        -
          uuid: 727e514ddf2b457bbe85d922629d805f
          name: 'BFD Sessions'
          type: SNMP_TRAP
          key: 'snmptrap["ciscoBfdSess(Up|Down)"]'
          delay: '0'
          history: 5d
          trends: '0'
          value_type: LOG
          description: 'CISCO-IETF-BFD-MIB::ciscoBfdSessDown and ciscoBfdSessUp'
          logtimefmt: yyyyMMdd.hhmmss
          tags:
            -
              tag: Application
              value: 'SNMP Traps'
        -
          uuid: 0748431bfab5483aa2f76e7adba5da11
          name: 'Attack Filter changes'
          type: SNMP_TRAP
          key: 'snmptrap["cscaFilterChange"]'
          delay: '0'
          history: '0'
          trends: '0'
          value_type: LOG
          description: 'The system generates this notification to indicate that the cscaFilterStatus of the attack filter for cscaType has changed due to the reason determined by cscaDescription. The system limits the generation of this notifications for the same cscaType to a five-second interval.'
          logtimefmt: yyyyMMdd.hhmmss
          tags:
            -
              tag: Application
              value: 'SNMP Traps'
        -
          uuid: 4799ea7a51bf467b946d08d0dfbd20a4
          name: 'Status of Attack Filter'
          type: SNMP_TRAP
          key: 'snmptrap["cscaFilterStatus"]'
          delay: '0'
          history: '0'
          trends: '0'
          value_type: LOG
          logtimefmt: yyyyMMdd.hhmmss
          tags:
            -
              tag: Application
              value: 'SNMP Traps'
        -
          uuid: 3aaa748a254a46e1b98a6411675ad784
          name: 'SSH Sessions'
          type: SNMP_TRAP
          key: 'snmptrap["cssSessionHostAddr"]'
          delay: '0'
          history: 5d
          trends: '0'
          value_type: LOG
          description: 'CISCO-SECURE-SHELL-MIB::cssSessionHostAddr'
          logtimefmt: yyyyMMdd.hhmmss
          tags:
            -
              tag: Application
              value: 'SNMP Traps'
        -
          uuid: 26d14d78c9994c7eab1101a410f3dcec
          name: 'MPLS L3 State'
          type: SNMP_TRAP
          key: 'snmptrap["mplsL3VpnVrf[Up|Down]"]'
          delay: '0'
          trends: '0'
          value_type: LOG
          description: |
            MPLS-L3VPN-STD-MIB::mplsL3VpnVrfUp
            MPLS-L3VPN-STD-MIB::mplsL3VpnVrfDown
          logtimefmt: yyyyMMdd.hhmmss
          tags:
            -
              tag: Application
              value: 'SNMP Traps'
          triggers:
            -
              uuid: d272a7dd7fc94744ac188f00b0247980
              expression: 'find(/Template_Cisco_Traps/snmptrap["mplsL3VpnVrf[Up|Down]"],,"like","Down")=1'
              name: 'MPLS L3 is down'
              priority: AVERAGE
        -
          uuid: bd1cc9042b864ab1bb59b3cc3092e3a1
          name: 'OSPF Interface State'
          type: SNMP_TRAP
          key: 'snmptrap["ospfIfState"]'
          delay: '0'
          trends: '0'
          status: DISABLED
          value_type: LOG
          description: |
            OSPF-MIB::ospfIfState
            
            The OSPF Interface State.
          logtimefmt: yyyyMMdd.hhmmss
          tags:
            -
              tag: Application
              value: 'SNMP Traps'
          triggers:
            -
              uuid: 04c51014d65c4376950504bbbfb57733
              expression: 'count(/Template_Cisco_Traps/snmptrap["ospfIfState"],10m,"like","down")>0 and nodata(/Template_Cisco_Traps/snmptrap["ospfIfState"],10m)=0'
              name: 'OSPF Interface State is down'
              priority: WARNING
            -
              uuid: 7d4c396d908241d38cf6463bda2c1961
              expression: 'count(/Template_Cisco_Traps/snmptrap["ospfIfState"],10m,"like","loopback")>0 and nodata(/Template_Cisco_Traps/snmptrap["ospfIfState"],10m)=0'
              name: 'OSPF Interface State is loopback'
              priority: WARNING
            -
              uuid: d19b5f5cd3c946f2ac3c94dd0a0234e3
              expression: 'count(/Template_Cisco_Traps/snmptrap["ospfIfState"],10m,"like","waiting")>0 and nodata(/Template_Cisco_Traps/snmptrap["ospfIfState"],10m)=0'
              name: 'OSPF Interface State is waiting'
              priority: WARNING
        -
          uuid: e3b7631715f241cb92d120916eb487aa
          name: 'LSA aged to MaxAge'
          type: SNMP_TRAP
          key: 'snmptrap["ospfMaxAgeLsa"]'
          delay: '0'
          history: '0'
          trends: '0'
          value_type: LOG
          logtimefmt: yyyyMMdd.hhmmss
          tags:
            -
              tag: Application
              value: 'SNMP Traps'
        -
          uuid: 30b40030d93b4f9780ea5de6c0cf8c06
          name: 'OSPF neighbour state'
          type: SNMP_TRAP
          key: 'snmptrap["ospfNbrStateChange.*ospfNbrState[[:space:]]"]'
          delay: '0'
          history: '0'
          trends: '0'
          status: DISABLED
          value_type: LOG
          description: |
            1 : down
            2 : attempt
            3 : init
            4 : twoWay
            5 : exchangeStart
            6 : exchange
            7 : loading
            8 : full
          logtimefmt: yyyyMMdd.hhmmss
          tags:
            -
              tag: Application
              value: 'SNMP Traps'
        -
          uuid: fd1e6c8201b14231b250413541927260
          name: 'LSA has been originated'
          type: SNMP_TRAP
          key: 'snmptrap["ospfOriginateLsa"]'
          delay: '0'
          history: 5d
          trends: '0'
          value_type: LOG
          description: 'OSPF-TRAP-MIB::ospfOriginateLsa'
          logtimefmt: yyyyMMdd.hhmmss
          tags:
            -
              tag: Application
              value: 'SNMP Traps'
        -
          uuid: 1f20791fdc3143f69ad60cf86d12034a
          name: 'OSP TX Retransmits'
          type: SNMP_TRAP
          key: 'snmptrap["ospfTxRetransmit"]'
          delay: '0'
          history: 1d
          trends: '0'
          value_type: LOG
          logtimefmt: yyyyMMdd.hhmmss
          tags:
            -
              tag: Application
              value: 'SNMP Traps'
          triggers:
            -
              uuid: ff1ceb1dbb594bbe8d9f33318ad5c656
              expression: 'count(/Template_Cisco_Traps/snmptrap["ospfTxRetransmit"],1h,"like","ospfTxRetransmit")>30 and nodata(/Template_Cisco_Traps/snmptrap["ospfTxRetransmit"],1h)=0'
              name: 'Many OSPF TX Retransmits'
              priority: WARNING
        -
          uuid: 876a5022458c46d9b73b7563b62fd685
          name: 'Type of remote session'
          type: SNMP_TRAP
          key: 'snmptrap["tslineSesType"]'
          delay: '0'
          history: '0'
          trends: '0'
          value_type: LOG
          logtimefmt: yyyyMMdd.hhmmss
          tags:
            -
              tag: Application
              value: 'SNMP Traps'
