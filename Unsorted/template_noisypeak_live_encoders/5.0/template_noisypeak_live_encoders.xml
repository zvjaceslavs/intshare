<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
  <version>5.0</version>
  <date>2021-10-22T10:56:45Z</date>
  <groups>
    <group>
      <name>Templates</name>
    </group>
  </groups>
  <templates>
    <template>
      <template>Noisypeak Live encoders</template>
      <name>Noisypeak Live encoders</name>
      <groups>
        <group>
          <name>Templates</name>
        </group>
      </groups>
      <applications>
        <application>
          <name>Live encoder</name>
        </application>
      </applications>
      <items>
        <item>
          <name>np.failedchannels</name>
          <type>HTTP_AGENT</type>
          <key>np.failedchannels</key>
          <delay>30s</delay>
          <applications>
            <application>
              <name>Live encoder</name>
            </application>
          </applications>
          <url>http://{HOST.IP}/api/1/monitoring/failedchannels</url>
          <triggers>
            <trigger>
              <expression>{last()}>0</expression>
              <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
              <recovery_expression>{last()}=0</recovery_expression>
              <name>Failed channels</name>
              <priority>HIGH</priority>
            </trigger>
          </triggers>
        </item>
        <item>
          <name>np.gpuloadsegmented</name>
          <type>HTTP_AGENT</type>
          <key>np.gpuloadsegmented</key>
          <delay>30s</delay>
          <units>%</units>
          <applications>
            <application>
              <name>Live encoder</name>
            </application>
          </applications>
          <url>http://{HOST.IP}/api/1/monitoring/gpuloadsegmented</url>
          <triggers>
            <trigger>
              <expression>{avg(3m)}>90</expression>
              <recovery_mode>RECOVERY_EXPRESSION</recovery_mode>
              <recovery_expression>{avg(3m)}&lt;90</recovery_expression>
              <name>NP GPU to HIGH</name>
              <priority>HIGH</priority>
              <manual_close>YES</manual_close>
            </trigger>
          </triggers>
        </item>
        <item>
          <name>np.inputbitrate</name>
          <type>HTTP_AGENT</type>
          <key>np.inputbitrate</key>
          <delay>30s</delay>
          <value_type>FLOAT</value_type>
          <units>Bps</units>
          <applications>
            <application>
              <name>Live encoder</name>
            </application>
          </applications>
          <url>http://{HOST.IP}/api/1/monitoring/inputbitrate</url>
        </item>
        <item>
          <name>np.outputbitrate</name>
          <type>HTTP_AGENT</type>
          <key>np.outputbitrate</key>
          <delay>30s</delay>
          <value_type>FLOAT</value_type>
          <units>Bps</units>
          <applications>
            <application>
              <name>Live encoder</name>
            </application>
          </applications>
          <url>http://{HOST.IP}/api/1/monitoring/outputbitrate</url>
        </item>
        <item>
          <name>np.totalchannels</name>
          <type>HTTP_AGENT</type>
          <key>np.totalchannels</key>
          <delay>30s</delay>
          <applications>
            <application>
              <name>Live encoder</name>
            </application>
          </applications>
          <url>http://{HOST.IP}/api/1/monitoring/totalchannels</url>
        </item>
        <item>
          <name>np.transcodingchannels</name>
          <type>HTTP_AGENT</type>
          <key>np.transcodingchannels</key>
          <delay>30s</delay>
          <applications>
            <application>
              <name>Live encoder</name>
            </application>
          </applications>
          <url>http://{HOST.IP}/api/1/monitoring/transcodingchannels</url>
        </item>
      </items>
    </template>
  </templates>
  <graphs>
    <graph>
      <name>NP GPU load</name>
      <ymin_type_1>FIXED</ymin_type_1>
      <ymax_type_1>FIXED</ymax_type_1>
      <graph_items>
        <graph_item>
          <color>199C0D</color>
          <item>
            <host>Noisypeak Live encoders</host>
            <key>np.gpuloadsegmented</key>
          </item>
        </graph_item>
      </graph_items>
    </graph>
    <graph>
      <name>NP InputBitrate</name>
      <ymin_type_1>FIXED</ymin_type_1>
      <ymax_type_1>FIXED</ymax_type_1>
      <graph_items>
        <graph_item>
          <color>199C0D</color>
          <item>
            <host>Noisypeak Live encoders</host>
            <key>np.inputbitrate</key>
          </item>
        </graph_item>
      </graph_items>
    </graph>
    <graph>
      <name>NP OutputBitrate</name>
      <ymin_type_1>FIXED</ymin_type_1>
      <ymax_type_1>FIXED</ymax_type_1>
      <graph_items>
        <graph_item>
          <color>199C0D</color>
          <item>
            <host>Noisypeak Live encoders</host>
            <key>np.outputbitrate</key>
          </item>
        </graph_item>
      </graph_items>
    </graph>
  </graphs>
</zabbix_export>